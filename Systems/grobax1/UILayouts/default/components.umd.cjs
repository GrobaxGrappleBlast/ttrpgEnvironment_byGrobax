(function(T,ne){typeof exports=="object"&&typeof module<"u"?module.exports=ne():typeof define=="function"&&define.amd?define(ne):(T=typeof globalThis<"u"?globalThis:T||self,T["<<name>>"]=ne())})(this,function(){"use strict";var Vi=Object.defineProperty;var Ti=(T,ne,ve)=>ne in T?Vi(T,ne,{enumerable:!0,configurable:!0,writable:!0,value:ve}):T[ne]=ve;var O=(T,ne,ve)=>Ti(T,typeof ne!="symbol"?ne+"":ne,ve);function T(){}const ne=n=>n;function ve(n){return n()}function rt(){return Object.create(null)}function z(n){n.forEach(ve)}function Be(n){return typeof n=="function"}function ie(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function fn(n){return Object.keys(n).length===0}function ot(n,...e){if(n==null){for(const i of e)i(void 0);return T}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function X(n){let e;return ot(n,t=>e=t)(),e}function Oe(n,e,t){n.$$.on_destroy.push(ot(e,t))}function dt(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const ut=typeof window<"u";let ft=ut?()=>window.performance.now():()=>Date.now(),ze=ut?n=>requestAnimationFrame(n):T;const De=new Set;function ct(n){De.forEach(e=>{e.c(n)||(De.delete(e),e.f())}),De.size!==0&&ze(ct)}function ht(n){let e;return De.size===0&&ze(ct),{promise:new Promise(t=>{De.add(e={c:n,f:t})}),abort(){De.delete(e)}}}function b(n,e){n.appendChild(e)}function gt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function cn(n){const e=y("style");return e.textContent="/* empty */",hn(gt(n),e),e.sheet}function hn(n,e){return b(n.head||n,e),e.sheet}function N(n,e,t){n.insertBefore(e,t||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function Ve(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function G(n){return document.createTextNode(n)}function H(){return G(" ")}function gn(){return G("")}function U(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Te(n){return n===""?null:+n}function _n(n){return Array.from(n.childNodes)}function ue(n,e){e=""+e,n.data!==e&&(n.data=e)}function me(n,e){n.value=e??""}function _t(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function mt(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function mn(n){const e={};return n.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}const Ue=new Map;let Pe=0;function pn(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function vn(n,e){const t={stylesheet:cn(e),rules:{}};return Ue.set(n,t),t}function Ye(n,e,t,i,s,a,l,r=0){const o=16.666/i;let d=`{
`;for(let p=0;p<=1;p+=o){const v=e+(t-e)*a(p);d+=p*100+`%{${l(v,1-v)}}
`}const u=d+`100% {${l(t,1-t)}}
}`,h=`__svelte_${pn(u)}_${r}`,f=gt(n),{stylesheet:_,rules:g}=Ue.get(f)||vn(f,n);g[h]||(g[h]=!0,_.insertRule(`@keyframes ${h} ${u}`,_.cssRules.length));const $=n.style.animation||"";return n.style.animation=`${$?`${$}, `:""}${h} ${i}ms linear ${s}ms 1 both`,Pe+=1,h}function pt(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),Pe-=s,Pe||bn())}function bn(){ze(()=>{Pe||(Ue.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&R(e)}),Ue.clear())})}function Ge(n,e,t,i){if(!e)return T;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return T;const{delay:a=0,duration:l=300,easing:r=ne,start:o=ft()+a,end:d=o+l,tick:u=T,css:h}=t(n,{from:e,to:s},i);let f=!0,_=!1,g;function $(){h&&(g=Ye(n,0,1,l,a,r,h)),a||(_=!0)}function p(){h&&pt(n,g),f=!1}return ht(v=>{if(!_&&v>=o&&(_=!0),_&&v>=d&&(u(1,0),p()),!f)return!1;if(_){const E=v-o,m=0+1*r(E/l);u(m,1-m)}return!0}),$(),u(0,1),p}function We(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,He(n,s)}}function He(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Le;function Ee(n){Le=n}function Qe(){if(!Le)throw new Error("Function called outside component initialization");return Le}function ke(n){Qe().$$.on_mount.push(n)}function Ae(n){Qe().$$.on_destroy.push(n)}function Xe(){const n=Qe();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const a=mt(e,t,{cancelable:i});return s.slice().forEach(l=>{l.call(n,a)}),!a.defaultPrevented}return!0}}function be(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Ie=[],se=[];let Me=[];const Ze=[],yn=Promise.resolve();let xe=!1;function $n(){xe||(xe=!0,yn.then(L))}function ae(n){Me.push(n)}function ye(n){Ze.push(n)}const et=new Set;let Se=0;function L(){if(Se!==0)return;const n=Le;do{try{for(;Se<Ie.length;){const e=Ie[Se];Se++,Ee(e),wn(e.$$)}}catch(e){throw Ie.length=0,Se=0,e}for(Ee(null),Ie.length=0,Se=0;se.length;)se.pop()();for(let e=0;e<Me.length;e+=1){const t=Me[e];et.has(t)||(et.add(t),t())}Me.length=0}while(Ie.length);for(;Ze.length;)Ze.pop()();xe=!1,et.clear(),Ee(n)}function wn(n){if(n.fragment!==null){n.update(),z(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ae)}}function Dn(n){const e=[],t=[];Me.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Me=e}let Re;function kn(){return Re||(Re=Promise.resolve(),Re.then(()=>{Re=null})),Re}function tt(n,e,t){n.dispatchEvent(mt(`${e?"intro":"outro"}${t}`))}const je=new Set;let he;function fe(){he={r:0,c:[],p:he}}function ce(){he.r||z(he.c),he=he.p}function B(n,e){n&&n.i&&(je.delete(n),n.i(e))}function j(n,e,t,i){if(n&&n.o){if(je.has(n))return;je.add(n),he.c.push(()=>{je.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const In={duration:0};function Y(n,e,t,i){let a=e(n,t,{direction:"both"}),l=i?0:1,r=null,o=null,d=null,u;function h(){d&&pt(n,d)}function f(g,$){const p=g.b-l;return $*=Math.abs(p),{a:l,b:g.b,d:p,duration:$,start:g.start,end:g.start+$,group:g.group}}function _(g){const{delay:$=0,duration:p=300,easing:v=ne,tick:E=T,css:m}=a||In,k={start:ft()+$,b:g};g||(k.group=he,he.r+=1),"inert"in n&&(g?u!==void 0&&(n.inert=u):(u=n.inert,n.inert=!0)),r||o?o=k:(m&&(h(),d=Ye(n,l,g,p,$,v,m)),g&&E(0,1),r=f(k,p),ae(()=>tt(n,g,"start")),ht(D=>{if(o&&D>o.start&&(r=f(o,p),o=null,tt(n,r.b,"start"),m&&(h(),d=Ye(n,l,r.b,r.duration,0,v,a.css))),r){if(D>=r.end)E(l=r.b,1-l),tt(n,r.b,"end"),o||(r.b?h():--r.group.r||z(r.group.c)),r=null;else if(D>=r.start){const A=D-r.start;l=r.a+r.d*v(A/r.duration),E(l,1-l)}}return!!(r||o)}))}return{run(g){Be(a)?kn().then(()=>{a=a({direction:g?"in":"out"}),_(g)}):_(g)},end(){h(),r=o=null}}}function Z(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Mn(n,e){n.d(1),e.delete(n.key)}function Sn(n,e){j(n,1,1,()=>{e.delete(n.key)})}function nt(n,e){n.f(),Sn(n,e)}function Ke(n,e,t,i,s,a,l,r,o,d,u,h){let f=n.length,_=a.length,g=f;const $={};for(;g--;)$[n[g].key]=g;const p=[],v=new Map,E=new Map,m=[];for(g=_;g--;){const K=h(s,a,g),J=t(K);let S=l.get(J);S?m.push(()=>S.p(K,e)):(S=d(J,K),S.c()),v.set(J,p[g]=S),J in $&&E.set(J,Math.abs(g-$[J]))}const k=new Set,D=new Set;function A(K){B(K,1),K.m(r,u),l.set(K.key,K),u=K.first,_--}for(;f&&_;){const K=p[_-1],J=n[f-1],S=K.key,w=J.key;K===J?(u=K.first,f--,_--):v.has(w)?!l.has(S)||k.has(S)?A(K):D.has(w)?f--:E.get(S)>E.get(w)?(D.add(S),A(K)):(k.add(w),f--):(o(J,l),f--)}for(;f--;){const K=n[f];v.has(K.key)||o(K,l)}for(;_;)A(p[_-1]);return z(m),p}function $e(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function x(n){n&&n.c()}function W(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),ae(()=>{const a=n.$$.on_mount.map(ve).filter(Be);n.$$.on_destroy?n.$$.on_destroy.push(...a):z(a),n.$$.on_mount=[]}),s.forEach(ae)}function Q(n,e){const t=n.$$;t.fragment!==null&&(Dn(t.after_update),z(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Cn(n,e){n.$$.dirty[0]===-1&&(Ie.push(n),$n(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function re(n,e,t,i,s,a,l=null,r=[-1]){const o=Le;Ee(n);const d=n.$$={fragment:null,ctx:[],props:a,update:T,not_equal:s,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:rt(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};l&&l(d.root);let u=!1;if(d.ctx=t?t(n,e.props||{},(h,f,..._)=>{const g=_.length?_[0]:f;return d.ctx&&s(d.ctx[h],d.ctx[h]=g)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](g),u&&Cn(n,h)),f}):[],d.update(),u=!0,z(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const h=_n(e.target);d.fragment&&d.fragment.l(h),h.forEach(R)}else d.fragment&&d.fragment.c();e.intro&&B(n.$$.fragment),W(n,e.target,e.anchor),L()}Ee(o)}let vt;typeof HTMLElement=="function"&&(vt=class extends HTMLElement{constructor(e,t,i){super();O(this,"$$ctor");O(this,"$$s");O(this,"$$c");O(this,"$$cn",!1);O(this,"$$d",{});O(this,"$$r",!1);O(this,"$$p_d",{});O(this,"$$l",{});O(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,i&&this.attachShadow({mode:"open"})}addEventListener(e,t,i){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const s=this.$$c.$on(e,t);this.$$l_u.set(t,s)}super.addEventListener(e,t,i)}removeEventListener(e,t,i){if(super.removeEventListener(e,t,i),this.$$c){const s=this.$$l_u.get(t);s&&(s(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let l;return{c:function(){l=y("slot"),a!=="default"&&c(l,"name",a)},m:function(d,u){N(d,l,u)},d:function(d){d&&R(l)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},i=mn(this);for(const a of this.$$s)a in i&&(t[a]=[e(a)]);for(const a of this.attributes){const l=this.$$g_p(a.name);l in this.$$d||(this.$$d[l]=Fe(l,a.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){const l=Fe(a,this.$$d[a],this.$$p_d,"toAttribute");l==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,l)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const a in this.$$l)for(const l of this.$$l[a]){const r=this.$$c.$on(a,l);this.$$l_u.set(l,r)}this.$$l={}}}attributeChangedCallback(e,t,i){var s;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Fe(e,i,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Fe(n,e,t,i){var a;const s=(a=t[n])==null?void 0:a.type;if(e=s==="Boolean"&&typeof e!="boolean"?e!=null:e,!i||!t[n])return e;if(i==="toAttribute")switch(s){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function oe(n,e,t,i,s,a){let l=class extends vt{constructor(){super(n,t,s),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(r=>(e[r].attribute||r).toLowerCase())}};return Object.keys(e).forEach(r=>{Object.defineProperty(l.prototype,r,{get(){return this.$$c&&r in this.$$c?this.$$c[r]:this.$$d[r]},set(o){var d;o=Fe(r,o,e),this.$$d[r]=o,(d=this.$$c)==null||d.$set({[r]:o})}})}),i.forEach(r=>{Object.defineProperty(l.prototype,r,{get(){var o;return(o=this.$$c)==null?void 0:o[r]}})}),n.element=l,l}class de{constructor(){O(this,"$$");O(this,"$$set")}$destroy(){Q(this,1),this.$destroy=T}$on(e,t){if(!Be(t))return T;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!fn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const On="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(On);class Ln{constructor(){O(this,"keyCounter",0)}getNewKey(){return(this.keyCounter++).toString(16)}}var ge=new Ln;class it{constructor(e="NONE",t="{}"){O(this,"id");O(this,"type");O(this,"data");this.id=ge.getNewKey(),this.type=e,this.data=JSON.parse(t)}}class bt{constructor(e=[]){O(this,"id");O(this,"data",[]);this.id=ge.getNewKey(),this.data=[],e.forEach(t=>{t!=null&&t.data&&t.type?this.data.push(new it(t.type,t.data)):this.data.push(new it)})}addItem(){this.data.push(new it)}remItem(e){let t=this.data.findIndex(i=>i.id==e);if(t==-1){console.error("cant remove column, since id is not present in data");return}this.data.splice(t,1)}}class yt{constructor(e=[]){O(this,"id");O(this,"data",[]);this.id=ge.getNewKey(),this.data=[],e.forEach(t=>{this.data.push(new bt(t.data))})}addColumn(){this.data.push(new bt)}remColumn(e){let t=this.data.findIndex(i=>i.id==e);if(t==-1){console.error("cant remove column, since id is not present in data");return}this.data.splice(t,1)}}class En{constructor(e){O(this,"id");O(this,"data",[]);this.id=ge.getNewKey(),this.data=[],e.forEach(t=>{t.data&&this.data.push(new yt(t.data))})}addRow(){this.data.push(new yt)}remRow(e){let t=this.data.findIndex(i=>i.id==e);if(t==-1){console.error("cant remove Row, since id is not present in data");return}this.data.splice(t,1)}}const Ce=[];function Ne(n,e=T){let t;const i=new Set;function s(r){if(ie(n,r)&&(n=r,t)){const o=!Ce.length;for(const d of i)d[1](),Ce.push(d,n);if(o){for(let d=0;d<Ce.length;d+=2)Ce[d][0](Ce[d+1]);Ce.length=0}}}function a(r){s(r(n))}function l(r,o=T){const d=[r,o];return i.add(d),i.size===1&&(t=e(s,a)||T),r(n),()=>{i.delete(d),i.size===0&&t&&(t(),t=null)}}return{set:s,update:a,subscribe:l}}function st(n){const e=n-1;return e*e*e+1}function qe(n,{delay:e=0,duration:t=400,easing:i=ne}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:a=>`opacity: ${a*s}`}}function $t(n,{delay:e=0,duration:t=400,easing:i=st,x:s=0,y:a=0,opacity:l=0}={}){const r=getComputedStyle(n),o=+r.opacity,d=r.transform==="none"?"":r.transform,u=o*(1-l),[h,f]=dt(s),[_,g]=dt(a);return{delay:e,duration:t,easing:i,css:($,p)=>`
			transform: ${d} translate(${(1-$)*h}${f}, ${(1-$)*_}${g});
			opacity: ${o-u*p}`}}function le(n,{delay:e=0,duration:t=400,easing:i=st,axis:s="y"}={}){const a=getComputedStyle(n),l=+a.opacity,r=s==="y"?"height":"width",o=parseFloat(a[r]),d=s==="y"?["top","bottom"]:["left","right"],u=d.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),h=parseFloat(a[`padding${u[0]}`]),f=parseFloat(a[`padding${u[1]}`]),_=parseFloat(a[`margin${u[0]}`]),g=parseFloat(a[`margin${u[1]}`]),$=parseFloat(a[`border${u[0]}Width`]),p=parseFloat(a[`border${u[1]}Width`]);return{delay:e,duration:t,easing:i,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*l};${r}: ${v*o}px;padding-${d[0]}: ${v*h}px;padding-${d[1]}: ${v*f}px;margin-${d[0]}: ${v*_}px;margin-${d[1]}: ${v*g}px;border-${d[0]}-width: ${v*$}px;border-${d[1]}-width: ${v*p}px;`}}var pe=(n=>(n.HitPoints="HitPoints",n.ProficiencyBonus="ProficiencyBonus",n.SkillProficiencies="SkillProficiencies",n.SpellInfo="SpellInfo",n.Stats="Stats",n))(pe||{});function An(n,{from:e,to:t},i={}){const s=getComputedStyle(n),a=s.transform==="none"?"":s.transform,[l,r]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*l/t.width-(t.left+l),d=e.top+e.height*r/t.height-(t.top+r),{delay:u=0,duration:h=_=>Math.sqrt(_)*120,easing:f=st}=i;return{delay:u,duration:Be(h)?h(Math.sqrt(o*o+d*d)):h,easing:f,css:(_,g)=>{const $=g*o,p=g*d,v=_+g*e.width/t.width,E=_+g*e.height/t.height;return`transform: ${a} translate(${$}px, ${p}px) scale(${v}, ${E});`}}}function wt(n,e,t){const i=n.slice();return i[23]=e[t],i}function Dt(n){let e,t=(n[0]==null?n[2]:n[0])+"",i,s,a,l,r,o;return{c(){e=y("div"),i=G(t),c(e,"class","GrobSelectLabel effect"),c(e,"data-isdisabled",s=n[3]??!1),c(e,"data-iserror",a=n[4]??!1),c(e,"data-selected",l=n[0]??!1),c(e,"tabindex","-1")},m(d,u){N(d,e,u),b(e,i),n[17](e),r||(o=[U(e,"focus",n[13]),U(e,"blur",n[14])],r=!0)},p(d,u){u&5&&t!==(t=(d[0]==null?d[2]:d[0])+"")&&ue(i,t),u&8&&s!==(s=d[3]??!1)&&c(e,"data-isdisabled",s),u&16&&a!==(a=d[4]??!1)&&c(e,"data-iserror",a),u&1&&l!==(l=d[0]??!1)&&c(e,"data-selected",l)},d(d){d&&R(e),n[17](null),r=!1,z(o)}}}function kt(n){let e,t,i,s,a,l=[],r=new Map,o,d,u,h,f,_,g=Z(n[1]);const $=v=>v[23];for(let v=0;v<g.length;v+=1){let E=wt(n,g,v),m=$(E);r.set(m,l[v]=It(m,E))}let p=n[1].length==0&&Mt();return{c(){var v,E,m,k;e=y("div"),t=y("div"),i=y("div"),a=H();for(let D=0;D<l.length;D+=1)l[D].c();o=H(),p&&p.c(),d=H(),u=y("div"),c(i,"class","Arrow"),c(i,"style",s=`left:${n[12]}px`),c(t,"class","ArrowContainer"),c(u,"class","selectEndTracker"),c(e,"class","SelectPopUp"),c(e,"style",h="width:"+(((v=n[7])==null?void 0:v.width)??100)+"px;left: "+(((E=n[7])==null?void 0:E.x)??0)+"px;top: "+((((m=n[7])==null?void 0:m.y)??0)+(((k=n[7])==null?void 0:k.height)??0)+8)+"px;max-height:"+n[11]+"px")},m(v,E){N(v,e,E),b(e,t),b(t,i),n[18](t),b(e,a);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);b(e,o),p&&p.m(e,null),b(e,d),b(e,u),n[19](u),_=!0},p(v,E){var m,k,D,A;(!_||E&4096&&s!==(s=`left:${v[12]}px`))&&c(i,"style",s),E&32771&&(g=Z(v[1]),l=Ke(l,E,$,1,v,g,r,e,Mn,It,o,wt)),v[1].length==0?p||(p=Mt(),p.c(),p.m(e,d)):p&&(p.d(1),p=null),(!_||E&2176&&h!==(h="width:"+(((m=v[7])==null?void 0:m.width)??100)+"px;left: "+(((k=v[7])==null?void 0:k.x)??0)+"px;top: "+((((D=v[7])==null?void 0:D.y)??0)+(((A=v[7])==null?void 0:A.height)??0)+8)+"px;max-height:"+v[11]+"px"))&&c(e,"style",h)},i(v){_||(v&&ae(()=>{_&&(f||(f=Y(e,le,{},!0)),f.run(1))}),_=!0)},o(v){v&&(f||(f=Y(e,le,{},!1)),f.run(0)),_=!1},d(v){v&&R(e),n[18](null);for(let E=0;E<l.length;E+=1)l[E].d();p&&p.d(),n[19](null),v&&f&&f.end()}}}function It(n,e){let t,i=e[23]+"",s,a,l,r,o;return{key:n,first:null,c(){t=y("div"),s=G(i),c(t,"role","none"),c(t,"class","GrobSelectOption"),c(t,"data-selected",a=e[0]==e[23]),c(t,"data-value",l=e[23]),this.first=t},m(d,u){N(d,t,u),b(t,s),r||(o=[U(t,"click",e[15]),U(t,"keydown",e[15])],r=!0)},p(d,u){e=d,u&2&&i!==(i=e[23]+"")&&ue(s,i),u&3&&a!==(a=e[0]==e[23])&&c(t,"data-selected",a),u&2&&l!==(l=e[23])&&c(t,"data-value",l)},d(d){d&&R(t),r=!1,z(o)}}}function Mt(n){let e;return{c(){e=y("i"),e.textContent="No Options",c(e,"class","GrobSelectInfo")},m(t,i){N(t,e,i)},d(t){t&&R(e)}}}function Rn(n){let e,t=n[0],i,s,a=Dt(n),l=(n[8]||n[5])&&kt(n);return{c(){e=y("div"),a.c(),i=H(),s=y("div"),l&&l.c(),c(e,"class","GrobSelect")},m(r,o){N(r,e,o),a.m(e,null),b(e,i),b(e,s),l&&l.m(s,null)},p(r,[o]){o&1&&ie(t,t=r[0])?(a.d(1),a=Dt(r),a.c(),a.m(e,i)):a.p(r,o),r[8]||r[5]?l?(l.p(r,o),o&288&&B(l,1)):(l=kt(r),l.c(),B(l,1),l.m(s,null)):l&&(fe(),j(l,1,1,()=>{l=null}),ce())},i(r){B(l)},o(r){j(l)},d(r){r&&R(e),a.d(r),l&&l.d()}}}const Nn=100;function Bn(n,e,t){let i=Xe(),{options:s}=e,{selected:a=null}=e,{unSelectedplaceholder:l="None Selected"}=e,{disabled:r=!1}=e,{isError:o=!1}=e,{forceOpen:d=!1}=e,{maxHeight:u=500}=e,h,f,_=!1,g,$,p=u,v=0;function E(){const w=h.getBoundingClientRect();t(7,f=w),t(8,_=!0),A(),setTimeout(D,Nn)}function m(){setTimeout(()=>{t(8,_=!1)},200)}function k(w){let F=w.target.getAttribute("data-value");a==F?(t(0,a=null),i("onDeselect")):(t(0,a=F),i("onSelect",a))}function D(){let w=$.getBoundingClientRect().bottom,F=g.getBoundingClientRect().bottom,ee=window.document.body.getBoundingClientRect().height;if(F>ee){let te=F-ee,I=F-w-te;I<p&&t(11,p=I)}}function A(){let w=h.getBoundingClientRect().width;t(12,v=w/2)}function K(w){se[w?"unshift":"push"](()=>{h=w,t(6,h)})}function J(w){se[w?"unshift":"push"](()=>{$=w,t(10,$)})}function S(w){se[w?"unshift":"push"](()=>{g=w,t(9,g)})}return n.$$set=w=>{"options"in w&&t(1,s=w.options),"selected"in w&&t(0,a=w.selected),"unSelectedplaceholder"in w&&t(2,l=w.unSelectedplaceholder),"disabled"in w&&t(3,r=w.disabled),"isError"in w&&t(4,o=w.isError),"forceOpen"in w&&t(5,d=w.forceOpen),"maxHeight"in w&&t(16,u=w.maxHeight)},[a,s,l,r,o,d,h,f,_,g,$,p,v,E,m,k,u,K,J,S]}class Vn extends de{constructor(e){super(),re(this,e,Bn,Rn,ie,{options:1,selected:0,unSelectedplaceholder:2,disabled:3,isError:4,forceOpen:5,maxHeight:16})}get options(){return this.$$.ctx[1]}set options(e){this.$$set({options:e}),L()}get selected(){return this.$$.ctx[0]}set selected(e){this.$$set({selected:e}),L()}get unSelectedplaceholder(){return this.$$.ctx[2]}set unSelectedplaceholder(e){this.$$set({unSelectedplaceholder:e}),L()}get disabled(){return this.$$.ctx[3]}set disabled(e){this.$$set({disabled:e}),L()}get isError(){return this.$$.ctx[4]}set isError(e){this.$$set({isError:e}),L()}get forceOpen(){return this.$$.ctx[5]}set forceOpen(e){this.$$set({forceOpen:e}),L()}get maxHeight(){return this.$$.ctx[16]}set maxHeight(e){this.$$set({maxHeight:e}),L()}}oe(Vn,{options:{},selected:{},unSelectedplaceholder:{},disabled:{type:"Boolean"},isError:{type:"Boolean"},forceOpen:{type:"Boolean"},maxHeight:{}},[],[],!0);function St(n,e,t){const i=n.slice();return i[8]=e[t],i}function Ct(n){let e,t=n[8]+"",i,s;return{c(){e=y("option"),i=G(t),s=H(),e.__value=n[8],me(e,e.__value),e.selected=n[2]==n[8]},m(a,l){N(a,e,l),b(e,i),b(e,s)},p:T,d(a){a&&R(e)}}}function Tn(n){let e,t,i,s,a,l,r,o=Z(n[1]),d=[];for(let u=0;u<o.length;u+=1)d[u]=Ct(St(n,o,u));return{c(){e=y("div"),t=y("div"),i=y("div"),s=y("select"),a=y("option"),a.textContent="choose component ";for(let u=0;u<d.length;u+=1)d[u].c();a.__value=null,me(a,a.__value),c(i,"class","ItemOptionBtn "),c(t,"class","ItemOptions"),c(e,"class","ItemOptionsContainer")},m(u,h){N(u,e,h),b(e,t),b(t,i),b(i,s),b(s,a);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(s,null);n[6](s),l||(r=U(s,"change",n[3]),l=!0)},p(u,[h]){if(h&6){o=Z(u[1]);let f;for(f=0;f<o.length;f+=1){const _=St(u,o,f);d[f]?d[f].p(_,h):(d[f]=Ct(_),d[f].c(),d[f].m(s,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=o.length}},i:T,o:T,d(u){u&&R(e),Ve(d,u),n[6](null),l=!1,r()}}}function Un(n,e,t){let i=Xe(),{data:s}=e,{editMode:a}=e,l=Object.keys(pe),r=s.type,o;function d(){let h=o.value;t(4,s.type=h,s),i("optionSelected"),console.log("optionSelected",h)}function u(h){se[h?"unshift":"push"](()=>{o=h,t(0,o),t(1,l)})}return n.$$set=h=>{"data"in h&&t(4,s=h.data),"editMode"in h&&t(5,a=h.editMode)},[o,l,r,d,s,a,u]}class Ot extends de{constructor(e){super(),re(this,e,Un,Tn,ie,{data:4,editMode:5})}get data(){return this.$$.ctx[4]}set data(e){this.$$set({data:e}),L()}get editMode(){return this.$$.ctx[5]}set editMode(e){this.$$set({editMode:e}),L()}}oe(Ot,{data:{},editMode:{}},[],[],!0);function Pn(n){let e,t,i;return{c(){e=y("div"),e.textContent="Hit Point Maximum",t=H(),i=y("input"),c(i,"type","number")},m(s,a){N(s,e,a),N(s,t,a),N(s,i,a)},d(s){s&&(R(e),R(t),R(i))}}}function Hn(n){let e,t,i;return{c(){e=y("div"),e.textContent="Hit Point Maximum",t=H(),i=y("input"),c(i,"type","number")},m(s,a){N(s,e,a),N(s,t,a),N(s,i,a)},d(s){s&&(R(e),R(t),R(i))}}}function jn(n){let e,t,i;return{c(){e=y("div"),e.textContent="Hit Point Maximum",t=H(),i=y("input"),c(i,"type","number")},m(s,a){N(s,e,a),N(s,t,a),N(s,i,a)},d(s){s&&(R(e),R(t),R(i))}}}function Kn(n){let e,t,i,s,a,l,r,o,d,u,h,f;function _(p,v){return p[0]?jn:p[1]?Hn:Pn}let g=_(n),$=g(n);return{c(){e=y("div"),t=y("div"),t.textContent="Hit Points",i=H(),s=y("input"),l=H(),r=y("div"),r.textContent="temporary Hit Points",o=H(),d=y("input"),u=H(),$.c(),c(s,"type","number"),s.disabled=a=!n[0],c(d,"type","number")},m(p,v){N(p,e,v),b(e,t),b(e,i),b(e,s),me(s,n[2]),b(e,l),b(e,r),b(e,o),b(e,d),b(e,u),$.m(e,null),h||(f=[U(s,"input",n[6]),U(s,"change",n[3])],h=!0)},p(p,[v]){v&1&&a!==(a=!p[0])&&(s.disabled=a),v&4&&Te(s.value)!==p[2]&&me(s,p[2]),g!==(g=_(p))&&($.d(1),$=g(p),$&&($.c(),$.m(e,null)))},i:T,o:T,d(p){p&&R(e),$.d(),h=!1,z(f)}}}function Fn(n,e,t){let{sys:i}=e,{editMode:s}=e,{playMode:a}=e,{data:l}=e,r=i.fixed.generic["Hit Points"],o=r.getValue();const d=ge.getNewKey();ke(()=>{r.addUpdateListener(name+d+"SvelteView",()=>{t(2,o=r.getValue())})}),Ae(()=>{r.removeUpdateListener(name+d+"SvelteView")});function u(){return r.setValue(o),null}function h(){o=Te(this.value),t(2,o)}return n.$$set=f=>{"sys"in f&&t(4,i=f.sys),"editMode"in f&&t(0,s=f.editMode),"playMode"in f&&t(1,a=f.playMode),"data"in f&&t(5,l=f.data)},[s,a,o,u,i,l,h]}class Lt extends de{constructor(e){super(),re(this,e,Fn,Kn,ie,{sys:4,editMode:0,playMode:1,data:5})}get sys(){return this.$$.ctx[4]}set sys(e){this.$$set({sys:e}),L()}get editMode(){return this.$$.ctx[0]}set editMode(e){this.$$set({editMode:e}),L()}get playMode(){return this.$$.ctx[1]}set playMode(e){this.$$set({playMode:e}),L()}get data(){return this.$$.ctx[5]}set data(e){this.$$set({data:e}),L()}}oe(Lt,{sys:{},editMode:{},playMode:{},data:{}},[],[],!0);function qn(n){let e,t,i,s,a,l,r;return{c(){e=y("div"),t=y("div"),t.textContent="Proficiency Bonus",i=H(),s=y("input"),c(s,"type","number"),s.disabled=a=!n[0],c(e,"class","ProficiencyBonus")},m(o,d){N(o,e,d),b(e,t),b(e,i),b(e,s),me(s,n[1]),l||(r=[U(s,"input",n[5]),U(s,"change",n[2])],l=!0)},p(o,[d]){d&1&&a!==(a=!o[0])&&(s.disabled=a),d&2&&Te(s.value)!==o[1]&&me(s,o[1])},i:T,o:T,d(o){o&&R(e),l=!1,z(r)}}}function Jn(n,e,t){let{sys:i}=e,{editMode:s}=e,{data:a}=e,l=i.fixed.generic["Proficiency Bonus"],r=l.getValue();const o=ge.getNewKey();ke(()=>{l.addUpdateListener(name+o+"SvelteView",()=>{t(1,r=l.getValue())})}),Ae(()=>{l.removeUpdateListener(name+o+"SvelteView")});function d(){return l.setValue(r),null}function u(){r=Te(this.value),t(1,r)}return n.$$set=h=>{"sys"in h&&t(3,i=h.sys),"editMode"in h&&t(0,s=h.editMode),"data"in h&&t(4,a=h.data)},[s,r,d,i,a,u]}class Et extends de{constructor(e){super(),re(this,e,Jn,qn,ie,{sys:3,editMode:0,data:4})}get sys(){return this.$$.ctx[3]}set sys(e){this.$$set({sys:e}),L()}get editMode(){return this.$$.ctx[0]}set editMode(e){this.$$set({editMode:e}),L()}get data(){return this.$$.ctx[4]}set data(e){this.$$set({data:e}),L()}}oe(Et,{sys:{},editMode:{},data:{}},[],[],!0);function zn(n){let e,t,i,s,a,l,r,o,d,u,h,f,_;return{c(){e=y("div"),t=y("div"),i=y("div"),s=H(),a=y("div"),l=y("p"),r=G(n[1]),o=H(),d=y("div"),u=y("p"),h=G(n[3]),c(i,"class","skillproficiencyMark"),c(i,"data-level",n[2]),c(i,"role","none"),c(t,"class","skillproficiencyMarkParent"),c(a,"class","skillproficiencyMarkName"),c(d,"class","skillproficiencyMarkValue"),c(e,"class","skillproficiencyContainer"),c(e,"data-edit",n[0])},m(g,$){N(g,e,$),b(e,t),b(t,i),b(e,s),b(e,a),b(a,l),b(l,r),b(e,o),b(e,d),b(d,u),b(u,h),f||(_=[U(i,"keyup",n[6]),U(i,"click",n[4])],f=!0)},p(g,[$]){$&4&&c(i,"data-level",g[2]),$&2&&ue(r,g[1]),$&8&&ue(h,g[3]),$&1&&c(e,"data-edit",g[0])},i:T,o:T,d(g){g&&R(e),f=!1,z(_)}}}function Yn(n,e,t){let{edit:i}=e,{name:s}=e,{sys:a}=e,l=a.fixed.SkillProficiencies[s],r=a.derived.skillproficiencyBonus[s],o=l.getValue(),d=r.getValue();const u=ge.getNewKey();ke(()=>{l.addUpdateListener(s+u+"SvelteView",()=>{t(2,o=l.getValue())}),r.addUpdateListener(s+u+"SvelteView",()=>{t(3,d=r.getValue())})}),Ae(()=>{l.removeUpdateListener(s+"SvelteView"),r.removeUpdateListener(s+"SvelteView")});function h(){if(!i)return;let _=l.getValue();return _=(_+1)%3,l.setValue(_),null}function f(_){be.call(this,n,_)}return n.$$set=_=>{"edit"in _&&t(0,i=_.edit),"name"in _&&t(1,s=_.name),"sys"in _&&t(5,a=_.sys)},[i,s,o,d,h,a,f]}class At extends de{constructor(e){super(),re(this,e,Yn,zn,ie,{edit:0,name:1,sys:5})}get edit(){return this.$$.ctx[0]}set edit(e){this.$$set({edit:e}),L()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),L()}get sys(){return this.$$.ctx[5]}set sys(e){this.$$set({sys:e}),L()}}oe(At,{edit:{},name:{},sys:{}},[],[],!0);function Rt(n,e,t){const i=n.slice();return i[4]=e[t],i}function Nt(n){let e,t;return e=new At({props:{edit:n[0],name:n[4],sys:n[1]}}),{c(){x(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s&1&&(a.edit=i[0]),s&2&&(a.sys=i[1]),e.$set(a)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Gn(n){let e,t,i=Z(n[2]),s=[];for(let l=0;l<i.length;l+=1)s[l]=Nt(Rt(n,i,l));const a=l=>j(s[l],1,1,()=>{s[l]=null});return{c(){e=y("div");for(let l=0;l<s.length;l+=1)s[l].c();c(e,"class","skillproficiencyCollection"),c(e,"data-edit",n[0])},m(l,r){N(l,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);t=!0},p(l,[r]){if(r&7){i=Z(l[2]);let o;for(o=0;o<i.length;o+=1){const d=Rt(l,i,o);s[o]?(s[o].p(d,r),B(s[o],1)):(s[o]=Nt(d),s[o].c(),B(s[o],1),s[o].m(e,null))}for(fe(),o=i.length;o<s.length;o+=1)a(o);ce()}(!t||r&1)&&c(e,"data-edit",l[0])},i(l){if(!t){for(let r=0;r<i.length;r+=1)B(s[r]);t=!0}},o(l){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)j(s[r]);t=!1},d(l){l&&R(e),Ve(s,l)}}}function Wn(n,e,t){let{edit:i}=e,{sys:s}=e,{data:a}=e,l=Object.keys(s.fixed.SkillProficiencies);return n.$$set=r=>{"edit"in r&&t(0,i=r.edit),"sys"in r&&t(1,s=r.sys),"data"in r&&t(3,a=r.data)},[i,s,l,a]}class Bt extends de{constructor(e){super(),re(this,e,Wn,Gn,ie,{edit:0,sys:1,data:3})}get edit(){return this.$$.ctx[0]}set edit(e){this.$$set({edit:e}),L()}get sys(){return this.$$.ctx[1]}set sys(e){this.$$set({sys:e}),L()}get data(){return this.$$.ctx[3]}set data(e){this.$$set({data:e}),L()}}oe(Bt,{edit:{},sys:{},data:{}},[],[],!0);function Vt(n,e,t){const i=n.slice();return i[16]=e[t],i}function Qn(n){let e;return{c(){e=y("div")},m(t,i){N(t,e,i)},p:T,d(t){t&&R(e)}}}function Xn(n){let e,t,i,s,a=Z(Object.keys(n[0].derived["Spell Bonus"])),l=[];for(let r=0;r<a.length;r+=1)l[r]=Tt(Vt(n,a,r));return{c(){e=y("div"),t=y("select");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,o){N(r,e,o),b(e,t);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null);n[8](t),i||(s=U(t,"change",n[6]),i=!0)},p(r,o){if(o&5){a=Z(Object.keys(r[0].derived["Spell Bonus"]));let d;for(d=0;d<a.length;d+=1){const u=Vt(r,a,d);l[d]?l[d].p(u,o):(l[d]=Tt(u),l[d].c(),l[d].m(t,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=a.length}},d(r){r&&R(e),Ve(l,r),n[8](null),i=!1,s()}}}function Tt(n){let e,t=n[16]+"",i,s,a,l;return{c(){e=y("option"),i=G(t),s=H(),e.__value=a=n[16],me(e,e.__value),e.selected=l=n[16]==n[2]},m(r,o){N(r,e,o),b(e,i),b(e,s)},p(r,o){o&1&&t!==(t=r[16]+"")&&ue(i,t),o&1&&a!==(a=r[16])&&(e.__value=a,me(e,e.__value)),o&5&&l!==(l=r[16]==r[2])&&(e.selected=l)},d(r){r&&R(e)}}}function Zn(n){let e,t,i,s,a,l,r,o,d,u,h,f,_,g,$,p,v;function E(D,A){return D[1]?Xn:Qn}let m=E(n),k=m(n);return{c(){e=y("div"),k.c(),t=H(),i=y("div"),s=y("div"),a=G(n[2]),l=H(),r=y("div"),o=y("div"),o.textContent="Spell DC",d=H(),u=y("div"),h=G(n[3]),f=H(),_=y("div"),g=y("div"),g.textContent="Spell Bonus",$=H(),p=y("div"),v=G(n[4]),c(i,"class","spellDCContainer")},m(D,A){N(D,e,A),k.m(e,null),b(e,t),b(e,i),b(i,s),b(s,a),b(i,l),b(i,r),b(r,o),b(r,d),b(r,u),b(u,h),b(i,f),b(i,_),b(_,g),b(_,$),b(_,p),b(p,v)},p(D,[A]){m===(m=E(D))&&k?k.p(D,A):(k.d(1),k=m(D),k&&(k.c(),k.m(e,t))),A&4&&ue(a,D[2]),A&8&&ue(h,D[3]),A&16&&ue(v,D[4])},i:T,o:T,d(D){D&&R(e),k.d()}}}function xn(n,e,t){let{sys:i}=e,{edit:s}=e,{data:a}=e;const l=ge.getNewKey();let r=a.data;JSON.stringify(r)===JSON.stringify({})&&(r.showStat=Object.keys(i.derived["Spell Bonus"])[0]);let o=r.showStat,d=i.derived["Spell Bonus"][o],u=i.derived["Spell DC"][o],h=d.getValue(),f=u.getValue(),_;function g(){let m=_.value;t(2,o=m),d=i.derived["Spell Bonus"][o],u=i.derived["Spell DC"][o],t(3,h=d.getValue()),t(4,f=u.getValue())}function $(){t(3,h=d.getValue()),t(4,f=u.getValue())}function p(){d.addUpdateListener(name+"SpellInfoView"+l,()=>{$()}),u.addUpdateListener(name+"SpellInfoView"+l,()=>{$()})}ke(()=>{p()});function v(){d.removeUpdateListener(name+"SpellInfoView"+l),u.removeUpdateListener(name+"SpellInfoView"+l)}Ae(()=>{v()});function E(m){se[m?"unshift":"push"](()=>{_=m,t(5,_),t(0,i)})}return n.$$set=m=>{"sys"in m&&t(0,i=m.sys),"edit"in m&&t(1,s=m.edit),"data"in m&&t(7,a=m.data)},[i,s,o,h,f,_,g,a,E]}class Ut extends de{constructor(e){super(),re(this,e,xn,Zn,ie,{sys:0,edit:1,data:7})}get sys(){return this.$$.ctx[0]}set sys(e){this.$$set({sys:e}),L()}get edit(){return this.$$.ctx[1]}set edit(e){this.$$set({edit:e}),L()}get data(){return this.$$.ctx[7]}set data(e){this.$$set({data:e}),L()}}oe(Ut,{sys:{},edit:{},data:{}},[],[],!0);function ei(n){let e,t,i,s,a,l,r,o,d,u,h,f,_;return{c(){e=y("div"),t=y("div"),i=G(n[0]),s=H(),a=y("div"),l=y("input"),o=H(),d=y("div"),u=y("div"),h=G(n[3]),c(l,"class","BoxValue"),c(l,"data-editmode",n[1]),l.disabled=r=!n[1],l.value=n[2],c(l,"type","number"),c(l,"min","0"),c(l,"max","100"),c(a,"class","LargeValue"),c(u,"class","BoxValue"),c(d,"class","SmallValue"),c(e,"class","StatValue")},m(g,$){N(g,e,$),b(e,t),b(t,i),b(e,s),b(e,a),b(a,l),n[8](l),b(e,o),b(e,d),b(d,u),b(u,h),f||(_=U(l,"change",n[5]),f=!0)},p(g,[$]){$&1&&ue(i,g[0]),$&2&&c(l,"data-editmode",g[1]),$&2&&r!==(r=!g[1])&&(l.disabled=r),$&4&&l.value!==g[2]&&(l.value=g[2]),$&8&&ue(h,g[3])},i:T,o:T,d(g){g&&R(e),n[8](null),f=!1,_()}}}function ti(n,e,t){let{name:i}=e,{statNode:s}=e,{modNode:a}=e,{editmode:l=!1}=e,r=s.getValue(),o=a.getValue();const d=ge.getNewKey();ke(()=>{s.addUpdateListener("onDerivedNodeUpdate"+d,u),a.addUpdateListener("onDerivedNodeUpdate"+d,u)}),Ae(()=>{s.removeUpdateListener("onDerivedNodeUpdate"+d),a.removeUpdateListener("onDerivedNodeUpdate"+d)});function u(){t(2,r=s.getValue()),t(3,o=a.getValue())}function h(){let g=parseInt(f.value);s.setValue(g)}let f;function _(g){se[g?"unshift":"push"](()=>{f=g,t(4,f)})}return n.$$set=g=>{"name"in g&&t(0,i=g.name),"statNode"in g&&t(6,s=g.statNode),"modNode"in g&&t(7,a=g.modNode),"editmode"in g&&t(1,l=g.editmode)},[i,l,r,o,f,h,s,a,_]}class Pt extends de{constructor(e){super(),re(this,e,ti,ei,ie,{name:0,statNode:6,modNode:7,editmode:1})}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),L()}get statNode(){return this.$$.ctx[6]}set statNode(e){this.$$set({statNode:e}),L()}get modNode(){return this.$$.ctx[7]}set modNode(e){this.$$set({modNode:e}),L()}get editmode(){return this.$$.ctx[1]}set editmode(e){this.$$set({editmode:e}),L()}}oe(Pt,{name:{},statNode:{},modNode:{},editmode:{type:"Boolean"}},[],[],!0);function Ht(n,e,t){const i=n.slice();i[4]=e[t];const s=i[2][i[4]];i[5]=s;const a=i[0].derived.modifiers[i[4]];return i[6]=a,i}function jt(n){let e,t;return e=new Pt({props:{name:n[4],statNode:n[5],modNode:n[6],editmode:n[1]}}),{c(){x(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s&1&&(a.modNode=i[6]),s&2&&(a.editmode=i[1]),e.$set(a)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function ni(n){let e,t,i=Z(Object.keys(n[2])),s=[];for(let l=0;l<i.length;l+=1)s[l]=jt(Ht(n,i,l));const a=l=>j(s[l],1,1,()=>{s[l]=null});return{c(){e=y("div");for(let l=0;l<s.length;l+=1)s[l].c();c(e,"class","StatsRow")},m(l,r){N(l,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);t=!0},p(l,[r]){if(r&7){i=Z(Object.keys(l[2]));let o;for(o=0;o<i.length;o+=1){const d=Ht(l,i,o);s[o]?(s[o].p(d,r),B(s[o],1)):(s[o]=jt(d),s[o].c(),B(s[o],1),s[o].m(e,null))}for(fe(),o=i.length;o<s.length;o+=1)a(o);ce()}},i(l){if(!t){for(let r=0;r<i.length;r+=1)B(s[r]);t=!0}},o(l){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)j(s[r]);t=!1},d(l){l&&R(e),Ve(s,l)}}}function ii(n,e,t){let{sys:i}=e,{data:s}=e,{edit:a=!1}=e;console.log(i);let l=i.fixed.stats;return n.$$set=r=>{"sys"in r&&t(0,i=r.sys),"data"in r&&t(3,s=r.data),"edit"in r&&t(1,a=r.edit)},[i,a,l,s]}class Kt extends de{constructor(e){super(),re(this,e,ii,ni,ie,{sys:0,data:3,edit:1})}get sys(){return this.$$.ctx[0]}set sys(e){this.$$set({sys:e}),L()}get data(){return this.$$.ctx[3]}set data(e){this.$$set({data:e}),L()}get edit(){return this.$$.ctx[1]}set edit(e){this.$$set({edit:e}),L()}}oe(Kt,{sys:{},data:{},edit:{type:"Boolean"}},[],[],!0);function Ft(n){let e,t,i=n[1]&&qt(n),s=n[2]&&Jt(n);return{c(){e=y("div"),i&&i.c(),t=H(),s&&s.c(),c(e,"class","ItemManouverOptions")},m(a,l){N(a,e,l),i&&i.m(e,null),b(e,t),s&&s.m(e,null)},p(a,l){a[1]?i?i.p(a,l):(i=qt(a),i.c(),i.m(e,t)):i&&(i.d(1),i=null),a[2]?s?s.p(a,l):(s=Jt(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&R(e),i&&i.d(),s&&s.d()}}}function qt(n){let e,t,i;return{c(){e=y("div"),e.textContent="Up",c(e,"class","ItemManouverOption"),c(e,"role","none")},m(s,a){N(s,e,a),t||(i=[U(e,"keyup",n[7]),U(e,"click",n[3])],t=!0)},p:T,d(s){s&&R(e),t=!1,z(i)}}}function Jt(n){let e,t,i;return{c(){e=y("div"),e.textContent="Down",c(e,"class","ItemManouverOption"),c(e,"role","none")},m(s,a){N(s,e,a),t||(i=[U(e,"keyup",n[6]),U(e,"click",n[4])],t=!0)},p:T,d(s){s&&R(e),t=!1,z(i)}}}function si(n){let e,t=n[0]&&Ft(n);return{c(){e=y("div"),t&&t.c(),c(e,"class","ItemManouverContainer")},m(i,s){N(i,e,s),t&&t.m(e,null)},p(i,[s]){i[0]?t?t.p(i,s):(t=Ft(i),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:T,o:T,d(i){i&&R(e),t&&t.d()}}}function ai(n,e,t){let i=Xe(),{data:s}=e,{editMode:a}=e,{hasUp:l}=e,{hasDown:r}=e;function o(){i("moveUp",s.id)}function d(){i("moveDown",s.id)}function u(f){be.call(this,n,f)}function h(f){be.call(this,n,f)}return n.$$set=f=>{"data"in f&&t(5,s=f.data),"editMode"in f&&t(0,a=f.editMode),"hasUp"in f&&t(1,l=f.hasUp),"hasDown"in f&&t(2,r=f.hasDown)},[a,l,r,o,d,s,u,h]}class zt extends de{constructor(e){super(),re(this,e,ai,si,ie,{data:5,editMode:0,hasUp:1,hasDown:2})}get data(){return this.$$.ctx[5]}set data(e){this.$$set({data:e}),L()}get editMode(){return this.$$.ctx[0]}set editMode(e){this.$$set({editMode:e}),L()}get hasUp(){return this.$$.ctx[1]}set hasUp(e){this.$$set({hasUp:e}),L()}get hasDown(){return this.$$.ctx[2]}set hasDown(e){this.$$set({hasDown:e}),L()}}oe(zt,{data:{},editMode:{},hasUp:{},hasDown:{}},[],[],!0);function Yt(n){let e,t,i;function s(l){n[7](l)}let a={editMode:!0};return n[0]!==void 0&&(a.data=n[0]),e=new Ot({props:a}),se.push(()=>$e(e,"data",s)),e.$on("optionSelected",n[6]),{c(){x(e.$$.fragment)},m(l,r){W(e,l,r),i=!0},p(l,r){const o={};!t&&r&1&&(t=!0,o.data=l[0],ye(()=>t=!1)),e.$set(o)},i(l){i||(B(e.$$.fragment,l),i=!0)},o(l){j(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function Gt(n){let e,t,i;function s(l){n[8](l)}let a={editMode:n[5],hasDown:n[4]!=n[3]-1,hasUp:n[4]!=0};return n[0]!==void 0&&(a.data=n[0]),e=new zt({props:a}),se.push(()=>$e(e,"data",s)),e.$on("moveUp",n[9]),e.$on("moveDown",n[10]),{c(){x(e.$$.fragment)},m(l,r){W(e,l,r),i=!0},p(l,r){const o={};r&32&&(o.editMode=l[5]),r&24&&(o.hasDown=l[4]!=l[3]-1),r&16&&(o.hasUp=l[4]!=0),!t&&r&1&&(t=!0,o.data=l[0],ye(()=>t=!1)),e.$set(o)},i(l){i||(B(e.$$.fragment,l),i=!0)},o(l){j(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function li(n){let e,t,i,s,a;function l(o){n[15](o)}let r={edit:n[1],sys:n[2]};return n[0]!==void 0&&(r.data=n[0]),t=new Kt({props:r}),se.push(()=>$e(t,"data",l)),t.$on("optionSelected",n[6]),{c(){e=y("div"),x(t.$$.fragment)},m(o,d){N(o,e,d),W(t,e,null),a=!0},p(o,d){const u={};d&2&&(u.edit=o[1]),d&4&&(u.sys=o[2]),!i&&d&1&&(i=!0,u.data=o[0],ye(()=>i=!1)),t.$set(u)},i(o){a||(B(t.$$.fragment,o),o&&ae(()=>{a&&(s||(s=Y(e,le,{},!0)),s.run(1))}),a=!0)},o(o){j(t.$$.fragment,o),o&&(s||(s=Y(e,le,{},!1)),s.run(0)),a=!1},d(o){o&&R(e),Q(t),o&&s&&s.end()}}}function ri(n){let e,t,i,s,a;function l(o){n[14](o)}let r={edit:n[1],sys:n[2]};return n[0]!==void 0&&(r.data=n[0]),t=new Ut({props:r}),se.push(()=>$e(t,"data",l)),t.$on("optionSelected",n[6]),{c(){e=y("div"),x(t.$$.fragment)},m(o,d){N(o,e,d),W(t,e,null),a=!0},p(o,d){const u={};d&2&&(u.edit=o[1]),d&4&&(u.sys=o[2]),!i&&d&1&&(i=!0,u.data=o[0],ye(()=>i=!1)),t.$set(u)},i(o){a||(B(t.$$.fragment,o),o&&ae(()=>{a&&(s||(s=Y(e,le,{},!0)),s.run(1))}),a=!0)},o(o){j(t.$$.fragment,o),o&&(s||(s=Y(e,le,{},!1)),s.run(0)),a=!1},d(o){o&&R(e),Q(t),o&&s&&s.end()}}}function oi(n){let e,t,i,s,a;function l(o){n[13](o)}let r={edit:n[1],sys:n[2]};return n[0]!==void 0&&(r.data=n[0]),t=new Bt({props:r}),se.push(()=>$e(t,"data",l)),t.$on("optionSelected",n[6]),{c(){e=y("div"),x(t.$$.fragment)},m(o,d){N(o,e,d),W(t,e,null),a=!0},p(o,d){const u={};d&2&&(u.edit=o[1]),d&4&&(u.sys=o[2]),!i&&d&1&&(i=!0,u.data=o[0],ye(()=>i=!1)),t.$set(u)},i(o){a||(B(t.$$.fragment,o),o&&ae(()=>{a&&(s||(s=Y(e,le,{},!0)),s.run(1))}),a=!0)},o(o){j(t.$$.fragment,o),o&&(s||(s=Y(e,le,{},!1)),s.run(0)),a=!1},d(o){o&&R(e),Q(t),o&&s&&s.end()}}}function di(n){let e,t,i,s,a;function l(o){n[12](o)}let r={sys:n[2],editMode:n[1]};return n[0]!==void 0&&(r.data=n[0]),t=new Et({props:r}),se.push(()=>$e(t,"data",l)),t.$on("optionSelected",n[6]),{c(){e=y("div"),x(t.$$.fragment)},m(o,d){N(o,e,d),W(t,e,null),a=!0},p(o,d){const u={};d&4&&(u.sys=o[2]),d&2&&(u.editMode=o[1]),!i&&d&1&&(i=!0,u.data=o[0],ye(()=>i=!1)),t.$set(u)},i(o){a||(B(t.$$.fragment,o),o&&ae(()=>{a&&(s||(s=Y(e,le,{},!0)),s.run(1))}),a=!0)},o(o){j(t.$$.fragment,o),o&&(s||(s=Y(e,le,{},!1)),s.run(0)),a=!1},d(o){o&&R(e),Q(t),o&&s&&s.end()}}}function ui(n){let e,t,i,s,a;function l(o){n[11](o)}let r={sys:n[2],editMode:n[1],playMode:!1};return n[0]!==void 0&&(r.data=n[0]),t=new Lt({props:r}),se.push(()=>$e(t,"data",l)),t.$on("optionSelected",n[6]),{c(){e=y("div"),x(t.$$.fragment)},m(o,d){N(o,e,d),W(t,e,null),a=!0},p(o,d){const u={};d&4&&(u.sys=o[2]),d&2&&(u.editMode=o[1]),!i&&d&1&&(i=!0,u.data=o[0],ye(()=>i=!1)),t.$set(u)},i(o){a||(B(t.$$.fragment,o),o&&ae(()=>{a&&(s||(s=Y(e,le,{},!0)),s.run(1))}),a=!0)},o(o){j(t.$$.fragment,o),o&&(s||(s=Y(e,le,{},!1)),s.run(0)),a=!1},d(o){o&&R(e),Q(t),o&&s&&s.end()}}}function fi(n){let e,t,i,s,a,l,r=n[1]&&Yt(n),o=n[3]!=1&&Gt(n);const d=[ui,di,oi,ri,li],u=[];function h(f,_){return f[0].type==pe.HitPoints?0:f[0].type==pe.ProficiencyBonus?1:f[0].type==pe.SkillProficiencies?2:f[0].type==pe.SpellInfo?3:f[0].type==pe.Stats?4:-1}return~(s=h(n))&&(a=u[s]=d[s](n)),{c(){e=y("div"),r&&r.c(),t=H(),o&&o.c(),i=H(),a&&a.c(),c(e,"data-name","ItemDestributor"),c(e,"class","itemDestributer")},m(f,_){N(f,e,_),r&&r.m(e,null),b(e,t),o&&o.m(e,null),b(e,i),~s&&u[s].m(e,null),l=!0},p(f,[_]){f[1]?r?(r.p(f,_),_&2&&B(r,1)):(r=Yt(f),r.c(),B(r,1),r.m(e,t)):r&&(fe(),j(r,1,1,()=>{r=null}),ce()),f[3]!=1?o?(o.p(f,_),_&8&&B(o,1)):(o=Gt(f),o.c(),B(o,1),o.m(e,i)):o&&(fe(),j(o,1,1,()=>{o=null}),ce());let g=s;s=h(f),s===g?~s&&u[s].p(f,_):(a&&(fe(),j(u[g],1,1,()=>{u[g]=null}),ce()),~s?(a=u[s],a?a.p(f,_):(a=u[s]=d[s](f),a.c()),B(a,1),a.m(e,null)):a=null)},i(f){l||(B(r),B(o),B(a),l=!0)},o(f){j(r),j(o),j(a),l=!1},d(f){f&&R(e),r&&r.d(),o&&o.d(),~s&&u[s].d()}}}function ci(n,e,t){let{data:i}=e,{editMode:s}=e,{sys:a}=e,{length:l}=e,{index:r}=e,{layoutMode:o=!1}=e;function d(m){console.log(i),console.log(Object.keys(pe)),t(0,i)}function u(m){i=m,t(0,i)}function h(m){i=m,t(0,i)}function f(m){be.call(this,n,m)}function _(m){be.call(this,n,m)}function g(m){i=m,t(0,i)}function $(m){i=m,t(0,i)}function p(m){i=m,t(0,i)}function v(m){i=m,t(0,i)}function E(m){i=m,t(0,i)}return n.$$set=m=>{"data"in m&&t(0,i=m.data),"editMode"in m&&t(1,s=m.editMode),"sys"in m&&t(2,a=m.sys),"length"in m&&t(3,l=m.length),"index"in m&&t(4,r=m.index),"layoutMode"in m&&t(5,o=m.layoutMode)},[i,s,a,l,r,o,d,u,h,f,_,g,$,p,v,E]}class Wt extends de{constructor(e){super(),re(this,e,ci,fi,ie,{data:0,editMode:1,sys:2,length:3,index:4,layoutMode:5})}get data(){return this.$$.ctx[0]}set data(e){this.$$set({data:e}),L()}get editMode(){return this.$$.ctx[1]}set editMode(e){this.$$set({editMode:e}),L()}get sys(){return this.$$.ctx[2]}set sys(e){this.$$set({sys:e}),L()}get length(){return this.$$.ctx[3]}set length(e){this.$$set({length:e}),L()}get index(){return this.$$.ctx[4]}set index(e){this.$$set({index:e}),L()}get layoutMode(){return this.$$.ctx[5]}set layoutMode(e){this.$$set({layoutMode:e}),L()}}oe(Wt,{data:{},editMode:{},sys:{},length:{},index:{},layoutMode:{type:"Boolean"}},[],[],!0);function at(n,e,t){return n.style.animation&&(n.style=null),An(n,e,t??{duration:500})}function Qt(n){let e,t,i,s,a=n[4]&&Xt(n),l=n[3]&&Zt(n);return{c(){e=y("div"),a&&a.c(),t=H(),l&&l.c(),c(e,"class","RowColumnOptions"),c(e,"style",n[5])},m(r,o){N(r,e,o),a&&a.m(e,null),b(e,t),l&&l.m(e,null),s=!0},p(r,o){r[4]?a?a.p(r,o):(a=Xt(r),a.c(),a.m(e,t)):a&&(a.d(1),a=null),r[3]?l?l.p(r,o):(l=Zt(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(r){s||(r&&ae(()=>{s&&(i||(i=Y(e,le,{},!0)),i.run(1))}),s=!0)},o(r){r&&(i||(i=Y(e,le,{},!1)),i.run(0)),s=!1},d(r){r&&R(e),a&&a.d(),l&&l.d(),r&&i&&i.end()}}}function Xt(n){let e,t,i,s;return{c(){e=y("div"),t=G(n[1]),c(e,"class","itemOption"),c(e,"role","none")},m(a,l){N(a,e,l),b(e,t),i||(s=[U(e,"keyup",n[10]),U(e,"click",n[11])],i=!0)},p(a,l){l&2&&ue(t,a[1])},d(a){a&&R(e),i=!1,z(s)}}}function Zt(n){let e,t,i,s;return{c(){e=y("div"),t=G(n[2]),c(e,"class","itemOption rem"),c(e,"role","none")},m(a,l){N(a,e,l),b(e,t),i||(s=[U(e,"keyup",n[9]),U(e,"click",n[12])],i=!0)},p(a,l){l&4&&ue(t,a[2])},d(a){a&&R(e),i=!1,z(s)}}}function hi(n){let e,t=n[0]&&Qt(n);return{c(){t&&t.c(),e=gn()},m(i,s){t&&t.m(i,s),N(i,e,s)},p(i,[s]){i[0]?t?(t.p(i,s),s&1&&B(t,1)):(t=Qt(i),t.c(),B(t,1),t.m(e.parentNode,e)):t&&(fe(),j(t,1,1,()=>{t=null}),ce())},i(i){B(t)},o(i){j(t)},d(i){i&&R(e),t&&t.d(i)}}}function gi(n,e,t){let{active:i}=e,{addText:s="Add Item"}=e,{remText:a="Remove This Item"}=e,{offset:l=0}=e,{side:r="left"}=e,{verti:o="bottom"}=e,{onRemove:d=null}=e,{onAdd:u=null}=e,h=r+":"+l+";"+o+":"+l+";";function f(p){be.call(this,n,p)}function _(p){be.call(this,n,p)}const g=()=>u(),$=()=>d();return n.$$set=p=>{"active"in p&&t(0,i=p.active),"addText"in p&&t(1,s=p.addText),"remText"in p&&t(2,a=p.remText),"offset"in p&&t(6,l=p.offset),"side"in p&&t(7,r=p.side),"verti"in p&&t(8,o=p.verti),"onRemove"in p&&t(3,d=p.onRemove),"onAdd"in p&&t(4,u=p.onAdd)},[i,s,a,d,u,h,l,r,o,f,_,g,$]}class we extends de{constructor(e){super(),re(this,e,gi,hi,ie,{active:0,addText:1,remText:2,offset:6,side:7,verti:8,onRemove:3,onAdd:4})}get active(){return this.$$.ctx[0]}set active(e){this.$$set({active:e}),L()}get addText(){return this.$$.ctx[1]}set addText(e){this.$$set({addText:e}),L()}get remText(){return this.$$.ctx[2]}set remText(e){this.$$set({remText:e}),L()}get offset(){return this.$$.ctx[6]}set offset(e){this.$$set({offset:e}),L()}get side(){return this.$$.ctx[7]}set side(e){this.$$set({side:e}),L()}get verti(){return this.$$.ctx[8]}set verti(e){this.$$set({verti:e}),L()}get onRemove(){return this.$$.ctx[3]}set onRemove(e){this.$$set({onRemove:e}),L()}get onAdd(){return this.$$.ctx[4]}set onAdd(e){this.$$set({onAdd:e}),L()}}oe(we,{active:{},addText:{},remText:{},offset:{},side:{},verti:{},onRemove:{},onAdd:{}},[],[],!0);function xt(n,e,t){const i=n.slice();return i[45]=e[t],i[47]=t,i}function en(n,e,t){const i=n.slice();return i[48]=e[t],i[50]=t,i}function tn(n,e,t){const i=n.slice();return i[51]=e[t],i[53]=t,i}function nn(n){let e,t;function i(){return n[22](n[45],n[48])}return e=new we({props:{offset:15,active:n[3],remText:"remove this column",onRemove:i}}),{c(){x(e.$$.fragment)},m(s,a){W(e,s,a),t=!0},p(s,a){n=s;const l={};a[0]&8&&(l.active=n[3]),a[0]&32&&(l.onRemove=i),e.$set(l)},i(s){t||(B(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){Q(e,s)}}}function sn(n){let e;return{c(){e=y("div"),_t(e,"height","50px")},m(t,i){N(t,e,i)},d(t){t&&R(e)}}}function an(n,e){let t,i,s,a,l,r,o,d,u,h=T,f,_,g;function $(){return e[24](e[48],e[51])}i=new we({props:{offset:15,active:e[4],addText:"remove",onRemove:$}}),a=new Wt({props:{data:e[51],editMode:e[1],layoutMode:e[4],sys:e[0],length:e[48].data.length,index:e[53]}}),a.$on("moveUp",e[25]),a.$on("moveDown",e[26]);function p(...k){return e[27](e[51],...k)}function v(...k){return e[28](e[51],...k)}function E(...k){return e[29](e[51],...k)}function m(...k){return e[30](e[51],...k)}return{key:n,first:null,c(){t=y("div"),x(i.$$.fragment),s=H(),x(a.$$.fragment),c(t,"class","Item"),c(t,"data-edit",l=e[1]||e[4]||e[3]),c(t,"data-itemid",r=e[51].id),c(t,"data-edit-active",e[4]),c(t,"data-dragging",o=e[14].isBeingDragged(e[51].id)),c(t,"role","none"),c(t,"draggable",e[4]),this.first=t},m(k,D){N(k,t,D),W(i,t,null),b(t,s),W(a,t,null),f=!0,_||(g=[U(t,"dragstart",p),U(t,"dragend",v),U(t,"drop",E),U(t,"dragleave",m),U(t,"dragover",yi)],_=!0)},p(k,D){e=k;const A={};D[0]&16&&(A.active=e[4]),D[0]&32&&(A.onRemove=$),i.$set(A);const K={};D[0]&32&&(K.data=e[51]),D[0]&2&&(K.editMode=e[1]),D[0]&16&&(K.layoutMode=e[4]),D[0]&1&&(K.sys=e[0]),D[0]&32&&(K.length=e[48].data.length),D[0]&32&&(K.index=e[53]),a.$set(K),(!f||D[0]&26&&l!==(l=e[1]||e[4]||e[3]))&&c(t,"data-edit",l),(!f||D[0]&32&&r!==(r=e[51].id))&&c(t,"data-itemid",r),(!f||D[0]&16)&&c(t,"data-edit-active",e[4]),(!f||D[0]&32&&o!==(o=e[14].isBeingDragged(e[51].id)))&&c(t,"data-dragging",o),(!f||D[0]&16)&&c(t,"draggable",e[4])},r(){u=t.getBoundingClientRect()},f(){We(t),h(),He(t,u)},a(){h(),h=Ge(t,u,at,{duration:_e})},i(k){f||(B(i.$$.fragment,k),B(a.$$.fragment,k),k&&ae(()=>{f&&(d||(d=Y(t,qe,{duration:_e},!0)),d.run(1))}),f=!0)},o(k){j(i.$$.fragment,k),j(a.$$.fragment,k),k&&(d||(d=Y(t,qe,{duration:_e},!1)),d.run(0)),f=!1},d(k){k&&R(t),Q(i),Q(a),k&&d&&d.end(),_=!1,z(g)}}}function ln(n,e){let t,i,s,a,l,r=[],o=new Map,d,u,h,f,_,g,$=T,p,v,E,m=e[45].data.length>1&&nn(e);function k(){return e[23](e[48])}s=new we({props:{offset:15,active:e[4],addText:"add a new Item",onAdd:k}});let D=(e[4]||e[3])&&sn(),A=Z(e[48].data);const K=C=>C[51].id;for(let C=0;C<A.length;C+=1){let I=tn(e,A,C),P=K(I);o.set(P,r[C]=an(P,I))}function J(...C){return e[31](e[48],...C)}function S(...C){return e[32](e[48],...C)}function w(...C){return e[33](e[48],...C)}function F(...C){return e[34](e[48],...C)}function ee(...C){return e[35](e[48],...C)}function te(...C){return e[36](e[48],...C)}return{key:n,first:null,c(){t=y("div"),m&&m.c(),i=H(),x(s.$$.fragment),a=H(),D&&D.c(),l=H();for(let C=0;C<r.length;C+=1)r[C].c();c(t,"class","Column"),c(t,"data-edit",d=e[3]||e[2]),c(t,"data-editpreview",e[4]),c(t,"data-itemid",u=e[48].id),c(t,"data-edit-active",e[3]),c(t,"data-dragging",h=e[13].isBeingDragged(e[48].id)),c(t,"role","none"),c(t,"style",f=`
						${e[3]||e[2]?"margin-bottom:60px":""}
					`),c(t,"draggable",e[3]),this.first=t},m(C,I){N(C,t,I),m&&m.m(t,null),b(t,i),W(s,t,null),b(t,a),D&&D.m(t,null),b(t,l);for(let P=0;P<r.length;P+=1)r[P]&&r[P].m(t,null);p=!0,v||(E=[U(t,"dragstart",J),U(t,"dragenter",S),U(t,"dragend",w),U(t,"drop",F),U(t,"dragleave",ee),U(t,"dragover",te)],v=!0)},p(C,I){e=C,e[45].data.length>1?m?(m.p(e,I),I[0]&32&&B(m,1)):(m=nn(e),m.c(),B(m,1),m.m(t,i)):m&&(fe(),j(m,1,1,()=>{m=null}),ce());const P={};if(I[0]&16&&(P.active=e[4]),I[0]&32&&(P.onAdd=k),s.$set(P),e[4]||e[3]?D||(D=sn(),D.c(),D.m(t,l)):D&&(D.d(1),D=null),I[0]&19515){A=Z(e[48].data),fe();for(let q=0;q<r.length;q+=1)r[q].r();r=Ke(r,I,K,1,e,A,o,t,nt,an,null,tn);for(let q=0;q<r.length;q+=1)r[q].a();ce()}(!p||I[0]&12&&d!==(d=e[3]||e[2]))&&c(t,"data-edit",d),(!p||I[0]&16)&&c(t,"data-editpreview",e[4]),(!p||I[0]&32&&u!==(u=e[48].id))&&c(t,"data-itemid",u),(!p||I[0]&8)&&c(t,"data-edit-active",e[3]),(!p||I[0]&32&&h!==(h=e[13].isBeingDragged(e[48].id)))&&c(t,"data-dragging",h),(!p||I[0]&12&&f!==(f=`
						${e[3]||e[2]?"margin-bottom:60px":""}
					`))&&c(t,"style",f),(!p||I[0]&8)&&c(t,"draggable",e[3])},r(){g=t.getBoundingClientRect()},f(){We(t),$(),He(t,g)},a(){$(),$=Ge(t,g,at,{duration:_e})},i(C){if(!p){B(m),B(s.$$.fragment,C);for(let I=0;I<A.length;I+=1)B(r[I]);C&&ae(()=>{p&&(_||(_=Y(t,qe,{duration:_e},!0)),_.run(1))}),p=!0}},o(C){j(m),j(s.$$.fragment,C);for(let I=0;I<r.length;I+=1)j(r[I]);C&&(_||(_=Y(t,qe,{duration:_e},!1)),_.run(0)),p=!1},d(C){C&&R(t),m&&m.d(),Q(s),D&&D.d();for(let I=0;I<r.length;I+=1)r[I].d();C&&_&&_.end(),v=!1,z(E)}}}function rn(n,e){let t,i,s,a,l,r=[],o=new Map,d,u,h,f,_=T,g,$,p;function v(){return e[20](e[45])}i=new we({props:{active:e[3],onAdd:v,addText:"add Column"}});function E(){return e[21](e[45])}a=new we({props:{active:e[2],onRemove:E,remText:"remove this line"}});let m=Z(e[45].data);const k=S=>S[48].id;for(let S=0;S<m.length;S+=1){let w=en(e,m,S),F=k(w);o.set(F,r[S]=ln(F,w))}function D(...S){return e[37](e[45],...S)}function A(...S){return e[38](e[45],...S)}function K(...S){return e[39](e[45],...S)}function J(...S){return e[40](e[45],...S)}return{key:n,first:null,c(){t=y("div"),x(i.$$.fragment),s=H(),x(a.$$.fragment),l=H();for(let S=0;S<r.length;S+=1)r[S].c();c(t,"class","Row"),c(t,"data-edit",e[2]),c(t,"data-edit-active",e[2]),c(t,"data-editpreview",e[3]),c(t,"role","none"),c(t,"style",d=`grid-template-columns:${dn(e[45].data.length,"1fr")}`),c(t,"data-rowid",u=e[45].id),c(t,"draggable",e[2]),this.first=t},m(S,w){N(S,t,w),W(i,t,null),b(t,s),W(a,t,null),b(t,l);for(let F=0;F<r.length;F+=1)r[F]&&r[F].m(t,null);g=!0,$||(p=[U(t,"dragstart",D),U(t,"dragenter",A),U(t,"dragend",K),U(t,"dragover",J)],$=!0)},p(S,w){e=S;const F={};w[0]&8&&(F.active=e[3]),w[0]&32&&(F.onAdd=v),i.$set(F);const ee={};if(w[0]&4&&(ee.active=e[2]),w[0]&32&&(ee.onRemove=E),a.$set(ee),w[0]&27711){m=Z(e[45].data),fe();for(let te=0;te<r.length;te+=1)r[te].r();r=Ke(r,w,k,1,e,m,o,t,nt,ln,null,en);for(let te=0;te<r.length;te+=1)r[te].a();ce()}(!g||w[0]&4)&&c(t,"data-edit",e[2]),(!g||w[0]&4)&&c(t,"data-edit-active",e[2]),(!g||w[0]&8)&&c(t,"data-editpreview",e[3]),(!g||w[0]&32&&d!==(d=`grid-template-columns:${dn(e[45].data.length,"1fr")}`))&&c(t,"style",d),(!g||w[0]&32&&u!==(u=e[45].id))&&c(t,"data-rowid",u),(!g||w[0]&4)&&c(t,"draggable",e[2])},r(){f=t.getBoundingClientRect()},f(){We(t),_(),He(t,f)},a(){_(),_=Ge(t,f,at,{duration:_e})},i(S){if(!g){B(i.$$.fragment,S),B(a.$$.fragment,S);for(let w=0;w<m.length;w+=1)B(r[w]);S&&ae(()=>{g&&(h||(h=Y(t,$t,{duration:_e,y:100},!0)),h.run(1))}),g=!0}},o(S){j(i.$$.fragment,S),j(a.$$.fragment,S);for(let w=0;w<r.length;w+=1)j(r[w]);S&&(h||(h=Y(t,$t,{duration:_e,y:100},!1)),h.run(0)),g=!1},d(S){S&&R(t),Q(i),Q(a);for(let w=0;w<r.length;w+=1)r[w].d();S&&h&&h.end(),$=!1,z(p)}}}function on(n){let e,t,i;return t=new we({props:{active:n[2],onAdd:n[41],offset:15,addText:"add Line"}}),{c(){e=y("div"),x(t.$$.fragment),c(e,"class","Row"),_t(e,"height","100px")},m(s,a){N(s,e,a),W(t,e,null),i=!0},p(s,a){const l={};a[0]&4&&(l.active=s[2]),a[0]&32&&(l.onAdd=s[41]),t.$set(l)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&R(e),Q(t)}}}function _i(n){let e,t,i,s,a,l="Stop Edit	",r,o,d,u="Layout Row	",h,f,_,g="Layout Col	",$,p,v,E="Layout Items",m,k,D,A=[],K=new Map,J,S,w,F,ee=Z(n[5].data);const te=I=>I[45].id;for(let I=0;I<ee.length;I+=1){let P=xt(n,ee,I),q=te(P);K.set(q,A[I]=rn(q,P))}let C=n[2]&&on(n);return{c(){e=y("div"),t=y("div"),i=y("div"),s=y("div"),a=y("button"),r=G(l),o=H(),d=y("button"),h=G(u),f=H(),_=y("button"),$=G(g),p=H(),v=y("button"),m=G(E),D=H();for(let I=0;I<A.length;I+=1)A[I].c();J=H(),C&&C.c(),c(a,"data-active",n[1]),c(d,"data-active",n[2]),c(_,"data-active",n[3]),c(v,"data-active",n[4]),c(s,"class","SheetEditorMenu"),c(s,"data-isopen",k=n[1]||n[2]||n[3]||n[4]),c(i,"class","SheetEditorMenuContainer"),c(t,"class","Sheet"),c(e,"class","theme-light obsidianBody")},m(I,P){N(I,e,P),b(e,t),b(t,i),b(i,s),b(s,a),b(a,r),b(s,o),b(s,d),b(d,h),b(s,f),b(s,_),b(_,$),b(s,p),b(s,v),b(v,m),b(t,D);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(t,null);b(t,J),C&&C.m(t,null),S=!0,w||(F=[U(a,"click",n[16]),U(d,"click",n[17]),U(_,"click",n[18]),U(v,"click",n[19])],w=!0)},p(I,P){if((!S||P[0]&2)&&c(a,"data-active",I[1]),(!S||P[0]&4)&&c(d,"data-active",I[2]),(!S||P[0]&8)&&c(_,"data-active",I[3]),(!S||P[0]&16)&&c(v,"data-active",I[4]),(!S||P[0]&30&&k!==(k=I[1]||I[2]||I[3]||I[4]))&&c(s,"data-isopen",k),P[0]&31807){ee=Z(I[5].data),fe();for(let q=0;q<A.length;q+=1)A[q].r();A=Ke(A,P,te,1,I,ee,K,t,nt,rn,J,xt);for(let q=0;q<A.length;q+=1)A[q].a();ce()}I[2]?C?(C.p(I,P),P[0]&4&&B(C,1)):(C=on(I),C.c(),B(C,1),C.m(t,null)):C&&(fe(),j(C,1,1,()=>{C=null}),ce())},i(I){if(!S){for(let P=0;P<ee.length;P+=1)B(A[P]);B(C),S=!0}},o(I){for(let P=0;P<A.length;P+=1)j(A[P]);j(C),S=!1},d(I){I&&R(e);for(let P=0;P<A.length;P+=1)A[P].d();C&&C.d(),w=!1,z(F)}}}const Je=220,_e=100;class mi{constructor(e,t){O(this,"data");O(this,"state");O(this,"layerActive");O(this,"isDragging",!1);O(this,"pauseDragg",!1);O(this,"dragID");O(this,"targetID");this.data=e,this.state=t,this.layerActive=t.editLayout_01}moveRow(){this.isDragging&&(!this.dragID||!this.targetID||this.targetID==this.dragID||this.data.update(e=>{let t=this.findIndexOfID(this.dragID),i=this.findIndexOfID(this.targetID);const s=e.data[t];return this.pauseDragg=!0,setTimeout(()=>{this.pauseDragg=!1},Je),e.data[t]=e.data[i],e.data[i]=s,e}))}onDragStart(e,t){if(!X(this.layerActive))return;const i=e.target;i.classList.contains("Row")&&(this.isDragging=!0,this.dragID=t,i.setAttribute("data-dragging","true"))}onDragOver(e,t){X(this.layerActive)&&(!this.isDragging||this.pauseDragg||(this.targetID=t,this.moveRow()))}onDragEnd(e,t){if(!X(this.layerActive))return;this.isDragging=!1,this.dragID=null,this.targetID=null,e.target.setAttribute("data-dragging","false")}findIndexOfID(e){return X(this.data).data.findIndex(t=>t.id==e)}}class pi{constructor(e,t){O(this,"data");O(this,"state");O(this,"layerActive");O(this,"isDragging",!1);O(this,"pauseDragg",!1);O(this,"dragTargetElement");O(this,"dragID");O(this,"targetID");O(this,"lastDragId");O(this,"lasttargId");this.data=e,this.state=t,this.layerActive=t.editLayout_02}innerMoveItem(e,t,i){let s,a,l,r;if([s,a]=this.findRowIndexOfID(t),[l,r]=this.findRowIndexOfID(i),s==-1||l==-1)return;const o=e.data[s].data[a],d=e.data[l].data[r];e.data[s].data[a]=d,e.data[l].data[r]=o}moveRowItem(){this.isDragging&&(!this.dragID||this.targetID==this.dragID||this.data.update(e=>this.dragID==this.lastDragId&&this.targetID==this.lasttargId?(this.innerMoveItem(e,this.lasttargId,this.lastDragId),e):(this.lastDragId&&this.lasttargId&&this.innerMoveItem(e,this.lastDragId,this.lasttargId),this.targetID&&this.innerMoveItem(e,this.dragID,this.targetID),this.lastDragId=this.dragID,this.lasttargId=this.targetID,this.pauseDragg=!0,setTimeout(()=>{this.pauseDragg=!1},Je),e)))}onDragStart(e,t){if(!X(this.layerActive))return;const i=e.target;i.classList.contains("Column")&&(this.dragTargetElement=i,this.isDragging=!0,this.dragID=t,this.lastDragId=null,this.lasttargId=null,i.setAttribute("data-dragging","true"))}onDragOver(e,t){var i;X(this.layerActive)&&(!this.isDragging||this.pauseDragg||(this.targetID=t,this.moveRowItem(),(i=this.dragTargetElement)==null||i.setAttribute("data-dragging","true")))}onDragEnd(e,t){var i;X(this.layerActive)&&(this.isDragging=!1,this.dragID=null,this.targetID=null,e.target.setAttribute("data-dragging","false"),(i=this.dragTargetElement)==null||i.setAttribute("data-dragging","false"))}onLeave(e,t){this.targetID=null}findRowIndexOfID(e){let t=-1;return[X(this.data).data.findIndex(s=>{let a=s.data.findIndex(l=>l.id==e);return a!=-1?(t=a,!0):!1}),t]}isBeingDragged(e){return this.dragID==e}}class vi{constructor(e,t){O(this,"data");O(this,"state");O(this,"layerActive");O(this,"isDragging",!1);O(this,"pauseDragg",!1);O(this,"dragTargetElement");O(this,"dragID");O(this,"targetID");O(this,"targetRowId");O(this,"lastDragId");O(this,"lasttargId");O(this,"lasttargRowId");this.data=e,this.state=t,this.layerActive=t.editLayout_03}innerSwitchItem(e,t,i){let s,a,l,r,o,d;if([s,a,l]=this.findIndexsOfID(t),[r,o,d]=this.findIndexsOfID(i),s==-1||r==-1||a==-1||o==-1||l==-1||d==-1)return;const u=e.data[s].data[a].data[l],h=e.data[r].data[o].data[d];e.data[s].data[a].data[l]=h,e.data[r].data[o].data[d]=u}innerMoveItem(e,t,i){let s,a,l,r,o;if([s,a,l]=this.findIndexsOfID(t),[r,o]=this.findColumnIndexsOfID(i),s==-1||r==-1||a==-1||o==-1||l==-1||s==r&&a==o)return;let d=e.data[s].data[a].data.splice(l,1)[0];e.data[r].data[o].data.push(d)}moveRowItem(){this.isDragging&&(!this.dragID||this.targetID==this.dragID||this.targetRowId&&this.data.update(e=>(this.targetRowId&&this.innerMoveItem(e,this.dragID,this.targetRowId),this.lastDragId=this.dragID,this.lasttargId=this.targetID,this.lasttargRowId=null,this.pauseDragg=!0,setTimeout(()=>{this.pauseDragg=!1},Je),e)))}requestMoveItemUpDown(e,t){this.data.update(i=>{let s,a,l;[s,a,l]=this.findIndexsOfID(t);let r=l+e;if(r<0)return;if(i.data[s].data[a].data.length-1<r)return console.error("Out of Bounds move, so did not attempt"),i;const o=i.data[s].data[a].data.splice(l,1)[0];return i.data[s].data[a].data.splice(r,0,o),this.pauseDragg=!0,setTimeout(()=>{this.pauseDragg=!1},Je),i})}onDragStart(e,t){if(!X(this.layerActive))return;const i=e.target;i.classList.contains("Item")&&(this.dragTargetElement=i,this.isDragging=!0,this.dragID=t,this.lastDragId=null,this.lasttargId=null,i.setAttribute("data-dragging","true"))}onDragOverColumn(e,t){var i;X(this.layerActive)&&(!this.isDragging||this.pauseDragg||(this.targetID=null,this.targetRowId=t,this.moveRowItem(),(i=this.dragTargetElement)==null||i.setAttribute("data-dragging","true")))}onDragEnd(e,t){var i;X(this.layerActive)&&(this.isDragging=!1,this.dragID=null,this.targetID=null,e.target.setAttribute("data-dragging","false"),(i=this.dragTargetElement)==null||i.setAttribute("data-dragging","false"))}onLeave(e,t){this.targetID=null}findIndexsOfID(e){let t=-1,i=-1,s=-1;return s=X(this.data).data.findIndex(l=>{let r=l.data.findIndex(o=>{let d=o.data.findIndex(u=>u.id==e);return d!=-1?(t=d,!0):!1});return r!=-1?(i=r,!0):!1}),[s,i,t]}findColumnIndexsOfID(e){let t=-1,i=-1;return i=X(this.data).data.findIndex(a=>{let l=a.data.findIndex(r=>r.id==e);return l!=-1?(t=l,!0):!1}),[i,t]}isBeingDragged(e){return this.dragID==e}}class bi{constructor(){O(this,"editMode",Ne(!1));O(this,"editLayout_01",Ne(!1));O(this,"editLayout_02",Ne(!1));O(this,"editLayout_03",Ne(!1));this.editMode.subscribe(e=>{e&&(this.editLayout_01.set(!1),this.editLayout_02.set(!1),this.editLayout_03.set(!1))}),this.editLayout_01.subscribe(e=>{e&&(this.editLayout_02.set(!1),this.editLayout_03.set(!1),this.editMode.set(!1))}),this.editLayout_02.subscribe(e=>{e&&(this.editLayout_01.set(!1),this.editLayout_03.set(!1),this.editMode.set(!1))}),this.editLayout_03.subscribe(e=>{e&&(this.editLayout_01.set(!1),this.editLayout_02.set(!1),this.editMode.set(!1))})}}function dn(n,e,t=" "){let i=e;for(let s=0;s<n-1;s++)i+=t,i+=e;return i}const yi=n=>{n.preventDefault()};function $i(n,e,t){let i,s,a,l,r,o=new bi,d=o.editMode;Oe(n,d,M=>t(1,i=M));let u=o.editLayout_01;Oe(n,u,M=>t(2,s=M));let h=o.editLayout_02;Oe(n,h,M=>t(3,a=M));let f=o.editLayout_03;Oe(n,f,M=>t(4,l=M));let{textData:_}=e,{sys:g}=e,$=JSON.parse(_),p=new En($),v=Ne(p);Oe(n,v,M=>t(5,r=M));function E(M,V){D.requestMoveItemUpDown(M,V)}ke(()=>{});let m=new mi(v,o),k=new pi(v,o),D=new vi(v,o);const A=()=>d.set(!i),K=()=>u.set(!X(u)),J=()=>h.set(!X(h)),S=()=>f.set(!X(f)),w=M=>{M.addColumn(),v.update(V=>V)},F=M=>{v.update(V=>(V.remRow(M.id),V))},ee=(M,V)=>{M.remColumn(V.id),v.update(lt=>lt)},te=M=>{M.addItem(),v.update(V=>V)},C=(M,V)=>{M.remItem(V.id),v.update(lt=>lt)},I=M=>{E(-1,M.detail)},P=M=>{E(1,M.detail)},q=(M,V)=>{D.onDragStart(V,M.id)},wi=(M,V)=>{D.onDragEnd(V,M.id)},Di=(M,V)=>{D.onDragEnd(V,M.id)},ki=(M,V)=>{D.onLeave(V,M.id)},Ii=(M,V)=>{k.onDragStart(V,M.id)},Mi=(M,V)=>{k.onDragOver(V,M.id),D.onDragOverColumn(V,M.id)},Si=(M,V)=>{k.onDragEnd(V,M.id)},Ci=(M,V)=>{k.onDragEnd(V,M.id)},Oi=(M,V)=>{k.onLeave(V,M.id)},Li=(M,V)=>{k.onDragOver(V,M.id),D.onDragOverColumn(V,M.id),V.preventDefault()},Ei=(M,V)=>m.onDragStart(V,M.id),Ai=(M,V)=>m.onDragOver(V,M.id),Ri=(M,V)=>m.onDragEnd(V,M.id),Ni=(M,V)=>{m.onDragOver(V,M.id),V.preventDefault()},Bi=()=>{v.update(M=>(M.addRow(),M.data[r.data.length-1].addColumn(),M))};return n.$$set=M=>{"textData"in M&&t(15,_=M.textData),"sys"in M&&t(0,g=M.sys)},[g,i,s,a,l,r,d,u,h,f,v,E,m,k,D,_,A,K,J,S,w,F,ee,te,C,I,P,q,wi,Di,ki,Ii,Mi,Si,Ci,Oi,Li,Ei,Ai,Ri,Ni,Bi]}class un extends de{constructor(e){super(),re(this,e,$i,_i,ie,{textData:15,sys:0},null,[-1,-1])}get textData(){return this.$$.ctx[15]}set textData(e){this.$$set({textData:e}),L()}get sys(){return this.$$.ctx[0]}set sys(e){this.$$set({sys:e}),L()}}return oe(un,{textData:{},sys:{}},[],[],!0),un});
//# sourceMappingURL=components.umd.cjs.map
