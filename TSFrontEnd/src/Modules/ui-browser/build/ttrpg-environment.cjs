"use strict";var Ve=Object.defineProperty;var Le=(n,e,t)=>e in n?Ve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var O=(n,e,t)=>(Le(n,typeof e!="symbol"?e+"":e,t),t);require("events");function noop(){}const identity=n=>n;function run(n){return n()}function blank_object(){return Object.create(null)}function run_all(n){n.forEach(run)}function is_function(n){return typeof n=="function"}function safe_not_equal(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function is_empty(n){return Object.keys(n).length===0}function subscribe(n,...e){if(n==null)return noop;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function component_subscribe(n,e,t){n.$$.on_destroy.push(subscribe(e,t))}function split_css_unit(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const contenteditable_truthy_values=["",!0,1,"true","contenteditable"],is_client=typeof window<"u";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?n=>requestAnimationFrame(n):noop;const tasks=new Set;function run_tasks(n){tasks.forEach(e=>{e.c(n)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(n){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(t=>{tasks.add(e={c:n,f:t})}),abort(){tasks.delete(e)}}}let is_hydrating=!1;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(n,e,t,r){for(;n<e;){const i=n+(e-n>>1);t(i)<=r?n=i+1:e=i}return n}function init_hydrate(n){if(n.hydrate_init)return;n.hydrate_init=!0;let e=n.childNodes;if(n.nodeName==="HEAD"){const c=[];for(let l=0;l<e.length;l++){const d=e[l];d.claim_order!==void 0&&c.push(d)}e=c}const t=new Int32Array(e.length+1),r=new Int32Array(e.length);t[0]=-1;let i=0;for(let c=0;c<e.length;c++){const l=e[c].claim_order,d=(i>0&&e[t[i]].claim_order<=l?i+1:upper_bound(1,i,f=>e[t[f]].claim_order,l))-1;r[c]=t[d]+1;const u=d+1;t[u]=c,i=Math.max(u,i)}const a=[],o=[];let s=e.length-1;for(let c=t[i]+1;c!=0;c=r[c-1]){for(a.push(e[c-1]);s>=c;s--)o.push(e[s]);s--}for(;s>=0;s--)o.push(e[s]);a.reverse(),o.sort((c,l)=>c.claim_order-l.claim_order);for(let c=0,l=0;c<o.length;c++){for(;l<a.length&&o[c].claim_order>=a[l].claim_order;)l++;const d=l<a.length?a[l]:null;n.insertBefore(o[c],d)}}function append(n,e){n.appendChild(e)}function get_root_for_style(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function append_empty_stylesheet(n){const e=element("style");return append_stylesheet(get_root_for_style(n),e),e.sheet}function append_stylesheet(n,e){return append(n.head||n,e),e.sheet}function append_hydration(n,e){if(is_hydrating){for(init_hydrate(n),(n.actual_end_child===void 0||n.actual_end_child!==null&&n.actual_end_child.parentNode!==n)&&(n.actual_end_child=n.firstChild);n.actual_end_child!==null&&n.actual_end_child.claim_order===void 0;)n.actual_end_child=n.actual_end_child.nextSibling;e!==n.actual_end_child?(e.claim_order!==void 0||e.parentNode!==n)&&n.insertBefore(e,n.actual_end_child):n.actual_end_child=e.nextSibling}else(e.parentNode!==n||e.nextSibling!==null)&&n.appendChild(e)}function insert_hydration(n,e,t){is_hydrating&&!t?append_hydration(n,e):(e.parentNode!==n||e.nextSibling!=t)&&n.insertBefore(e,t||null)}function detach(n){n.parentNode&&n.parentNode.removeChild(n)}function destroy_each(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function element(n){return document.createElement(n)}function svg_element(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function text(n){return document.createTextNode(n)}function space(){return text(" ")}function listen(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function attr(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function children(n){return Array.from(n.childNodes)}function init_claim_info(n){n.claim_info===void 0&&(n.claim_info={last_index:0,total_claimed:0})}function claim_node(n,e,t,r,i=!1){init_claim_info(n);const a=(()=>{for(let o=n.claim_info.last_index;o<n.length;o++){const s=n[o];if(e(s)){const c=t(s);return c===void 0?n.splice(o,1):n[o]=c,i||(n.claim_info.last_index=o),s}}for(let o=n.claim_info.last_index-1;o>=0;o--){const s=n[o];if(e(s)){const c=t(s);return c===void 0?n.splice(o,1):n[o]=c,i?c===void 0&&n.claim_info.last_index--:n.claim_info.last_index=o,s}}return r()})();return a.claim_order=n.claim_info.total_claimed,n.claim_info.total_claimed+=1,a}function claim_element_base(n,e,t,r){return claim_node(n,i=>i.nodeName===e,i=>{const a=[];for(let o=0;o<i.attributes.length;o++){const s=i.attributes[o];t[s.name]||a.push(s.name)}a.forEach(o=>i.removeAttribute(o))},()=>r(e))}function claim_element(n,e,t){return claim_element_base(n,e,t,element)}function claim_svg_element(n,e,t){return claim_element_base(n,e,t,svg_element)}function claim_text(n,e){return claim_node(n,t=>t.nodeType===3,t=>{const r=""+e;if(t.data.startsWith(r)){if(t.data.length!==r.length)return t.splitText(r.length)}else t.data=r},()=>text(e),!0)}function claim_space(n){return claim_text(n," ")}function set_data(n,e){e=""+e,n.data!==e&&(n.data=e)}function set_data_contenteditable(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function set_data_maybe_contenteditable(n,e,t){~contenteditable_truthy_values.indexOf(t)?set_data_contenteditable(n,e):set_data(n,e)}function set_style(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function custom_event(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}const managed_styles=new Map;let active=0;function hash(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function create_style_information(n,e){const t={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(n,t),t}function create_rule(n,e,t,r,i,a,o,s=0){const c=16.666/r;let l=`{
`;for(let g=0;g<=1;g+=c){const h=e+(t-e)*a(g);l+=g*100+`%{${o(h,1-h)}}
`}const d=l+`100% {${o(t,1-t)}}
}`,u=`__svelte_${hash(d)}_${s}`,f=get_root_for_style(n),{stylesheet:_,rules:p}=managed_styles.get(f)||create_style_information(f,n);p[u]||(p[u]=!0,_.insertRule(`@keyframes ${u} ${d}`,_.cssRules.length));const y=n.style.animation||"";return n.style.animation=`${y?`${y}, `:""}${u} ${r}ms linear ${i}ms 1 both`,active+=1,u}function delete_rule(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&detach(e)}),managed_styles.clear())})}let current_component;function set_current_component(n){current_component=n}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(n){get_current_component().$$.on_mount.push(n)}function createEventDispatcher(){const n=get_current_component();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const a=custom_event(e,t,{cancelable:r});return i.slice().forEach(o=>{o.call(n,a)}),!a.defaultPrevented}return!0}}function bubble(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(n){render_callbacks.push(n)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const n=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(n)}function update(n){if(n.fragment!==null){n.update(),run_all(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(add_render_callback)}}function flush_render_callbacks(n){const e=[],t=[];render_callbacks.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),render_callbacks=e}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(n,e,t){n.dispatchEvent(custom_event(`${e?"intro":"outro"}${t}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(n,e){n&&n.i&&(outroing.delete(n),n.i(e))}function transition_out(n,e,t,r){if(n&&n.o){if(outroing.has(n))return;outroing.add(n),outros.c.push(()=>{outroing.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const null_transition={duration:0};function create_in_transition(n,e,t){const r={direction:"in"};let i=e(n,t,r),a=!1,o,s,c=0;function l(){o&&delete_rule(n,o)}function d(){const{delay:f=0,duration:_=300,easing:p=identity,tick:y=noop,css:g}=i||null_transition;g&&(o=create_rule(n,0,1,_,f,p,g,c++)),y(0,1);const h=now()+f,P=h+_;s&&s.abort(),a=!0,add_render_callback(()=>dispatch(n,!0,"start")),s=loop(v=>{if(a){if(v>=P)return y(1,0),dispatch(n,!0,"end"),l(),a=!1;if(v>=h){const m=p((v-h)/_);y(m,1-m)}}return a})}let u=!1;return{start(){u||(u=!0,delete_rule(n),is_function(i)?(i=i(r),wait().then(d)):d())},invalidate(){u=!1},end(){a&&(l(),a=!1)}}}function create_out_transition(n,e,t){const r={direction:"out"};let i=e(n,t,r),a=!0,o;const s=outros;s.r+=1;function c(){const{delay:l=0,duration:d=300,easing:u=identity,tick:f=noop,css:_}=i||null_transition;_&&(o=create_rule(n,1,0,d,l,u,_));const p=now()+l,y=p+d;add_render_callback(()=>dispatch(n,!1,"start")),loop(g=>{if(a){if(g>=y)return f(0,1),dispatch(n,!1,"end"),--s.r||run_all(s.c),!1;if(g>=p){const h=u((g-p)/d);f(1-h,h)}}return a})}return is_function(i)?wait().then(()=>{i=i(r),c()}):c(),{end(l){l&&i.tick&&i.tick(1,0),a&&(o&&delete_rule(n,o),a=!1)}}}function create_bidirectional_transition(n,e,t,r){const i={direction:"both"};let a=e(n,t,i),o=r?0:1,s=null,c=null,l=null;function d(){l&&delete_rule(n,l)}function u(_,p){const y=_.b-o;return p*=Math.abs(y),{a:o,b:_.b,d:y,duration:p,start:_.start,end:_.start+p,group:_.group}}function f(_){const{delay:p=0,duration:y=300,easing:g=identity,tick:h=noop,css:P}=a||null_transition,v={start:now()+p,b:_};_||(v.group=outros,outros.r+=1),s||c?c=v:(P&&(d(),l=create_rule(n,o,_,y,p,g,P)),_&&h(0,1),s=u(v,y),add_render_callback(()=>dispatch(n,_,"start")),loop(m=>{if(c&&m>c.start&&(s=u(c,y),c=null,dispatch(n,s.b,"start"),P&&(d(),l=create_rule(n,o,s.b,s.duration,0,g,a.css))),s){if(m>=s.end)h(o=s.b,1-o),dispatch(n,s.b,"end"),c||(s.b?d():--s.group.r||run_all(s.group.c)),s=null;else if(m>=s.start){const A=m-s.start;o=s.a+s.d*g(A/s.duration),h(o,1-o)}}return!!(s||c)}))}return{run(_){is_function(a)?wait().then(()=>{a=a(i),f(_)}):f(_)},end(){d(),s=c=null}}}function outro_and_destroy_block(n,e){transition_out(n,1,1,()=>{e.delete(n.key)})}function update_keyed_each(n,e,t,r,i,a,o,s,c,l,d,u){let f=n.length,_=a.length,p=f;const y={};for(;p--;)y[n[p].key]=p;const g=[],h=new Map,P=new Map,v=[];for(p=_;p--;){const S=u(i,a,p),b=t(S);let G=o.get(b);G?r&&v.push(()=>G.p(S,e)):(G=l(b,S),G.c()),h.set(b,g[p]=G),b in y&&P.set(b,Math.abs(p-y[b]))}const m=new Set,A=new Set;function E(S){transition_in(S,1),S.m(s,d),o.set(S.key,S),d=S.first,_--}for(;f&&_;){const S=g[_-1],b=n[f-1],G=S.key,T=b.key;S===b?(d=S.first,f--,_--):h.has(T)?!o.has(G)||m.has(G)?E(S):A.has(T)?f--:P.get(G)>P.get(T)?(A.add(G),E(S)):(m.add(T),f--):(c(b,o),f--)}for(;f--;){const S=n[f];h.has(S.key)||c(S,o)}for(;_;)E(g[_-1]);return run_all(v),g}function create_component(n){n&&n.c()}function claim_component(n,e){n&&n.l(e)}function mount_component(n,e,t,r){const{fragment:i,after_update:a}=n.$$;i&&i.m(e,t),r||add_render_callback(()=>{const o=n.$$.on_mount.map(run).filter(is_function);n.$$.on_destroy?n.$$.on_destroy.push(...o):run_all(o),n.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(n,e){const t=n.$$;t.fragment!==null&&(flush_render_callbacks(t.after_update),run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(n,e){n.$$.dirty[0]===-1&&(dirty_components.push(n),schedule_update(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function init(n,e,t,r,i,a,o,s=[-1]){const c=current_component;set_current_component(n);const l=n.$$={fragment:null,ctx:[],props:a,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let d=!1;if(l.ctx=t?t(n,e.props||{},(u,f,..._)=>{const p=_.length?_[0]:f;return l.ctx&&i(l.ctx[u],l.ctx[u]=p)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](p),d&&make_dirty(n,u)),f}):[],l.update(),d=!0,run_all(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){start_hydrating();const u=children(e.target);l.fragment&&l.fragment.l(u),u.forEach(detach)}else l.fragment&&l.fragment.c();e.intro&&transition_in(n.$$.fragment),mount_component(n,e.target,e.anchor,e.customElement),end_hydrating(),flush()}set_current_component(c)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function cubicOut(n){const e=n-1;return e*e*e+1}function fade(n,{delay:e=0,duration:t=400,easing:r=identity}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:a=>`opacity: ${a*i}`}}function fly(n,{delay:e=0,duration:t=400,easing:r=cubicOut,x:i=0,y:a=0,opacity:o=0}={}){const s=getComputedStyle(n),c=+s.opacity,l=s.transform==="none"?"":s.transform,d=c*(1-o),[u,f]=split_css_unit(i),[_,p]=split_css_unit(a);return{delay:e,duration:t,easing:r,css:(y,g)=>`
			transform: ${l} translate(${(1-y)*u}${f}, ${(1-y)*_}${p});
			opacity: ${c-d*g}`}}function slide(n,{delay:e=0,duration:t=400,easing:r=cubicOut,axis:i="y"}={}){const a=getComputedStyle(n),o=+a.opacity,s=i==="y"?"height":"width",c=parseFloat(a[s]),l=i==="y"?["top","bottom"]:["left","right"],d=l.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),u=parseFloat(a[`padding${d[0]}`]),f=parseFloat(a[`padding${d[1]}`]),_=parseFloat(a[`margin${d[0]}`]),p=parseFloat(a[`margin${d[1]}`]),y=parseFloat(a[`border${d[0]}Width`]),g=parseFloat(a[`border${d[1]}Width`]);return{delay:e,duration:t,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};${s}: ${h*c}px;padding-${l[0]}: ${h*u}px;padding-${l[1]}: ${h*f}px;margin-${l[0]}: ${h*_}px;margin-${l[1]}: ${h*p}px;border-${l[0]}-width: ${h*y}px;border-${l[1]}-width: ${h*g}px;`}}const app$1="";var extendStatics=function(n,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},extendStatics(n,e)};function __extends(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},__assign.apply(this,arguments)};function __rest(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function __decorate(n,e,t,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(i<3?o(a):i>3?o(e,t,a):o(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function __param(n,e){return function(t,r){e(t,r,n)}}function __esDecorate(n,e,t,r,i,a){function o(h){if(h!==void 0&&typeof h!="function")throw new TypeError("Function expected");return h}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,f=!1,_=t.length-1;_>=0;_--){var p={};for(var y in r)p[y]=y==="access"?{}:r[y];for(var y in r.access)p.access[y]=r.access[y];p.addInitializer=function(h){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(h||null))};var g=(0,t[_])(s==="accessor"?{get:d.get,set:d.set}:d[c],p);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(u=o(g.get))&&(d.get=u),(u=o(g.set))&&(d.set=u),(u=o(g.init))&&i.unshift(u)}else(u=o(g))&&(s==="field"?i.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),f=!0}function __runInitializers(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function __propKey(n){return typeof n=="symbol"?n:"".concat(n)}function __setFunctionName(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function __metadata(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function __awaiter(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(d){try{l(r.next(d))}catch(u){o(u)}}function c(d){try{l(r.throw(d))}catch(u){o(u)}}function l(d){d.done?a(d.value):i(d.value).then(s,c)}l((r=r.apply(n,e||[])).next())})}function __generator(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(d){l=[6,d],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var __createBinding=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};function __exportStar(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&__createBinding(e,n,t)}function __values(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}function __spread(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(__read(arguments[e]));return n}function __spreadArrays(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function __spreadArray(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function __await(n){return this instanceof __await?(this.v=n,this):new __await(n)}function __asyncGenerator(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(p){return Promise.resolve(p).then(_,u)}}function s(_,p){r[_]&&(i[_]=function(y){return new Promise(function(g,h){a.push([_,y,g,h])>1||c(_,y)})},p&&(i[_]=p(i[_])))}function c(_,p){try{l(r[_](p))}catch(y){f(a[0][3],y)}}function l(_){_.value instanceof __await?Promise.resolve(_.value.v).then(d,u):f(a[0][2],_)}function d(_){c("next",_)}function u(_){c("throw",_)}function f(_,p){_(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function __asyncDelegator(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=n[i]?function(o){return(t=!t)?{value:__await(n[i](o)),done:!1}:a?a(o):o}:a}}function __asyncValues(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(s,c){o=n[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function __makeTemplateObject(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var __setModuleDefault=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};function __importStar(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&__createBinding(e,n,t);return __setModuleDefault(e,n),e}function __importDefault(n){return n&&n.__esModule?n:{default:n}}function __classPrivateFieldGet(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function __classPrivateFieldSet(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function __classPrivateFieldIn(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function __addDisposableResource(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function __disposeResources(n){function e(a){n.error=n.hasError?new _SuppressedError(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__extends,get __assign(){return __assign},__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,default:tslib_es6},Symbol.toStringTag,{value:"Module"}));function create_fragment$6(n){let e,t,r,i;return{c(){e=svg_element("svg"),t=svg_element("circle"),r=svg_element("line"),i=svg_element("line"),this.h()},l(a){e=claim_svg_element(a,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var o=children(e);t=claim_svg_element(o,"circle",{cx:!0,cy:!0,r:!0});var s=children(t);s.forEach(detach),r=claim_svg_element(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0});var c=children(r);c.forEach(detach),i=claim_svg_element(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0});var l=children(i);l.forEach(detach),o.forEach(detach),this.h()},h(){attr(t,"cx","12"),attr(t,"cy","12"),attr(t,"r","10"),attr(r,"x1","12"),attr(r,"y1","8"),attr(r,"x2","12"),attr(r,"y2","16"),attr(i,"x1","8"),attr(i,"y1","12"),attr(i,"x2","16"),attr(i,"y2","12"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"width","100%"),attr(e,"height","100%"),attr(e,"viewBox","0 0 24 24"),attr(e,"fill","none"),attr(e,"stroke",n[0]),attr(e,"stroke-width","2"),attr(e,"stroke-linecap","round"),attr(e,"stroke-linejoin","round"),attr(e,"class","svg-icon lucide-plus-circle")},m(a,o){insert_hydration(a,e,o),append_hydration(e,t),append_hydration(e,r),append_hydration(e,i)},p(a,[o]){o&1&&attr(e,"stroke",a[0])},i:noop,o:noop,d(a){a&&detach(e)}}}function instance$6(n,e,t){let{color:r="black"}=e;return n.$$set=i=>{"color"in i&&t(0,r=i.color)},[r]}class Plus extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{color:0})}}function get_each_context$1(n,e,t){const r=n.slice();return r[16]=e[t],r[17]=e,r[18]=t,r}function create_each_block$1(n,e){let t,r,i=e[16].name+"",a,o,s,c,l,d;function u(){e[10].call(r,e[17],e[18])}function f(){return e[11](e[16])}return{key:n,first:null,c(){t=element("div"),r=element("div"),a=text(i),this.h()},l(_){t=claim_element(_,"DIV",{class:!0,"data-selected":!0,"data-can-hover":!0});var p=children(t);r=claim_element(p,"DIV",{tabindex:!0,class:!0,contenteditable:!0});var y=children(r);a=claim_text(y,i),y.forEach(detach),p.forEach(detach),this.h()},h(){attr(r,"tabindex","-1"),attr(r,"class","Editable_column"),attr(r,"contenteditable","false"),e[16].name===void 0&&add_render_callback(u),attr(t,"class","Editable_row"),attr(t,"data-selected",o=e[16].isSelected),attr(t,"data-can-hover",!0),this.first=t},m(_,p){insert_hydration(_,t,p),append_hydration(t,r),append_hydration(r,a),e[16].name!==void 0&&(r.textContent=e[16].name),c=!0,l||(d=[listen(r,"input",u),listen(r,"click",f),listen(r,"keyup",e[9])],l=!0)},p(_,p){e=_,(!c||p&4)&&i!==(i=e[16].name+"")&&set_data_maybe_contenteditable(a,i,"false"),p&4&&e[16].name!==r.textContent&&(r.textContent=e[16].name),(!c||p&4&&o!==(o=e[16].isSelected))&&attr(t,"data-selected",o)},i(_){c||(add_render_callback(()=>{!c||(s||(s=create_bidirectional_transition(t,slide,{},!0)),s.run(1))}),c=!0)},o(_){s||(s=create_bidirectional_transition(t,slide,{},!1)),s.run(0),c=!1},d(_){_&&detach(t),_&&s&&s.end(),l=!1,run_all(d)}}}function create_if_block$1(n){let e,t,r,i,a,o,s;return r=new Plus({props:{color:"#fff"}}),{c(){e=element("div"),t=element("div"),create_component(r.$$.fragment),this.h()},l(c){e=claim_element(c,"DIV",{class:!0,"data-selected":!0,"data-can-hover":!0,style:!0});var l=children(e);t=claim_element(l,"DIV",{tabindex:!0,class:!0,contenteditable:!0});var d=children(t);claim_component(r.$$.fragment,d),d.forEach(detach),l.forEach(detach),this.h()},h(){attr(t,"tabindex","-1"),attr(t,"class","Editable_Icon"),attr(t,"contenteditable","false"),attr(e,"class","Editable_row Editable_rowPlusButton"),attr(e,"data-selected",!1),attr(e,"data-can-hover",!0),set_style(e,"display","flex"),set_style(e,"justify-content","center")},m(c,l){insert_hydration(c,e,l),append_hydration(e,t),mount_component(r,t,null),a=!0,o||(s=[listen(e,"click",n[12]),listen(e,"keyup",n[13])],o=!0)},p:noop,i(c){a||(transition_in(r.$$.fragment,c),add_render_callback(()=>{!a||(i||(i=create_bidirectional_transition(e,slide,{},!0)),i.run(1))}),a=!0)},o(c){transition_out(r.$$.fragment,c),i||(i=create_bidirectional_transition(e,slide,{},!1)),i.run(0),a=!1},d(c){c&&detach(e),destroy_component(r),c&&i&&i.end(),o=!1,run_all(s)}}}function create_fragment$5(n){let e,t=[],r=new Map,i,a,o,s=n[2];const c=d=>d[16].key;for(let d=0;d<s.length;d+=1){let u=get_each_context$1(n,s,d),f=c(u);r.set(f,t[d]=create_each_block$1(f,u))}let l=n[1]!=null&&create_if_block$1(n);return{c(){e=element("div");for(let d=0;d<t.length;d+=1)t[d].c();i=space(),l&&l.c(),this.h()},l(d){e=claim_element(d,"DIV",{class:!0});var u=children(e);for(let f=0;f<t.length;f+=1)t[f].l(u);i=claim_space(u),l&&l.l(u),u.forEach(detach),this.h()},h(){attr(e,"class",a=n[0]?"GrobsInteractiveContainer editableTable":"editableTable")},m(d,u){insert_hydration(d,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);append_hydration(e,i),l&&l.m(e,null),o=!0},p(d,[u]){u&12&&(s=d[2],group_outros(),t=update_keyed_each(t,u,c,1,d,s,r,e,outro_and_destroy_block,create_each_block$1,i,get_each_context$1),check_outros()),d[1]!=null?l?(l.p(d,u),u&2&&transition_in(l,1)):(l=create_if_block$1(d),l.c(),transition_in(l,1),l.m(e,null)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros()),(!o||u&1&&a!==(a=d[0]?"GrobsInteractiveContainer editableTable":"editableTable"))&&attr(e,"class",a)},i(d){if(!o){for(let u=0;u<s.length;u+=1)transition_in(t[u]);transition_in(l),o=!0}},o(d){for(let u=0;u<t.length;u+=1)transition_out(t[u]);transition_out(l),o=!1},d(d){d&&detach(e);for(let u=0;u<t.length;u+=1)t[u].d();l&&l.d()}}}function instance$5(n,e,t){let r,{isEditableContainer:i=!0}=e,{collection:a}=e,{onSelect:o}=e,{onAdd:s=null}=e;const c=createEventDispatcher();let l=null;function d(){if(!l)return;let v=r.findIndex(m=>m.isSelected);v!=-1&&t(2,r[v].isSelected=!1,r),l=null,c("onDeSelect")}function u(v){let m=r.find(A=>A.key==v);m&&f(m)}function f(v){let m=r.findIndex(E=>E.isSelected);if(m!=-1&&r[m].key==v.key){t(2,r[m].isSelected=!1,r),l=null,c("onDeSelect");return}m!=-1&&t(2,r[m].isSelected=!1,r),m=r.findIndex(E=>E.key==v.key);const A=o(r[m].key);A?l=r[m]:l=null,t(2,r[m].isSelected=A,r)}function _(){!s||(d(),s())}function p(v){bubble.call(this,n,v)}function y(v,m){v[m].name=this.textContent,t(2,r),t(5,a)}const g=v=>f(v),h=()=>_(),P=()=>_();return n.$$set=v=>{"isEditableContainer"in v&&t(0,i=v.isEditableContainer),"collection"in v&&t(5,a=v.collection),"onSelect"in v&&t(6,o=v.onSelect),"onAdd"in v&&t(1,s=v.onAdd)},n.$$.update=()=>{n.$$.dirty&32&&t(2,r=a.map(v=>{var m;return v.key&&v.value?{key:v.key,name:v.value,isSelected:(m=v.isSelected)!==null&&m!==void 0?m:!1,nameEdit:v.value}:{key:v,name:v,isSelected:!1,nameEdit:v}}))},[i,s,r,f,_,a,o,d,u,p,y,g,h,P]}class EditAbleList extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{isEditableContainer:0,collection:5,onSelect:6,onAdd:1,deselect:7,select:8})}get deselect(){return this.$$.ctx[7]}get select(){return this.$$.ctx[8]}}const subscriber_queue=[];function writable(n,e=noop){let t;const r=new Set;function i(s){if(safe_not_equal(n,s)&&(n=s,t)){const c=!subscriber_queue.length;for(const l of r)l[1](),subscriber_queue.push(l,n);if(c){for(let l=0;l<subscriber_queue.length;l+=2)subscriber_queue[l][0](subscriber_queue[l+1]);subscriber_queue.length=0}}}function a(s){i(s(n))}function o(s,c=noop){const l=[s,c];return r.add(l),r.size===1&&(t=e(i)||noop),s(n),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:o}}var BASE_SCHEME="_base",NoOutput={outError:function(n){},outLog:function(n){}},JSON_TAGS;(function(n){n.JSON_PROPERTY="JSON_PROPERTY",n.JSON_PROPERTY_TYPED="JSON_PROPERTY_TYPED",n.JSON_PROPERTY_TYPED_SKIP_FORCED="JSON_PROPERTY_TYPED_SKIP_FORCED",n.JSON_PROPERTY_NAME_MAP_IN="JSON_PROPERTY_NAME_MAP_IN",n.JSON_PROPERTY_NAME_MAP_OUT="JSON_PROPERTY_NAME_MAP_OUT",n.JSON_PROPERTY_FUNC_MAP_IN="JSON_PROPERTY_FUNC_MAP_IN",n.JSON_PROPERTY_FUNC_MAP_OUT="JSON_PROPERTY_FUNC_MAP_OUT",n.JSON_PROPERTY_FORCE_BASE_TYPE="JSON_PROPERTY_FORCE_BASE_TYPE",n.JSON_PROPERTY_FORCE_ARRAY="JSON_PROPERTY_FORCE_ARRAY",n.JSON_OBJECT_ON_AFTER_DE_SERIALIZATION="JSON_OBJECT_ON_AFTER_DE_SERIALIZATION",n.JSON_OBJECT_ON_AFTER_SERIALIZATION_BEFORE_STRING="JSON_OBJECT_ON_AFTER_SERIALIZATION_BEFORE_STRING",n.JSON_OBJECT_ON_AFTER_SERIALIZATION="JSON_OBJECT_ON_AFTER_SERIALIZATION",n.JSON_OBJECT_ON_BEFORE_SERIALIZATION="JSON_OBJECT_ON_BEFORE_SERIALIZATION",n.JSON_OBJECT_ON_BEFORE_DE_SERIALIZATION="JSON_OBJECT_ON_BEFORE_DE_SERIALIZATION"})(JSON_TAGS||(JSON_TAGS={}));var JSON_BASETYPES;(function(n){n.string="string",n.bool="bool",n.number="number"})(JSON_BASETYPES||(JSON_BASETYPES={}));function createGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n=="x"?e:e&3|8;return t.toString(16)})}var selfKey=createGuid()+"SELF",Reflect$1=function(){function n(){}return n.getPrototype=function(e){var t;return typeof e=="function"?t=e.prototype:t=e.constructor.prototype,t},n.setPrototype=function(e,t){if(typeof e=="function")throw new Error("Not Implemented Error, please report the scenario to me");Object.setPrototypeOf(e,t)},n.getOrCreateAllMetaData=function(e,t){t===void 0&&(t=!1);var r=n.getPrototype(e);if(r===Object.prototype||r==null)return null;var i=r;if(!i.gjmd){if(!t)return null;i.gjmd={}}if(i=i.gjmd,!i[r.constructor.name]){if(!t)return null;i[r.constructor.name]={}}return i=i[r.constructor.name],i},n.getOrCreateDefinedMetaData=function(e,t,r){r===void 0&&(r=!1);var i=n.getOrCreateAllMetaData(e,r);if(!i)return null;if(!i[t]){if(!r)return null;i[t]={}}return i[t]},n.getMetadataKeys=function(e,t,r){r===void 0&&(r=BASE_SCHEME);var i=n.getOrCreateDefinedMetaData(e,r);return!i||!i[t]?[]:Object.keys(i[t])},n.getOwnMetaDataKeys=function(e,t){return t===void 0&&(t=BASE_SCHEME),n.getMetadataKeys(e,selfKey,t)},n.getMetadata=function(e,t,r,i){var a;i===void 0&&(i=BASE_SCHEME);var o=n.getOrCreateDefinedMetaData(t,i);return o[r]&&(a=o[r][e])!==null&&a!==void 0?a:null},n.getOwnMetaData=function(e,t,r){return r===void 0&&(r=BASE_SCHEME),n.getMetadata(e,t,selfKey,r)},n.defineMetaData=function(e,t,r,i,a){a===void 0&&(a=BASE_SCHEME);var o=n.getOrCreateDefinedMetaData(r,a,!0);o[i]||(o[i]={}),o[i][e]=t},n.defineOwnMetaData=function(e,t,r,i){return i===void 0&&(i=BASE_SCHEME),n.defineMetaData(e,t,r,selfKey,i)},n.hasMetaData=function(e,t,r,i){var a;i===void 0&&(i=BASE_SCHEME);var o=n.getOrCreateDefinedMetaData(t,i);return o==null||!o[r]?!1:(a=o[r][e])!==null&&a!==void 0?a:!1},n.hasOwnMetaData=function(e,t,r){return r===void 0&&(r=BASE_SCHEME),n.hasMetaData(e,t,selfKey,r)},n.getAllMeta=function(e,t){return t?n.getOrCreateDefinedMetaData(e,t):n.getOrCreateAllMetaData(e,!0)},n}();function getMetadata(n,e,t,r){return r===void 0&&(r=BASE_SCHEME),Reflect$1.getMetadata(n,e,t,r)}function getOwnMetaData(n,e,t){return t===void 0&&(t=BASE_SCHEME),Reflect$1.getOwnMetaData(n,e,t)}function setMetadata(n,e,t,r,i){i===void 0&&(i=BASE_SCHEME),Reflect$1.defineMetaData(n,e,t,r,i)}function setOwnMetaData(n,e,t,r){r===void 0&&(r=BASE_SCHEME),Reflect$1.defineOwnMetaData(n,t,e,r)}function getOwnMetaDataKeys(n,e){e===void 0&&(e=BASE_SCHEME);var t=Reflect$1.getOwnMetaDataKeys(n,e);return t}function getMetaDataKeys(n,e,t){t===void 0&&(t=BASE_SCHEME);var r=Reflect$1.getMetadataKeys(n,e,t);return r}function hasMetaData(n,e){var t=Reflect$1.getAllMeta(n,e);return!!t}function getPrototype(n){return Reflect$1.getPrototype(n)}function setPrototype(n,e){return Reflect$1.setPrototype(n,e),Reflect$1.getPrototype(n)==e}function cleanNonAccesibleSettings(n){return n?((!n.scheme||n.scheme.length==0)&&(n.scheme=[BASE_SCHEME]),n.mappingFunctions=null,n.type=null,n.isArray=null,n.forceBaseType=null,n):{}}function JsonProperty(n){return function(e,t){var r;n!=null&&n.scheme?Array.isArray(n.scheme)?n.scheme.length==0?r=[BASE_SCHEME]:r=n.scheme:r=[n.scheme]:r=[BASE_SCHEME];for(var i=0;i<r.length;i++){var a=r[i];if(setMetadata(JSON_TAGS.JSON_PROPERTY,!0,e,t,a),!n)return;if(n.forceBaseType)switch(n.forceBaseType){case JSON_BASETYPES.string:case JSON_BASETYPES.number:case JSON_BASETYPES.bool:setMetadata(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE,n.forceBaseType,e,t,a)}n.isArray&&setMetadata(JSON_TAGS.JSON_PROPERTY_FORCE_ARRAY,!0,e,t,a),n.name&&(setMetadata(JSON_TAGS.JSON_PROPERTY_NAME_MAP_IN,t,e,n.name,a),setMetadata(JSON_TAGS.JSON_PROPERTY_NAME_MAP_OUT,n.name,e,t,a)),n.mappingFunctions&&(setMetadata(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_IN,n.mappingFunctions.in,e,t,a),setMetadata(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_OUT,n.mappingFunctions.out,e,t,a)),n.type&&setMetadata(JSON_TAGS.JSON_PROPERTY_TYPED,n.type,e,t,a),n.skipForceType&&setMetadata(JSON_TAGS.JSON_PROPERTY_TYPED_SKIP_FORCED,!0,e,t,a)}}}function JsonNumber(n){return n=cleanNonAccesibleSettings(n),n.forceBaseType=JSON_BASETYPES.number,JsonProperty(n)}function JsonString(n){return n=cleanNonAccesibleSettings(n),n.forceBaseType=JSON_BASETYPES.string,JsonProperty(n)}function JsonBoolean(n){return n=cleanNonAccesibleSettings(n),n.forceBaseType=JSON_BASETYPES.bool,JsonProperty(n)}function JsonClassTyped(n,e){return e=cleanNonAccesibleSettings(e),e.type=n,JsonProperty(e)}function JsonArrayClassTyped(n,e){return e=cleanNonAccesibleSettings(e),e.isArray=!0,e.type=n,JsonProperty(e)}function JsonMappingRecordInArrayOut(n){var e=n.type;n=cleanNonAccesibleSettings(n!=null?n:{});var t=function(i,a){return Object.values(i).map(function(o){return a(o)})},r=function(i,a){var o={};return i.map(function(s){var c=a(s),l=c[n.KeyPropertyName];if(typeof l=="function")try{if(l=c[n.KeyPropertyName](),l==null)throw new Error("after calling function ".concat(n.KeyPropertyName," key value was '").concat(l,"' "))}catch{var d=l.length>0?", Note that message must have 0 Arguments, that arent either optional or have default values":"",u="Something went wrong with callign method '".concat(n.KeyPropertyName,"'").concat(d);throw new Error(u)}o[l]=c}),o};return e&&(n.type=e),n.mappingFunctions={out:t,in:r},JsonProperty(n)}function cleanObjectOptions(n){return n||(n={}),n.onAfterDeSerialization||(n.onAfterDeSerialization=function(e){}),(!n.scheme||n.scheme.length==0)&&(n.scheme=[BASE_SCHEME]),n}function JsonObject(n){return n=cleanObjectOptions(n),function(e){var t=n==null?void 0:n.scheme;(!t||t.length==0)&&(t=[BASE_SCHEME]);for(var r=0;r<t.length;r++){var i=t[r];n.onAfterDeSerialization&&setOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_DE_SERIALIZATION,e,n.onAfterDeSerialization,i),n.onAfterSerialization_beforeString&&setOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION_BEFORE_STRING,e,n.onAfterSerialization_beforeString,i),n.onAfterSerialization&&setOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION,e,n.onAfterSerialization,i),n.onBeforeSerialization&&setOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_BEFORE_SERIALIZATION,e,n.onBeforeSerialization,i),n.onBeforeDeSerialization&&setOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_BEFORE_DE_SERIALIZATION,e,n.onBeforeDeSerialization,i)}}}var JSONHandler=function(){function n(){}return n.serialize=function(e,t){t===void 0&&(t=BASE_SCHEME);var r=n.serializeRaw(e,t),i=JSON.stringify(r),a=getOwnMetaDataKeys(e);if(a.includes(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION)){var o=getOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION,e,t);o&&(i=o(i))}return i},n.serializeRaw=function(e,t,r){if(t===void 0&&(t=BASE_SCHEME),r===void 0&&(r="FIRST"),!e)return e;var i=typeof e;switch(i){case"string":return n.deserializeAndForceSimple("string",e,t);case"boolean":case"number":return e}if(!hasMetaData(e,t))try{return e}catch{return{}}var a={},o=getOwnMetaDataKeys(e);if(o.includes(JSON_TAGS.JSON_OBJECT_ON_BEFORE_SERIALIZATION)){var s=getOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_BEFORE_SERIALIZATION,e,t);s&&s(e)}var c;c=Object.getOwnPropertyNames(e);for(var l=function(u){var f=c[u],_=getMetaDataKeys(e,f,t);if(!_.includes(JSON_TAGS.JSON_PROPERTY))return"continue";var p=f;_.includes(JSON_TAGS.JSON_PROPERTY_NAME_MAP_OUT)&&(p=getMetadata(JSON_TAGS.JSON_PROPERTY_NAME_MAP_OUT,e,f,t));var y=function(N,w){return N},g=!1;_.includes(JSON_TAGS.JSON_PROPERTY_TYPED_SKIP_FORCED)&&(g=getMetadata(JSON_TAGS.JSON_PROPERTY_TYPED_SKIP_FORCED,e,f,t)),_.includes(JSON_TAGS.JSON_PROPERTY_TYPED)&&!g&&(y=function(N,w){var D=getMetadata(JSON_TAGS.JSON_PROPERTY_TYPED,e,f,t).prototype,X=getPrototype(N);setPrototype(N,D);var Q=w(N);return setPrototype(N,X),Q});var h=null;if(_.includes(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_OUT)){var P=getMetadata(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_OUT,e,f,t),v=function(N){return P(N,function(w){return y(w,function(D){return n.serializeRaw(D,t,r+":"+f)})})};h=v(e[f])}else if(_.includes(JSON_TAGS.JSON_PROPERTY_FORCE_ARRAY)){if(h=[],e[f])if(Array.isArray(e[f]))for(var m=function(N){var w=y(e[f][N],function(D){return n.serializeRaw(D,t,r+":["+N+"]:"+f)});h.push(w)},A=0;A<e[f].length;A++)m(A);else h.push(y(e[f],function(N){return n.serializeRaw(N,t,r+":"+f)}))}else h=y(e[f],function(N){return n.serializeRaw(N,t,r+":"+f)});if(_.includes(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE)){var E=getMetadata(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE,e,f,t),S=function(N){return n.deserializeAndForceSimple(E,N,t)};if(_.includes(JSON_TAGS.JSON_PROPERTY_FORCE_ARRAY)){for(var b=h,G=[],T=0;T<b.length;T++)G.push(S(b[T]));h=G}else h=S(e[f])}a[p]=h},d=0;d<c.length;d++)l(d);if(o.includes(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION_BEFORE_STRING)){var s=getOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_SERIALIZATION_BEFORE_STRING,e,t);s&&s(a)}return a},n.deserialize=function(e,t,r,i){r===void 0&&(r=BASE_SCHEME),i||(i=NoOutput);var a=typeof t;switch(a=="string"&&(t=JSON.parse(t)),a){case"boolean":case"number":i.outError("Cannot derserialize type of "+a);return}if(Array.isArray(t)){for(var o=[],s=0;s<t.length;s++)o.push(this.deserializeRaw(e,t[s],r));return o}else return this.deserializeRaw(e,t,r)},n.deserializeAndForceSimple=function(e,t,r){r===void 0&&(r=BASE_SCHEME);var i=t,a=function(s){return s};switch(e){case JSON_BASETYPES.bool:a=function(s){return Boolean(s)};break;case JSON_BASETYPES.string:if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t)){var o=JSON.stringify(t);return o}else if(typeof t=="object")return hasMetaData(t,r)?n.serialize(t,r):JSON.stringify(t);a=function(s){return String(s)};break;case JSON_BASETYPES.number:if(t==null)return 0;if(typeof t=="object")return 1;a=function(s){var c=Number(s);return isNaN(c)?0:c};break}return i=a(i),i},n.deserializeRaw=function(e,t,r,i){if(r===void 0&&(r=BASE_SCHEME),!t)return t;var a=new e,o=e.prototype,s=getOwnMetaDataKeys(e);if(s.includes(JSON_TAGS.JSON_OBJECT_ON_BEFORE_DE_SERIALIZATION)){var c=getOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_BEFORE_DE_SERIALIZATION,a,r);c&&(a=c(a,t)),n.areSamePrototypes(a,e)||(e=getPrototype(a).constructor)}for(var l=Object.getOwnPropertyNames(t),d=function(f){var _=l[f],p=_,y=getMetaDataKeys(e,_,r),g=_;if(y.length==0)return"continue";y.includes(JSON_TAGS.JSON_PROPERTY_NAME_MAP_IN)&&(_=getMetadata(JSON_TAGS.JSON_PROPERTY_NAME_MAP_IN,o,_,r),y=getMetaDataKeys(e,_,r),g=_);var h=null,P=getMetadata(JSON_TAGS.JSON_PROPERTY_TYPED,o,_,r);if(y.includes(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_IN)){var v=getMetadata(JSON_TAGS.JSON_PROPERTY_FUNC_MAP_IN,o,_,r);P?h=v(t[p],function(N){var w=n.deserializeRaw(P,N,r,_);return w}):h=v(t[p],function(N){return N})}else if(y.includes(JSON_TAGS.JSON_PROPERTY_FORCE_ARRAY)){var m=function(N){return N};P&&(m=function(N){return n.deserializeRaw(P,N,r,_)});var A=function(N,w){return m(N)};y.includes(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE)&&(A=function(N,w){return n.deserializeAndForceSimple(w,N)}),h=[];for(var E=getMetadata(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE,o,_,r),S=0;S<t[p].length;S++){var b=t[p][S],G=A(b,E);h.push(G)}}else if(P)h=n.deserializeRaw(P,t[p],r,_);else if(y.includes(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE)){var T=getMetadata(JSON_TAGS.JSON_PROPERTY_FORCE_BASE_TYPE,e,_,r);h=n.deserializeAndForceSimple(T,t[p])}else h=t[p];a[g]=h},u=0;u<l.length;u++)d(u);if(s=getOwnMetaDataKeys(a),s.includes(JSON_TAGS.JSON_OBJECT_ON_AFTER_DE_SERIALIZATION)){var c=getOwnMetaData(JSON_TAGS.JSON_OBJECT_ON_AFTER_DE_SERIALIZATION,a,r);c&&c(a)}return a},n.changePrototype=function(e,t){var r=getPrototype(t);setPrototype(e,r)},n.areSamePrototypes=function(e,t){var r=getPrototype(t),i=getPrototype(e);return r==i},n}();function getAugmentedNamespace(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var dist={},KeyManager$1={};Object.defineProperty(KeyManager$1,"__esModule",{value:!0});KeyManager$1.keyManagerInstance=KeyManager$1.KeyManager=void 0;var KeyManager=function(){function n(){this.keyCounter=0}return n.prototype.getNewKey=function(){var e=this.keyCounter++;return e.toString(16)},n}();KeyManager$1.KeyManager=KeyManager;KeyManager$1.keyManagerInstance=new KeyManager;var TTRPGSystemGraphModel$1={};const require$$0=getAugmentedNamespace(tslib_es6$1);var IOutputHandler={};Object.defineProperty(IOutputHandler,"__esModule",{value:!0});IOutputHandler.newOutputHandler=void 0;function newOutputHandler(){var n={outError:function(e){console.error(e)},outLog:function(e){console.log(e)}};return n}IOutputHandler.newOutputHandler=newOutputHandler;var GrobNodte={},AGraphItem$1={};Object.defineProperty(AGraphItem$1,"__esModule",{value:!0});AGraphItem$1.AGraphItem=void 0;var KeyManager_1=KeyManager$1,keyManager=new KeyManager_1.KeyManager,AGraphItem=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t=""),this.name=e,this._key=t+keyManager.getNewKey()}return n.prototype.getName=function(){return this.name},n.prototype.setName=function(e){this.name=e},n.prototype.getKey=function(){return this._key},n}();AGraphItem$1.AGraphItem=AGraphItem;Object.defineProperty(GrobNodte,"__esModule",{value:!0});GrobNodte.GrobDerivedNode=GrobNodte.GrobFixedNode=GrobNodte.GrobNode=GrobNodte.GrobDerivedOrigin=void 0;var tslib_1$3=require$$0,AGraphItem_1$2=AGraphItem$1,grobDerivedSymbolRegex=/@[a-zA-Z]/g,GrobDerivedOrigin=function(){function n(){this.standardValue=1}return n.UnkownLocationKey="unknown.unknown.unknown",n}();GrobNodte.GrobDerivedOrigin=GrobDerivedOrigin;var GrobNode=function(n){tslib_1$3.__extends(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.dependencies={},a.dependents={},a.updateListeners={},i&&(a.parent=i),a}return e.getTypeString=function(){return"Nodte<T extends Nodte<T>>"},e.prototype.addDependent=function(t){var r=t.getKey();return this.dependents[r]||(this.dependents[r]=t),!0},e.prototype.removeDependent=function(t){return delete this.dependents[t.getKey()],this.dependents[t.getKey()]==null},e.prototype.getDependents=function(){var t;return(t=Object.values(this.dependents))!==null&&t!==void 0?t:[]},e.prototype.getDependencies=function(){var t;return(t=Object.values(this.dependencies))!==null&&t!==void 0?t:[]},e.prototype.getLocationKey=function(){var t=this.getLocationKeySegments();return t.join(".")},e.prototype.getLocationKeySegments=function(){var t,r,i,a,o,s,c=["","",""];return c[0]=(i=(r=(t=this.parent)===null||t===void 0?void 0:t.parent)===null||r===void 0?void 0:r.getName())!==null&&i!==void 0?i:"unknown",c[1]=(o=(a=this.parent)===null||a===void 0?void 0:a.getName())!==null&&o!==void 0?o:"unknown",c[2]=(s=this.getName())!==null&&s!==void 0?s:"unknown",c},e.prototype.update=function(){var t=this;return this._update(),Object.keys(this.updateListeners).forEach(function(r){t.updateListeners[r]()}),!0},e.prototype.dispose=function(){for(var t in this.dependencies){var r=this.dependencies[t];r.removeDependent(this)}for(var t in this.dependents){var r=this.dependents[t];r.nullifyDependency(this)}this.parent=null,this.name=null},e.prototype.setName=function(t){var r=this.getName();n.prototype.setName.call(this,t),this.parent.update_node_name(r,t),this.updateLocation(this.parent)},e.prototype.updateLocation=function(t){this.parent=t;for(var r in this.dependents){var i=this.dependents[r];i.updateDependecysLocation(this)}},e.prototype.updateDependecysLocation=function(t){},e.prototype.isValid=function(){return!0},e.prototype.addUpdateListener=function(t,r){if(this.updateListeners[t]!=null)return console.error("tried to add updatelistener to node with key:"+t+". but there was already a listener using that key"),!1;this.updateListeners[t]=r},e.prototype.removeUpdateListener=function(t){delete this.updateListeners[t]},e.prototype.removeAllUpdateListeners=function(){this.updateListeners={}},e}(AGraphItem_1$2.AGraphItem);GrobNodte.GrobNode=GrobNode;var GrobFixedNode=function(n){tslib_1$3.__extends(e,n);function e(t,r){var i=n.call(this,t,"NF",r)||this;return i.___value=1,i}return e.prototype.getValue=function(){return this.___value},e.prototype.setValue=function(t){this.___value=t;for(var r in this.dependents){var i=this.dependents[r];i.update()}},e.getTypeString=function(){return"fixedNode"},e.prototype.getTypeString=function(){return e.getTypeString()},e.prototype.addDependency=function(t){return!1},e.prototype.removeDependency=function(t){return!1},e.prototype.nullifyDependency=function(t){return!1},e.prototype._update=function(){},e}(GrobNode);GrobNodte.GrobFixedNode=GrobFixedNode;var GrobDerivedNode=function(_super){tslib_1$3.__extends(GrobDerivedNode,_super);function GrobDerivedNode(n,e){var t=_super.call(this,n,"ND",e)||this;return t.calc="@a",t.origins=[],t._value=NaN,t}return GrobDerivedNode.prototype.getValue=function(){return this._value},GrobDerivedNode.prototype.setValue=function(n){this._value=n},GrobDerivedNode.getTypeString=function(){return"derivedNode"},GrobDerivedNode.prototype.getTypeString=function(){return GrobDerivedNode.getTypeString()},GrobDerivedNode.prototype.addDependency=function(n){var e=n.getKey();return this.dependencies[e]=n,n.addDependent(this),!0},GrobDerivedNode.prototype.removeDependency=function(n){var e=n.getKey();this.dependencies[e]&&(delete this.dependencies[e],n.removeDependent(this));for(var t=0;t<this.origins.length;t++){var r=this.origins[t];r.origin!=null&&r.origin.getKey()==e&&(r.origin=null)}return this.dependencies[e]==null},GrobDerivedNode.prototype.nullifyDependency=function(n){var e=n.getKey(),t=this.origins.find(function(r){var i;return((i=r.origin)===null||i===void 0?void 0:i.getKey())==e});return t&&(t.origin=null,t.originKey=GrobDerivedOrigin.UnkownLocationKey),this.removeDependency(n)},GrobDerivedNode.prototype.setOrigin=function(n,e,t){var r,i;t===void 0&&(t=null);var a=this.origins.find(function(s){return s.symbol==n});if(!a)return!1;a.origin&&this.removeDependency(a.origin);var o=(r=e==null?void 0:e.getTypeString())!==null&&r!==void 0?r:"";return["derivedNode","fixedNode"].find(function(s){return s==o})||(e=null),e&&this.addDependency(e),a.origin=e,a.standardValue=(i=t!=null?t:a.standardValue)!==null&&i!==void 0?i:1,a.origin&&(a.originKey=a.origin.getLocationKey()),this.isValid()&&this.recalculate(!1),!0},GrobDerivedNode.prototype.isValid=function(){var n=!1;if(this.origins.forEach(function(t){t.origin||(n=!0)}),n)return!1;var e=this.origins.filter(function(t){return t.origin!=null});return e.length==this.getDependencies().length},GrobDerivedNode.prototype.updateOrigins=function(){var n=this.parseCalculationToOrigins(this.calc);if(n){var e=n.symbolsToRem,t=n.symbolsToAdd;if(e.length!=0&&(this.origins=this.origins.filter(function(c){return!e.includes(c.symbol)})),t.length!=0)for(var r=0;r<t.length;r++){var i=new GrobDerivedOrigin;i.symbol=t[r],i.standardValue=1,i.origin=null,i.originKey=GrobDerivedOrigin.UnkownLocationKey,this.origins.push(i)}var a={};this.getDependencies().forEach(function(c){return a[c.getName()]=c});var o={};this.origins.forEach(function(c){var l;c.origin!=null&&(o[(l=c.origin)===null||l===void 0?void 0:l.getName()]=c.origin)});for(var s in a)o[s]||this.removeDependency(a[s]);return{added:t,removed:e.length}}else return{added:0,removed:0}},GrobDerivedNode.prototype.setCalc=function(n,e){e===void 0&&(e=!0),this._value=NaN;var t=this.testCalculate(n);return t==null||!t.success?!1:(this.calc=n,e&&this.updateOrigins(),this.isValid()&&this.recalculate(!1),!0)},GrobDerivedNode.prototype.parseCalculationToOrigins=function(n){var e,t=n,r=(e=t.match(grobDerivedSymbolRegex))!==null&&e!==void 0?e:[];r=Array.from(new Set(r));var i=this.origins.map(function(s){return s.symbol}),a=r.filter(function(s){return!i.includes(s)}),o=i.filter(function(s){return!r.includes(s)});return{symbolsToRem:o,symbolsToAdd:a,totalSymbols:r}},GrobDerivedNode.staticParseCalculationToOrigins=function(n){var e,t=n,r=(e=t.match(grobDerivedSymbolRegex))!==null&&e!==void 0?e:[];return r=Array.from(new Set(r)),r},GrobDerivedNode.prototype.recalculate=function(n){n===void 0&&(n=!1);var e=Object.fromEntries(n?this.origins.map(function(i){return[i.symbol,i.standardValue]}):this.origins.map(function(i){var a;return[i.symbol,(a=i.origin)===null||a===void 0?void 0:a.getValue()]})),t=this.calc,r=this._recalculate(e,t);return this._value=r.value,r.success},GrobDerivedNode.prototype._recalculate=function(n,e){return n===void 0&&(n={}),GrobDerivedNode.recalculate(n,e)},GrobDerivedNode.recalculate=function(rec,statement){rec===void 0&&(rec={});var symbols=statement.match(grobDerivedSymbolRegex),_statement=statement;symbols==null||symbols.forEach(function(n){var e=rec[n];_statement=_statement.replace(n,e+"")});var recalcSuccess=!1,value=0;try{var res=eval(_statement);typeof res=="number"?(recalcSuccess=!0,value=res):(recalcSuccess=!1,value=NaN)}catch(n){recalcSuccess=!1,value=NaN}return{success:recalcSuccess,value}},GrobDerivedNode.prototype.testCalculate=function(n){var e=n.match(grobDerivedSymbolRegex),t=e?Object.fromEntries(e.map(function(i){return[i,1]})):{},r=this._recalculate(t,n);return r},GrobDerivedNode.testCalculate=function(n,e){e===void 0&&(e={});var t=n.match(grobDerivedSymbolRegex);function r(o,s){return s[o]?s[o]:1}var i=t?Object.fromEntries(t.map(function(o){return[o,r(o,e)]})):{},a=GrobDerivedNode.recalculate(i,n);return a},GrobDerivedNode.prototype._update=function(){if(!this.isValid())return console.error("Node isent Valid ".concat(this.getName()," ").concat(this.getLocationKey()," Stopping update")),!1;this.recalculate();var n=!0;for(var e in this.dependents){var t=this.dependents[e];n=n&&t.update()}return n},GrobDerivedNode.prototype.updateDependecysLocation=function(n){var e=this.origins.find(function(t){var r;return((r=t.origin)===null||r===void 0?void 0:r.getName())==n.getName()});!e||(e.originKey=n.getLocationKey())},GrobDerivedNode}(GrobNode);GrobNodte.GrobDerivedNode=GrobDerivedNode;var TTRPGSystemGraphAbstractModel$1={},GrobCollection$1={};Object.defineProperty(GrobCollection$1,"__esModule",{value:!0});GrobCollection$1.GrobCollection=void 0;var tslib_1$2=require$$0,AGraphItem_1$1=AGraphItem$1,GrobCollection=function(n){tslib_1$2.__extends(e,n);function e(t,r){var i=n.call(this,t,"C")||this;return i.nodes_names={},i}return e.prototype.getNodeNames=function(){return Object.keys(this.nodes_names)},e.prototype.getNodes=function(){return Object.values(this.nodes_names)},e.prototype.hasNode=function(t){return!!this.nodes_names[t]},e.prototype.getNode=function(t){var r;return(r=this.nodes_names[t])!==null&&r!==void 0?r:null},e.prototype.addNode=function(t){return t.parent=this,this.nodes_names[t.getName()]=t,!0},e.prototype.removeNode=function(t){if(!t)return console.error('attempted to delete node "Null" '),!1;var r=t.getName(),i=this.nodes_names[r];return i?(i.dispose(),delete this.nodes_names[r],this.nodes_names[r]==null):!1},e.prototype.update_node_name=function(t,r){t!=r&&(this.nodes_names[r]=this.nodes_names[t],delete this.nodes_names[t])},e.prototype.setName=function(t){var r=this.getName();r!=t&&(n.prototype.setName.call(this,t),this.parent.update_collection_name(r,t),this.updateLocation(this.parent))},e.prototype.updateLocation=function(t){this.parent=t;for(var r in this.nodes_names){var i=this.nodes_names[r];i.updateLocation(this)}},e.prototype.dispose=function(){for(var t in this.nodes_names){var r=this.nodes_names[t];r.dispose(),delete this.nodes_names[t]}this.parent=null,this.name=null},e}(AGraphItem_1$1.AGraphItem);GrobCollection$1.GrobCollection=GrobCollection;var GrobGroup$1={};Object.defineProperty(GrobGroup$1,"__esModule",{value:!0});GrobGroup$1.GrobGroup=void 0;var tslib_1$1=require$$0,AGraphItem_1=AGraphItem$1,GrobGroup=function(n){tslib_1$1.__extends(e,n);function e(t,r){var i=n.call(this,t,"G")||this;return i.collections_names={},i}return e.prototype.getCollectionsNames=function(){return Object.keys(this.collections_names)},e.prototype.hasCollection=function(t){return!!this.collections_names[t]},e.prototype.getCollection=function(t){return this.collections_names[t]},e.prototype.addCollection=function(t){return t.parent=this,this.collections_names[t.getName()]=t,!0},e.prototype.removeCollection=function(t){var r=t.getName(),i=this.collections_names[r];return i?(t.dispose(),delete this.collections_names[r],this.collections_names[r]==null):!1},e.prototype.update_collection_name=function(t,r){this.collections_names[r]=this.collections_names[t],delete this.collections_names[t]},e.prototype.setName=function(t){n.prototype.setName.call(this,t);for(var r in this.collections_names){var i=this.collections_names[r];i.updateLocation(this)}},e.prototype.dispose=function(){for(var t in this.collections_names){var r=this.collections_names[t];r.dispose(),delete this.collections_names[t]}this.name=null},e}(AGraphItem_1.AGraphItem);GrobGroup$1.GrobGroup=GrobGroup;Object.defineProperty(TTRPGSystemGraphAbstractModel$1,"__esModule",{value:!0});TTRPGSystemGraphAbstractModel$1.TTRPGSystemGraphAbstractModel=void 0;var GrobCollection_1=GrobCollection$1,GrobGroup_1=GrobGroup$1,IOutputHandler_1$1=IOutputHandler,TTRPGSystemGraphAbstractModel=function(){function n(){this.data={}}return n.prototype.setOut=function(e){this.out=e||(0,IOutputHandler_1$1.newOutputHandler)()},n.prototype._deleteGroup=function(e){if(typeof e=="string"){var t=this._getGroup(e);if(!t)return!1;e=t}var r=e.getName(),i=this.data[r];if(!i)return this.out.outError("tried to delete non existant group"),!1;e.dispose(),delete this.data[r]},n.prototype._createGroup=function(e){if(this._hasGroup(e))return this.out.outError("attempted to add new group, however group already existed"),null;var t=new GrobGroup_1.GrobGroup(e,this);return this.data[t.getName()]=t,t},n.prototype._hasGroup=function(e){for(var t in this.data)if(this.data[t].getName()==e)return!0;return!1},n.prototype._getGroup_key=function(e){return this.data[e]},n.prototype._getGroup=function(e){for(var t in this.data)if(this.data[t].getName()==e)return this.data[t];return null},n.prototype._deleteCollection=function(e){e||this.out.outError("tried to delete collection, but supplied collection was invalid");var t=e.parent;return t.removeCollection(e)},n.prototype._createCollection=function(e,t){if(e||this.out.outError("tried to create collection, but supplied group was invalid"),e.hasCollection(t))return this.out.outError("Collection by that name already existed in '".concat(e.getName(),"'")),null;var r=new GrobCollection_1.GrobCollection(t,e);return e.addCollection(r),r},n.prototype._AddNode=function(e,t){return e||this.out.outError("tried to add node, but supplied collection was invalid"),e.addNode(t)},n.prototype._deleteNode=function(e){var t=e.parent,r=t.removeNode(e);return e.dispose(),r},n.prototype._addNodeDependency=function(e,t){var r=e.addDependency(t),i=t.addDependent(e);return r&&i?!0:(r||this.out.outError("Could not add dependency ".concat(t.getName(),", on node ").concat(e.getName())),i||this.out.outError("Could not add dependent ".concat(e.getName(),", on node ").concat(t.getName())),!1)},n.prototype._removeNodeDependency=function(e,t){var r=e.removeDependency(t),i=t.removeDependent(e);return r&&i?!0:(r||this.out.outError("Could not remove dependency ".concat(t.getName(),", on node ").concat(e.getName())),i||this.out.outError("Could not remove dependent ".concat(e.getName(),", on node ").concat(t.getName())),!1)},n}();TTRPGSystemGraphAbstractModel$1.TTRPGSystemGraphAbstractModel=TTRPGSystemGraphAbstractModel;Object.defineProperty(TTRPGSystemGraphModel$1,"__esModule",{value:!0});TTRPGSystemGraphModel$1.TTRPGSystemGraphModel=void 0;var tslib_1=require$$0,IOutputHandler_1=IOutputHandler,GrobNodte_1=GrobNodte,TTRPGSystemGraphAbstractModel_1=TTRPGSystemGraphAbstractModel$1,derived="derived",fixed="fixed",TTRPGSystemGraphModel=function(n){tslib_1.__extends(e,n);function e(){var t=n.call(this)||this;return t.setOut((0,IOutputHandler_1.newOutputHandler)()),t}return e.prototype.initAsNew=function(){this._createGroup("fixed"),this._createGroup("derived")},e.prototype.createCollection=function(t,r){this._hasGroup(t)||this.out.outError("No group existed by name ".concat(t));var i=this._getGroup(t);return i?this._createCollection(i,r):null},e.prototype.createDerivedCollection=function(t){return this.createCollection(derived,t)},e.prototype.createFixedCollection=function(t){return this.createCollection(fixed,t)},e.prototype.createNode=function(t,r,i){return this._hasGroup(t)?this.hasNode(t,r,i)?(this.out.outError("Node by this name already existed ".concat(t)),null):t=="fixed"?this.createFixedNode(r,i):t=="derived"?this.createDerivedNode(r,i):null:(this.out.outError("No group existed by name ".concat(t)),null)},e.prototype.createDerivedNode=function(t,r){var i=t;if(typeof t=="string"){var a=this._getGroup(derived);if(!a)return null;t=a.getCollection(t)}else i=t.getName();if(!t)return this.out.outError("No Derived collection found by name: ".concat(i," ")),null;var o=new GrobNodte_1.GrobDerivedNode(r,t);return t.addNode(o),o},e.prototype.createFixedNode=function(t,r){var i=this._getGroup(fixed);if(!i)return null;var a=t;if(typeof t!="string"?a=t.getName():t=i.getCollection(a),!t)return this.out.outError("No Fixed collection found by name: ".concat(a," ")),null;var o=new GrobNodte_1.GrobFixedNode(r,t);return t.addNode(o),o},e.prototype.hasCollection=function(t,r){var i=this._getGroup(t);return i?i.hasCollection(r):(this.out.outError("No group existed by name ".concat(t)),!1)},e.prototype.hasDerivedCollection=function(t){return this.hasCollection(derived,t)},e.prototype.hasFixedCollection=function(t){return this.hasCollection(fixed,t)},e.prototype.hasNode=function(t,r,i){var a=this._getGroup(t);if(!a)return this.out.outError("No group existed by name ".concat(t)),!1;var o=r;return typeof r=="string"&&(o=this.getCollection(a,r),!o)?(this.out.outError("attempted to get ".concat(t," collection ").concat(i,", but no collection existed by that name")),!1):o.hasNode(i)},e.prototype.hasDerivedNode=function(t,r){return this.hasNode(derived,t,r)},e.prototype.hasFixedNode=function(t,r){return this.hasNode(fixed,t,r)},e.prototype.getCollectionNames=function(t){var r;return typeof t=="string"?r=this._getGroup(t):r=t,r?r.getCollectionsNames():(this.out.outError("No group existed by name ".concat(t)),[])},e.prototype.getCollection=function(t,r){var i;if(typeof t=="string"?i=this._getGroup(t):i=t,!i)return this.out.outError("No group existed by name ".concat(t)),null;var a=i.getCollection(r);return a||(this.out.outError("attempted to get ".concat(t," collection ").concat(r,", but no collection existed by that name")),null)},e.prototype.getDerivedCollection=function(t){return this.getCollection(derived,t)},e.prototype.getFixedCollection=function(t){return this.getCollection(fixed,t)},e.prototype.getNode=function(t,r,i){var a=this._getGroup(t);if(!a)return this.out.outError("No group existed by name ".concat(t)),null;var o;if(typeof r!="string")o=r.getNode(i);else{var s=r;if(r=a.getCollection(r),!r)return this.out.outError("attempted to get ".concat(t," collection ").concat(s,", but did not exist")),null;o=r.getNode(i)}return o||(this.out.outError("attempted to get ".concat(t,".").concat(r.getName()," Node ").concat(i,", but did not exist")),null)},e.prototype.getDerivedNode=function(t,r){return this.getNode(derived,t,r)},e.prototype.getFixedNode=function(t,r){return this.getNode(fixed,t,r)},e.prototype.getNodeNames=function(t,r){var i=this._getGroup(t);if(!i)return this.out.outError("No group existed by name ".concat(t)),null;var a;return typeof r=="string"?a=i.getCollection(r):a=r,a.getNodeNames()},e.prototype._deleteGroup=function(t){if(typeof t=="string"){var r=t;if(t=this._getGroup(t),!t)return this.out.outError("No Collection by name "+r),!1}n.prototype._deleteGroup.call(this,t)},e.prototype.deleteCollection=function(t,r){var i=this._getGroup(t);return i?typeof r=="string"&&(r=r=i.getCollection(r),!r)?!1:this._deleteCollection(r):(this.out.outError("No group existed by name ".concat(t)),!1)},e.prototype.deleteDerivedCollection=function(t){return this.deleteCollection(derived,t)},e.prototype.deleteFixedCollection=function(t){return this.deleteCollection(fixed,t)},e.prototype.deleteNode=function(t,r,i){var a=this._getGroup(t);if(!a)return this.out.outError("No group existed by name ".concat(t)),!1;if(typeof r=="string"&&(r=a.getCollection(r)),!r)return this.out.outError("attempted to get ".concat(t," collection ").concat(i,", but no collection existed by that name")),!1;var o=r.getNode(i);return r.removeNode(o)},e.prototype.deleteDerivedNode=function(t,r){return this.deleteNode(derived,t,r)},e.prototype.deleteFixedNode=function(t,r){return this.deleteNode(fixed,t,r)},e.prototype.renameCollection=function(t,r,i){var a,o;if(typeof t=="string"?(o=t,a=this._getGroup(t)):(o=t.getName(),a=t),!a)return this.out.outError("No group existed by name ".concat(o)),null;var s=r;return typeof r=="string"?(s=r,r=a.getCollection(r)):s=r.getName(),r?a.update_collection_name(s,i):(this.out.outError("No Collection existed by name ".concat(s," in ").concat(o)),null)},e.prototype.renameItem=function(t,r,i,a){var o,s;if(typeof t=="string"?(s=t,o=this._getGroup(t)):(s=t.getName(),o=t),!o)return this.out.outError("No group existed by name ".concat(s)),null;var c=r;return typeof r=="string"?(c=r,r=o.getCollection(r)):c=r.getName(),r?r.hasNode(i)?r.update_node_name(i,a):(this.out.outError("No Item existed by name ".concat(i," in ").concat(s,".").concat(c)),null):(this.out.outError("No Collection existed by name ".concat(c," in ").concat(s)),null)},e.prototype.isValid=function(t){t===void 0&&(t=[]);var r,i,a,o,s,c,l,d,u;for(r in this.data){c=this.data[r],o=c.getCollectionsNames();for(var f in c.getCollectionsNames()){i=o[f],l=c.getCollection(i),s=l.getNodeNames();for(var _ in s)if(a=s[_],d=l.getNode(a),u=d.isValid(),!u){var p="".concat(r,".").concat(i,".").concat(a," was invalid"),y=[r,i,a];t.push({msg:p,key:y})}}}return t.length==0},e.prototype._getGroup=function(t){var r=this.data[t];return r!=null?r:null},e.prototype.addNodeDependency=function(t,r){this._addNodeDependency(t,r)},e.prototype.removeNodeDependency=function(t,r){this._removeNodeDependency(t,r)},e}(TTRPGSystemGraphAbstractModel_1.TTRPGSystemGraphAbstractModel);TTRPGSystemGraphModel$1.TTRPGSystemGraphModel=TTRPGSystemGraphModel;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uuidv4=n.TTRPGSystem=n.GrobGroup=n.GrobCollection=n.GrobDerivedNode=n.GrobDerivedOrigin=n.GrobFixedNode=n.keyManagerInstance=void 0;var e=KeyManager$1;Object.defineProperty(n,"keyManagerInstance",{enumerable:!0,get:function(){return e.keyManagerInstance}});var t=TTRPGSystemGraphModel$1;Object.defineProperty(n,"TTRPGSystem",{enumerable:!0,get:function(){return t.TTRPGSystemGraphModel}});var r=GrobCollection$1;Object.defineProperty(n,"GrobCollection",{enumerable:!0,get:function(){return r.GrobCollection}});var i=GrobGroup$1;Object.defineProperty(n,"GrobGroup",{enumerable:!0,get:function(){return i.GrobGroup}});var a=GrobNodte;Object.defineProperty(n,"GrobDerivedNode",{enumerable:!0,get:function(){return a.GrobDerivedNode}}),Object.defineProperty(n,"GrobDerivedOrigin",{enumerable:!0,get:function(){return a.GrobDerivedOrigin}}),Object.defineProperty(n,"GrobFixedNode",{enumerable:!0,get:function(){return a.GrobFixedNode}});function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,l=s=="x"?c:c&3|8;return l.toString(16)})}n.uuidv4=o})(dist);var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(n,e,t,r)=>{for(var i=r>1?void 0:r?__getOwnPropDesc$1(e,t):e,a=n.length-1,o;a>=0;a--)(o=n[a])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&__defProp$1(e,t,i),i};class SystemPreviewSchemes{}O(SystemPreviewSchemes,"BASE",BASE_SCHEME),O(SystemPreviewSchemes,"PAGE","PAGE");let SystemPreview=class{constructor(){O(this,"id",dist.keyManagerInstance.getNewKey());O(this,"filePath");O(this,"isEditable",!0);O(this,"author");O(this,"version");O(this,"code");O(this,"name");O(this,"folderPath");O(this,"folderName")}init(){this.author="grobax",this.version="0.0.1",this.code="grobdnd",this.name="Grobax' DnD TTPRPG"}};__decorateClass$1([JsonBoolean({scheme:[SystemPreviewSchemes.BASE]})],SystemPreview.prototype,"isEditable",2);__decorateClass$1([JsonString({scheme:[SystemPreviewSchemes.BASE]})],SystemPreview.prototype,"author",2);__decorateClass$1([JsonString({scheme:[SystemPreviewSchemes.BASE,SystemPreviewSchemes.PAGE]})],SystemPreview.prototype,"version",2);__decorateClass$1([JsonString({scheme:[SystemPreviewSchemes.BASE,SystemPreviewSchemes.PAGE]})],SystemPreview.prototype,"code",2);__decorateClass$1([JsonString({scheme:[SystemPreviewSchemes.BASE,SystemPreviewSchemes.PAGE]})],SystemPreview.prototype,"name",2);SystemPreview=__decorateClass$1([JsonObject({onAfterDeSerialization:(n,...e)=>{n.id=dist.keyManagerInstance.getNewKey()}})],SystemPreview);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(n,e,t,r)=>{for(var i=r>1?void 0:r?__getOwnPropDesc(e,t):e,a=n.length-1,o;a>=0;a--)(o=n[a])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&__defProp(e,t,i),i};class GrobJDerivedOrigin extends dist.GrobDerivedOrigin{constructor(){super(...arguments);O(this,"symbol");O(this,"originKey")}}__decorateClass([JsonString()],GrobJDerivedOrigin.prototype,"symbol",2);__decorateClass([JsonString()],GrobJDerivedOrigin.prototype,"originKey",2);class GrobJDerivedNode extends dist.GrobDerivedNode{constructor(){super(...arguments);O(this,"name");O(this,"calc");O(this,"origins")}}__decorateClass([JsonString()],GrobJDerivedNode.prototype,"name",2);__decorateClass([JsonString({name:"calculationString"})],GrobJDerivedNode.prototype,"calc",2);__decorateClass([JsonArrayClassTyped(GrobJDerivedOrigin,{name:"calcOrigins"})],GrobJDerivedNode.prototype,"origins",2);class GrobJFixedNode extends dist.GrobFixedNode{constructor(){super(...arguments);O(this,"name");O(this,"___value")}}__decorateClass([JsonString()],GrobJFixedNode.prototype,"name",2);__decorateClass([JsonNumber({name:"standardValue"})],GrobJFixedNode.prototype,"___value",2);class GrobCollectionDerived extends dist.GrobCollection{constructor(){super(...arguments);O(this,"name");O(this,"nodes_names",{})}}__decorateClass([JsonString()],GrobCollectionDerived.prototype,"name",2);__decorateClass([JsonMappingRecordInArrayOut({KeyPropertyName:"getName",name:"data",type:GrobJDerivedNode})],GrobCollectionDerived.prototype,"nodes_names",2);class GrobCollectionFixed extends dist.GrobCollection{constructor(){super(...arguments);O(this,"name");O(this,"nodes_names",{})}}__decorateClass([JsonString()],GrobCollectionFixed.prototype,"name",2);__decorateClass([JsonMappingRecordInArrayOut({KeyPropertyName:"getName",name:"data",type:GrobJFixedNode})],GrobCollectionFixed.prototype,"nodes_names",2);class GrobGroupDerived extends dist.GrobGroup{constructor(){super(...arguments);O(this,"name");O(this,"collections_names",{})}}__decorateClass([JsonString()],GrobGroupDerived.prototype,"name",2);__decorateClass([JsonMappingRecordInArrayOut({KeyPropertyName:"getName",name:"data",type:GrobCollectionDerived})],GrobGroupDerived.prototype,"collections_names",2);class GrobGroupFixed extends dist.GrobGroup{constructor(){super(...arguments);O(this,"name");O(this,"collections_names",{})}}__decorateClass([JsonString()],GrobGroupFixed.prototype,"name",2);__decorateClass([JsonMappingRecordInArrayOut({KeyPropertyName:"getName",name:"data",type:GrobCollectionFixed})],GrobGroupFixed.prototype,"collections_names",2);class TTRPG_SCHEMES{}O(TTRPG_SCHEMES,"PREVIEW","mini");let TTRPGSystemJSONFormatting=class extends dist.TTRPGSystem{constructor(){super();O(this,"fixed");O(this,"derived");O(this,"author","");O(this,"version","");O(this,"systemCodeName",dist.uuidv4());O(this,"systemName","")}setDefaultValues(e){const t=Object.keys(this.derived.collections_names);for(let r=0;r<Object.keys(this.derived.collections_names).length;r++){const i=t[r],a=this.derived.collections_names[i],o=Object.keys(a.nodes_names);for(let s=0;s<o.length;s++){const c=o[s];a.nodes_names[c]}}}};__decorateClass([JsonClassTyped(GrobGroupFixed)],TTRPGSystemJSONFormatting.prototype,"fixed",2);__decorateClass([JsonClassTyped(GrobGroupDerived)],TTRPGSystemJSONFormatting.prototype,"derived",2);__decorateClass([JsonString(),JsonString({scheme:[BASE_SCHEME,TTRPG_SCHEMES.PREVIEW]})],TTRPGSystemJSONFormatting.prototype,"author",2);__decorateClass([JsonString(),JsonString({scheme:[BASE_SCHEME,TTRPG_SCHEMES.PREVIEW]})],TTRPGSystemJSONFormatting.prototype,"version",2);__decorateClass([JsonString(),JsonString({scheme:[BASE_SCHEME,TTRPG_SCHEMES.PREVIEW]})],TTRPGSystemJSONFormatting.prototype,"systemCodeName",2);__decorateClass([JsonString(),JsonString({scheme:[BASE_SCHEME,TTRPG_SCHEMES.PREVIEW]})],TTRPGSystemJSONFormatting.prototype,"systemName",2);TTRPGSystemJSONFormatting=__decorateClass([JsonObject({onBeforeSerialization:n=>{},onAfterDeSerialization:(n,...e)=>{var t;n.fixed?n.data.fixed=n.fixed:(n._createGroup("fixed"),n.fixed=n._getGroup("fixed")),n.derived?n.data.derived=n.derived:(n._createGroup("derived"),n.derived=n._getGroup("derived"));for(const r in n.data){const i=n.data[r];i.parent=n;for(const a in i.collections_names){const o=i.collections_names[a];o.parent=i,i.collections_names[o.getName()]=o;for(const s in o.nodes_names){const c=o.nodes_names[s];c.parent=o,o.nodes_names[c.getName()]=c,((t=c.origins)!=null?t:[]).forEach(d=>{let u=d.originKey.split(".");const f=n.getNode(u[0],u[1],u[2]);d.origin=f,c.addDependency(f)})}}}Object.values(n.data)}})],TTRPGSystemJSONFormatting);class Layout01Context{constructor(){O(this,"activeSystem");O(this,"availablePreviews")}}const B=class{static async call(e,t,r){if(r)var i=await fetch(B.baseUrl+"/"+t,{method:e,headers:{"Content-Type":"application/json"},body:typeof r=="string"?r:JSON.stringify(r)});else var i=await fetch(B.baseUrl+"/"+t,{method:e,headers:{"Content-Type":"application/json"}});return i}static async post(e,t){return await B.call("POST",e,t)}static async get(e){return await B.call("GET",e)}static async delete(e,t){return await B.call("DELETE",e,t)}static async put(e,t){return await B.call("PUT",e,t)}};let Server=B;O(Server,"baseUrl","http://localhost:5000");class APIContext{static async getAllSystems(){let e=await Server.get("api/system");if(e.status==200){let t=await e.text(),r=JSONHandler.deserialize(SystemPreview,t);return{responseCode:e.status,messages:[e.statusText],response:r}}else return{responseCode:e.status,messages:[e.statusText],response:[]}}}function create_fragment$4(n){var Ne,Pe,Ge,Te,Ae,we,Re,Ce,De,xe,Me,Je,Ie,ke;let e,t,r,i,a,o,s,c,l=((Pe=(Ne=n[1])==null?void 0:Ne.author)!=null?Pe:unknownString)+"",d,u,f,_,p,y,g,h=((Te=(Ge=n[1])==null?void 0:Ge.version)!=null?Te:unknownString)+"",P,v,m,A,E,S,b,G=((we=(Ae=n[1])==null?void 0:Ae.code)!=null?we:unknownString)+"",T,N,w,D,X,Q,j,ee=((Ce=(Re=n[1])==null?void 0:Re.isEditable)!=null?Ce:unknownString)+"",de,he,k,z,me,ye,U,te=((xe=(De=n[1])==null?void 0:De.name)!=null?xe:unknownString)+"",_e,ve,$,Z,ge,be,q,ne=((Je=(Me=n[1])==null?void 0:Me.folderName)!=null?Je:unknownString)+"",fe,F,Se,Ee,Oe,W,J,M;return J=new EditAbleList({props:{isEditableContainer:!1,collection:(ke=(Ie=n[0])==null?void 0:Ie.map(func))!=null?ke:[],onSelect:n[3]}}),J.$on("onDeSelect",n[2]),{c(){e=element("div"),t=element("section"),r=element("div"),i=element("div"),a=element("div"),o=text("Author"),s=space(),c=element("div"),d=text(l),u=space(),f=element("div"),_=element("div"),p=text("Version"),y=space(),g=element("div"),P=text(h),v=space(),m=element("div"),A=element("div"),E=text("SystemCodeName"),S=space(),b=element("div"),T=text(G),N=space(),w=element("div"),D=element("div"),X=text("editable"),Q=space(),j=element("div"),de=text(ee),he=space(),k=element("div"),z=element("div"),me=text("SystemName"),ye=space(),U=element("div"),_e=text(te),ve=space(),$=element("div"),Z=element("div"),ge=text("folder name"),be=space(),q=element("div"),fe=text(ne),Se=space(),Ee=element("br"),Oe=space(),W=element("div"),create_component(J.$$.fragment),this.h()},l(R){e=claim_element(R,"DIV",{class:!0});var x=children(e);t=claim_element(x,"SECTION",{});var I=children(t);r=claim_element(I,"DIV",{class:!0,"data-is-edit":!0});var C=children(r);i=claim_element(C,"DIV",{class:!0});var Y=children(i);a=claim_element(Y,"DIV",{class:!0});var re=children(a);o=claim_text(re,"Author"),re.forEach(detach),s=claim_space(Y),c=claim_element(Y,"DIV",{class:!0});var ie=children(c);d=claim_text(ie,l),ie.forEach(detach),Y.forEach(detach),u=claim_space(C),f=claim_element(C,"DIV",{class:!0});var K=children(f);_=claim_element(K,"DIV",{class:!0});var ae=children(_);p=claim_text(ae,"Version"),ae.forEach(detach),y=claim_space(K),g=claim_element(K,"DIV",{class:!0});var oe=children(g);P=claim_text(oe,h),oe.forEach(detach),K.forEach(detach),v=claim_space(C),m=claim_element(C,"DIV",{class:!0});var V=children(m);A=claim_element(V,"DIV",{class:!0});var se=children(A);E=claim_text(se,"SystemCodeName"),se.forEach(detach),S=claim_space(V),b=claim_element(V,"DIV",{class:!0});var le=children(b);T=claim_text(le,G),le.forEach(detach),V.forEach(detach),N=claim_space(C),w=claim_element(C,"DIV",{class:!0});var L=children(w);D=claim_element(L,"DIV",{class:!0});var ce=children(D);X=claim_text(ce,"editable"),ce.forEach(detach),Q=claim_space(L),j=claim_element(L,"DIV",{class:!0});var ue=children(j);de=claim_text(ue,ee),ue.forEach(detach),L.forEach(detach),he=claim_space(C),k=claim_element(C,"DIV",{class:!0});var H=children(k);z=claim_element(H,"DIV",{class:!0});var $e=children(z);me=claim_text($e,"SystemName"),$e.forEach(detach),ye=claim_space(H),U=claim_element(H,"DIV",{class:!0});var Fe=children(U);_e=claim_text(Fe,te),Fe.forEach(detach),H.forEach(detach),ve=claim_space(C),$=claim_element(C,"DIV",{class:!0});var pe=children($);Z=claim_element(pe,"DIV",{class:!0});var Be=children(Z);ge=claim_text(Be,"folder name"),Be.forEach(detach),be=claim_space(pe),q=claim_element(pe,"DIV",{class:!0});var Ye=children(q);fe=claim_text(Ye,ne),Ye.forEach(detach),pe.forEach(detach),C.forEach(detach),Se=claim_space(I),Ee=claim_element(I,"BR",{}),Oe=claim_space(I),W=claim_element(I,"DIV",{class:!0});var Ke=children(W);claim_component(J.$$.fragment,Ke),Ke.forEach(detach),I.forEach(detach),x.forEach(detach),this.h()},h(){attr(a,"class","tableRowColumn"),attr(c,"class","tableRowColumn"),attr(i,"class","tableRow"),attr(_,"class","tableRowColumn"),attr(g,"class","tableRowColumn"),attr(f,"class","tableRow"),attr(A,"class","tableRowColumn"),attr(b,"class","tableRowColumn"),attr(m,"class","tableRow"),attr(D,"class","tableRowColumn"),attr(j,"class","tableRowColumn"),attr(w,"class","tableRow"),attr(z,"class","tableRowColumn"),attr(U,"class","tableRowColumn"),attr(k,"class","tableRow"),attr(Z,"class","tableRowColumn"),attr(q,"class","tableRowColumn"),attr($,"class","tableRow"),attr(r,"class","table SystemPreviewer"),attr(r,"data-is-edit",!1),attr(W,"class","PageSystemList"),attr(e,"class","MainAppContainerPage MainAppContainerPageSystem")},m(R,x){insert_hydration(R,e,x),append_hydration(e,t),append_hydration(t,r),append_hydration(r,i),append_hydration(i,a),append_hydration(a,o),append_hydration(i,s),append_hydration(i,c),append_hydration(c,d),append_hydration(r,u),append_hydration(r,f),append_hydration(f,_),append_hydration(_,p),append_hydration(f,y),append_hydration(f,g),append_hydration(g,P),append_hydration(r,v),append_hydration(r,m),append_hydration(m,A),append_hydration(A,E),append_hydration(m,S),append_hydration(m,b),append_hydration(b,T),append_hydration(r,N),append_hydration(r,w),append_hydration(w,D),append_hydration(D,X),append_hydration(w,Q),append_hydration(w,j),append_hydration(j,de),append_hydration(r,he),append_hydration(r,k),append_hydration(k,z),append_hydration(z,me),append_hydration(k,ye),append_hydration(k,U),append_hydration(U,_e),append_hydration(r,ve),append_hydration(r,$),append_hydration($,Z),append_hydration(Z,ge),append_hydration($,be),append_hydration($,q),append_hydration(q,fe),append_hydration(t,Se),append_hydration(t,Ee),append_hydration(t,Oe),append_hydration(t,W),mount_component(J,W,null),M=!0},p(R,[x]){var C,Y,re,ie,K,ae,oe,V,se,le,L,ce,ue,H;(!M||x&2)&&l!==(l=((Y=(C=R[1])==null?void 0:C.author)!=null?Y:unknownString)+"")&&set_data(d,l),(!M||x&2)&&h!==(h=((ie=(re=R[1])==null?void 0:re.version)!=null?ie:unknownString)+"")&&set_data(P,h),(!M||x&2)&&G!==(G=((ae=(K=R[1])==null?void 0:K.code)!=null?ae:unknownString)+"")&&set_data(T,G),(!M||x&2)&&ee!==(ee=((V=(oe=R[1])==null?void 0:oe.isEditable)!=null?V:unknownString)+"")&&set_data(de,ee),(!M||x&2)&&te!==(te=((le=(se=R[1])==null?void 0:se.name)!=null?le:unknownString)+"")&&set_data(_e,te),(!M||x&2)&&ne!==(ne=((ce=(L=R[1])==null?void 0:L.folderName)!=null?ce:unknownString)+"")&&set_data(fe,ne);const I={};x&1&&(I.collection=(H=(ue=R[0])==null?void 0:ue.map(func))!=null?H:[]),J.$set(I)},i(R){M||(add_render_callback(()=>{!M||(F||(F=create_bidirectional_transition(r,fade,{},!0)),F.run(1))}),transition_in(J.$$.fragment,R),M=!0)},o(R){F||(F=create_bidirectional_transition(r,fade,{},!1)),F.run(0),transition_out(J.$$.fragment,R),M=!1},d(R){R&&detach(e),R&&F&&F.end(),destroy_component(J)}}}let unknownString="unknown";const func=n=>({key:n.code,value:n.name});function instance$4(n,e,t){let{context:r}=e;r.activeSystem;let i=[];const a=new SystemPreview;let o=a;onMount(()=>{var d;t(0,i=(d=r.availablePreviews)!==null&&d!==void 0?d:[]),s()});function s(){return __awaiter(this,void 0,void 0,function*(){let d=yield APIContext.getAllSystems();t(4,r.availablePreviews=d.response,r),t(0,i=d.response)})}function c(){t(1,o=a)}function l(d){const u=i.find(f=>f.code==d);return console.log(u),o==u?(t(1,o=a),!1):!0}return a.isEditable=null,n.$$set=d=>{"context"in d&&t(4,r=d.context)},[i,o,c,l,r]}class SystemPage extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{context:4})}}function create_fragment$3(n){let e,t,r,i,a,o,s,c,l,d;return{c(){e=element("div"),t=element("div"),r=text("X2"),i=space(),a=element("div"),o=element("p"),s=text(n[1]),this.h()},l(u){e=claim_element(u,"DIV",{class:!0,"data-active":!0});var f=children(e);t=claim_element(f,"DIV",{class:!0});var _=children(t);r=claim_text(_,"X2"),_.forEach(detach),i=claim_space(f),a=claim_element(f,"DIV",{class:!0});var p=children(a);o=claim_element(p,"P",{});var y=children(o);s=claim_text(y,n[1]),y.forEach(detach),p.forEach(detach),f.forEach(detach),this.h()},h(){attr(t,"class","MenuBtnIcon"),attr(a,"class","MenuBtnText"),attr(e,"class",c=n[0]?"MenuSBtn":"MenuBtn"),attr(e,"data-active",n[2])},m(u,f){insert_hydration(u,e,f),append_hydration(e,t),append_hydration(t,r),append_hydration(e,i),append_hydration(e,a),append_hydration(a,o),append_hydration(o,s),l||(d=[listen(e,"click",n[3]),listen(e,"keypress",n[6])],l=!0)},p(u,[f]){f&2&&set_data(s,u[1]),f&1&&c!==(c=u[0]?"MenuSBtn":"MenuBtn")&&attr(e,"class",c),f&4&&attr(e,"data-active",u[2])},i:noop,o:noop,d(u){u&&detach(e),l=!1,run_all(d)}}}function instance$3(n,e,t){let{special:r=!1}=e,{text:i="Basic information and settings"}=e,{title:a="Home"}=e,o;function s(u){t(2,o=u)}let c=createEventDispatcher();function l(){console.log("clickyy"),c("click")}function d(u){bubble.call(this,n,u)}return n.$$set=u=>{"special"in u&&t(0,r=u.special),"text"in u&&t(4,i=u.text),"title"in u&&t(1,a=u.title)},[r,a,o,l,i,s,d]}class MenuBtn extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{special:0,text:4,title:1,setActive:5})}get setActive(){return this.$$.ctx[5]}}function get_each_context(n,e,t){const r=n.slice();return r[10]=e[t],r[11]=e,r[12]=t,r}function create_each_block(n){let e,t=n[12],r;const i=()=>n[6](e,t),a=()=>n[6](null,t);function o(){return n[7](n[12])}let s={special:n[0].includes(n[10]),title:n[10]};return e=new MenuBtn({props:s}),i(),e.$on("click",o),{c(){create_component(e.$$.fragment)},l(c){claim_component(e.$$.fragment,c)},m(c,l){mount_component(e,c,l),r=!0},p(c,l){n=c,t!==n[12]&&(a(),t=n[12],i());const d={};l&5&&(d.special=n[0].includes(n[10])),l&4&&(d.title=n[10]),e.$set(d)},i(c){r||(transition_in(e.$$.fragment,c),r=!0)},o(c){transition_out(e.$$.fragment,c),r=!1},d(c){a(),destroy_component(e,c)}}}function create_fragment$2(n){let e,t,r,i,a,o,s,c,l,d,u,f,_,p,y,g,h,P,v=n[2],m=[];for(let E=0;E<v.length;E+=1)m[E]=create_each_block(get_each_context(n,v,E));const A=E=>transition_out(m[E],1,1,()=>{m[E]=null});return{c(){e=element("div"),t=element("div"),r=element("p"),i=text("TTP-RPG System Designer"),a=space(),o=element("div"),s=element("div"),c=space(),l=element("div"),d=space(),u=element("div"),f=space(),_=element("div"),p=space(),y=element("div"),g=space(),h=element("section");for(let E=0;E<m.length;E+=1)m[E].c();this.h()},l(E){e=claim_element(E,"DIV",{class:!0});var S=children(e);t=claim_element(S,"DIV",{class:!0});var b=children(t);r=claim_element(b,"P",{});var G=children(r);i=claim_text(G,"TTP-RPG System Designer"),G.forEach(detach),a=claim_space(b),o=claim_element(b,"DIV",{class:!0});var T=children(o);s=claim_element(T,"DIV",{}),children(s).forEach(detach),c=claim_space(T),l=claim_element(T,"DIV",{}),children(l).forEach(detach),d=claim_space(T),u=claim_element(T,"DIV",{}),children(u).forEach(detach),f=claim_space(T),_=claim_element(T,"DIV",{}),children(_).forEach(detach),p=claim_space(T),y=claim_element(T,"DIV",{}),children(y).forEach(detach),T.forEach(detach),b.forEach(detach),g=claim_space(S),h=claim_element(S,"SECTION",{class:!0});var N=children(h);for(let w=0;w<m.length;w+=1)m[w].l(N);N.forEach(detach),S.forEach(detach),this.h()},h(){attr(o,"class","colorscheme"),attr(t,"class","MenuTitle"),attr(h,"class","MenuBtnContainer"),attr(e,"class","Menu")},m(E,S){insert_hydration(E,e,S),append_hydration(e,t),append_hydration(t,r),append_hydration(r,i),append_hydration(t,a),append_hydration(t,o),append_hydration(o,s),append_hydration(o,c),append_hydration(o,l),append_hydration(o,d),append_hydration(o,u),append_hydration(o,f),append_hydration(o,_),append_hydration(o,p),append_hydration(o,y),append_hydration(e,g),append_hydration(e,h);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(h,null);P=!0},p(E,[S]){if(S&15){v=E[2];let b;for(b=0;b<v.length;b+=1){const G=get_each_context(E,v,b);m[b]?(m[b].p(G,S),transition_in(m[b],1)):(m[b]=create_each_block(G),m[b].c(),transition_in(m[b],1),m[b].m(h,null))}for(group_outros(),b=v.length;b<m.length;b+=1)A(b);check_outros()}},i(E){if(!P){for(let S=0;S<v.length;S+=1)transition_in(m[S]);P=!0}},o(E){m=m.filter(Boolean);for(let S=0;S<m.length;S+=1)transition_out(m[S]);P=!1},d(E){E&&detach(e),destroy_each(m,E)}}}function instance$2(n,e,t){let r,{regularOptions:i=[]}=e,{specialOptions:a=[]}=e,{startChosen:o=""}=e,s=createEventDispatcher(),c=[],l=null;function d(_){const p=c[_];p!=l&&(l&&l.setActive(!1),p.setActive(!0),l=p,s("changePage",r[_]))}onMount(()=>{let _=r.findIndex(p=>p==o);_!=-1&&d(_)});function u(_,p){binding_callbacks[_?"unshift":"push"](()=>{c[p]=_,t(1,c)})}const f=_=>d(_);return n.$$set=_=>{"regularOptions"in _&&t(4,i=_.regularOptions),"specialOptions"in _&&t(0,a=_.specialOptions),"startChosen"in _&&t(5,o=_.startChosen)},n.$$.update=()=>{n.$$.dirty&17&&t(2,r=i.concat(...a))},[a,c,r,d,i,o,u,f]}class Menu extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{regularOptions:4,specialOptions:0,startChosen:5})}}function create_if_block_4(n){let e,t;return{c(){e=element("p"),t=text("1")},l(r){e=claim_element(r,"P",{});var i=children(e);t=claim_text(i,"1"),i.forEach(detach)},m(r,i){insert_hydration(r,e,i),append_hydration(e,t)},p:noop,i:noop,o:noop,d(r){r&&detach(e)}}}function create_if_block_3(n){let e,t;return{c(){e=element("p"),t=text("1")},l(r){e=claim_element(r,"P",{});var i=children(e);t=claim_text(i,"1"),i.forEach(detach)},m(r,i){insert_hydration(r,e,i),append_hydration(e,t)},p:noop,i:noop,o:noop,d(r){r&&detach(e)}}}function create_if_block_2(n){let e,t;return{c(){e=element("p"),t=text("1")},l(r){e=claim_element(r,"P",{});var i=children(e);t=claim_text(i,"1"),i.forEach(detach)},m(r,i){insert_hydration(r,e,i),append_hydration(e,t)},p:noop,i:noop,o:noop,d(r){r&&detach(e)}}}function create_if_block_1(n){let e,t,r,i,a;return t=new SystemPage({props:{context:n[0]}}),{c(){e=element("div"),create_component(t.$$.fragment)},l(o){e=claim_element(o,"DIV",{});var s=children(e);claim_component(t.$$.fragment,s),s.forEach(detach)},m(o,s){insert_hydration(o,e,s),mount_component(t,e,null),a=!0},p(o,s){const c={};s&1&&(c.context=o[0]),t.$set(c)},i(o){a||(transition_in(t.$$.fragment,o),add_render_callback(()=>{!a||(i&&i.end(1),r=create_in_transition(e,fly,{x:100}),r.start())}),a=!0)},o(o){transition_out(t.$$.fragment,o),r&&r.invalidate(),i=create_out_transition(e,fly,{x:-100}),a=!1},d(o){o&&detach(e),destroy_component(t),o&&i&&i.end()}}}function create_if_block(n){let e,t,r,i;return{c(){e=element("div")},l(a){e=claim_element(a,"DIV",{});var o=children(e);o.forEach(detach)},m(a,o){insert_hydration(a,e,o),i=!0},p:noop,i(a){i||(add_render_callback(()=>{!i||(r&&r.end(1),t=create_in_transition(e,fly,{x:100}),t.start())}),i=!0)},o(a){t&&t.invalidate(),r=create_out_transition(e,fly,{x:-100}),i=!1},d(a){a&&detach(e),a&&r&&r.end()}}}function create_fragment$1(n){let e,t,r,i,a,o,s;t=new Menu({props:{regularOptions:["home","system","data tables","export","import"],startChosen:n[1]}}),t.$on("changePage",n[3]);const c=[create_if_block,create_if_block_1,create_if_block_2,create_if_block_3,create_if_block_4],l=[];function d(u,f){return u[1]=="home"?0:u[1]=="system"?1:u[1]=="home1"?2:u[1]=="home2"?3:u[1]=="home3"?4:-1}return~(a=d(n))&&(o=l[a]=c[a](n)),{c(){e=element("div"),create_component(t.$$.fragment),r=space(),i=element("section"),o&&o.c(),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var f=children(e);claim_component(t.$$.fragment,f),r=claim_space(f),i=claim_element(f,"SECTION",{class:!0});var _=children(i);o&&o.l(_),_.forEach(detach),f.forEach(detach),this.h()},h(){attr(i,"class","MainAppContainerPages"),attr(e,"class","MainAppContainer")},m(u,f){insert_hydration(u,e,f),mount_component(t,e,null),append_hydration(e,r),append_hydration(e,i),~a&&l[a].m(i,null),s=!0},p(u,[f]){const _={};f&2&&(_.startChosen=u[1]),t.$set(_);let p=a;a=d(u),a===p?~a&&l[a].p(u,f):(o&&(group_outros(),transition_out(l[p],1,1,()=>{l[p]=null}),check_outros()),~a?(o=l[a],o?o.p(u,f):(o=l[a]=c[a](u),o.c()),transition_in(o,1),o.m(i,null)):o=null)},i(u){s||(transition_in(t.$$.fragment,u),transition_in(o),s=!0)},o(u){transition_out(t.$$.fragment,u),transition_out(o),s=!1},d(u){u&&detach(e),destroy_component(t),~a&&l[a].d()}}}function instance$1(n,e,t){let r,i=writable("system");component_subscribe(n,i,s=>t(1,r=s));let{context:a}=e;function o(s){i.set(s.detail),console.log("changePage "+i)}return n.$$set=s=>{"context"in s&&t(0,a=s.context)},[a,r,i,o]}class App$1 extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{context:0})}}function create_fragment(n){let e,t,r;return t=new App$1({props:{context:n[0]}}),{c(){e=element("div"),create_component(t.$$.fragment)},l(i){e=claim_element(i,"DIV",{});var a=children(e);claim_component(t.$$.fragment,a),a.forEach(detach)},m(i,a){insert_hydration(i,e,a),mount_component(t,e,null),r=!0},p:noop,i(i){r||(transition_in(t.$$.fragment,i),r=!0)},o(i){transition_out(t.$$.fragment,i),r=!1},d(i){i&&detach(e),destroy_component(t)}}}function instance(n){return[new Layout01Context]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}const app=new App({target:document.getElementById("app")});module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHRycGctZW52aXJvbm1lbnQuY2pzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvZWFzaW5nL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvdHJhbnNpdGlvbi9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwiLi4vTGF5b3V0MDEvQ29tcG9uZW50cy9idXR0b25zL3BsdXMuc3ZlbHRlIiwiLi4vTGF5b3V0MDEvQ29tcG9uZW50cy9lZGl0QWJsZUxpc3QvRWRpdEFibGVMaXN0LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3RvcmUvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dyb2JheC1qc29uLWhhbmRsZXIvZGlzdC9Kc29uTW9kdWxlQ29uc3RhbnRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dyb2JheC1qc29uLWhhbmRsZXIvZGlzdC9SZWZsZWN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dyb2JheC1qc29uLWhhbmRsZXIvZGlzdC9Kc29uTW9kdWxlQmFzZUZ1bmN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dyb2JheC1qc29uLWhhbmRsZXIvZGlzdC9EZWNvcmF0b3JzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dyb2JheC1qc29uLWhhbmRsZXIvZGlzdC9Kc29uSGFuZGxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90dHJwZy1zeXN0ZW0tZ3JhcGgvZGlzdC9BYnN0cmFjdGlvbnMvS2V5TWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90dHJwZy1zeXN0ZW0tZ3JhcGgvZGlzdC9BYnN0cmFjdGlvbnMvSU91dHB1dEhhbmRsZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHRycGctc3lzdGVtLWdyYXBoL2Rpc3QvQWJzdHJhY3Rpb25zL0FHcmFwaEl0ZW0uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHRycGctc3lzdGVtLWdyYXBoL2Rpc3QvR3JvYk5vZHRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3R0cnBnLXN5c3RlbS1ncmFwaC9kaXN0L0dyb2JDb2xsZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3R0cnBnLXN5c3RlbS1ncmFwaC9kaXN0L0dyb2JHcm91cC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90dHJwZy1zeXN0ZW0tZ3JhcGgvZGlzdC9HcmFwaC9UVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90dHJwZy1zeXN0ZW0tZ3JhcGgvZGlzdC9HcmFwaC9UVFJQR1N5c3RlbUdyYXBoTW9kZWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHRycGctc3lzdGVtLWdyYXBoL2Rpc3QvaW5kZXguanMiLCIuLi8uLi9PYnNpZGlhblVJQ29yZS9tb2RlbC9zeXN0ZW1QcmV2aWV3LnRzIiwiLi4vLi4vRGVzaWduZXIvaW5kZXgudHMiLCIuLi9MYXlvdXQwMS9jb250ZXh0LnRzIiwiLi4vQVBJQ29ubmVjdGlvbi50cyIsIi4uL0xheW91dDAxL1ZpZXdzL1BhZ2UvU3lzdGVtUGFnZS5zdmVsdGUiLCIuLi9MYXlvdXQwMS9WaWV3cy9NZW51L01lbnVCdG4uc3ZlbHRlIiwiLi4vTGF5b3V0MDEvVmlld3MvTWVudS9NZW51LnN2ZWx0ZSIsIi4uL0xheW91dDAxL2FwcC5zdmVsdGUiLCIuLi9BcHAuc3ZlbHRlIiwiLi4vQXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG4gICAgZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuICAgICAgICBsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcnVuKGZuKSB7XG4gICAgcmV0dXJuIGZuKCk7XG59XG5mdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5mdW5jdGlvbiBydW5fYWxsKGZucykge1xuICAgIGZucy5mb3JFYWNoKHJ1bik7XG59XG5mdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xufVxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG4gICAgaWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuICAgICAgICBzcmNfdXJsX2VxdWFsX2FuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG4gICAgc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gZWxlbWVudF9zcmMgPT09IHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWY7XG59XG5mdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcbiAgICBpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuICAgIGlmIChzdG9yZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuICAgIHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbmZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBzdWJzY3JpYmUoc3RvcmUsIF8gPT4gdmFsdWUgPSBfKSgpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcbiAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmblxuICAgICAgICA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKVxuICAgICAgICA6ICQkc2NvcGUuY3R4O1xufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuICAgICAgICBjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuICAgICAgICBpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcbiAgICB9XG4gICAgcmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9zbG90KHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbiwgZ2V0X3Nsb3RfY29udGV4dF9mbikge1xuICAgIGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG4gICAgdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cbmZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG4gICAgaWYgKCQkc2NvcGUuY3R4Lmxlbmd0aCA+IDMyKSB7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gW107XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcbiAgICBjb25zdCByZXN0ID0ge307XG4gICAga2V5cyA9IG5ldyBTZXQoa2V5cyk7XG4gICAgZm9yIChjb25zdCBrIGluIHByb3BzKVxuICAgICAgICBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3Rba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICByZXN1bHRba2V5XSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAocmFuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlKSB7XG4gICAgc3RvcmUuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuICAgIHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcbiAgICBjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuICAgIHJldHVybiBzcGxpdCA/IFtwYXJzZUZsb2F0KHNwbGl0WzFdKSwgc3BsaXRbMl0gfHwgJ3B4J10gOiBbdmFsdWUsICdweCddO1xufVxuY29uc3QgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMgPSBbJycsIHRydWUsIDEsICd0cnVlJywgJ2NvbnRlbnRlZGl0YWJsZSddO1xuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBub3cgPSBpc19jbGllbnRcbiAgICA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuICAgIDogKCkgPT4gRGF0ZS5ub3coKTtcbmxldCByYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIG5vdyA9IGZuO1xufVxuZnVuY3Rpb24gc2V0X3JhZihmbikge1xuICAgIHJhZiA9IGZuO1xufVxuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAoIXRhc2suYyhub3cpKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgICAgICB0YXNrLmYoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YXNrcy5zaXplICE9PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBuZXcgUHJvbWlzZShmdWxmaWxsID0+IHtcbiAgICAgICAgICAgIHRhc2tzLmFkZCh0YXNrID0geyBjOiBjYWxsYmFjaywgZjogZnVsZmlsbCB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0KCkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgZ2xvYmFscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gd2luZG93XG4gICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgIDogZ2xvYmFsKTtcblxuLyoqXG4gKiBSZXNpemUgb2JzZXJ2ZXIgc2luZ2xldG9uLlxuICogT25lIGxpc3RlbmVyIHBlciBlbGVtZW50IG9ubHkhXG4gKiBodHRwczovL2dyb3Vwcy5nb29nbGUuY29tL2EvY2hyb21pdW0ub3JnL2cvYmxpbmstZGV2L2MvejZpZW5PTlViNUEvbS9GNS1WY1VadEJBQUpcbiAqL1xuY2xhc3MgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gJ1dlYWtNYXAnIGluIGdsb2JhbHMgPyBuZXcgV2Vha01hcCgpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvYnNlcnZlKGVsZW1lbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZWxlbWVudCwgbGlzdGVuZXIpO1xuICAgICAgICB0aGlzLl9nZXRPYnNlcnZlcigpLm9ic2VydmUoZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7IC8vIHRoaXMgbGluZSBjYW4gcHJvYmFibHkgYmUgcmVtb3ZlZFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfZ2V0T2JzZXJ2ZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX29ic2VydmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy5fb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMuc2V0KGVudHJ5LnRhcmdldCwgZW50cnkpO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZW50cnkudGFyZ2V0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbi8vIE5lZWRzIHRvIGJlIHdyaXR0ZW4gbGlrZSB0aGlzIHRvIHBhc3MgdGhlIHRyZWUtc2hha2UtdGVzdFxuUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uZW50cmllcyA9ICdXZWFrTWFwJyBpbiBnbG9iYWxzID8gbmV3IFdlYWtNYXAoKSA6IHVuZGVmaW5lZDtcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5mdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcbiAgICAvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgY29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcbiAgICAgICAgaWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG93O1xufVxuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KVxuICAgICAgICByZXR1cm47XG4gICAgdGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG4gICAgLy8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuICAgIGxldCBjaGlsZHJlbiA9IHRhcmdldC5jaGlsZE5vZGVzO1xuICAgIC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG4gICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG4gICAgICAgIGNvbnN0IG15Q2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG15Q2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbiA9IG15Q2hpbGRyZW47XG4gICAgfVxuICAgIC8qXG4gICAgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuICAgICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuICAgICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3RcbiAgICAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG4gICAgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuICAgICpcbiAgICAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuICAgICogcG9zc2libGUuXG4gICAgKlxuICAgICogUHJvb2Y6XG4gICAgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcbiAgICAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuICAgICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcbiAgICAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG4gICAgKi9cbiAgICAvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuICAgIC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcbiAgICBjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG4gICAgLy8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcbiAgICBjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICBtWzBdID0gLTE7XG4gICAgbGV0IGxvbmdlc3QgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuICAgICAgICAvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuICAgICAgICAvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuICAgICAgICAvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuICAgICAgICBjb25zdCBzZXFMZW4gPSAoKGxvbmdlc3QgPiAwICYmIGNoaWxkcmVuW21bbG9uZ2VzdF1dLmNsYWltX29yZGVyIDw9IGN1cnJlbnQpID8gbG9uZ2VzdCArIDEgOiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCBpZHggPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcbiAgICAgICAgcFtpXSA9IG1bc2VxTGVuXSArIDE7XG4gICAgICAgIGNvbnN0IG5ld0xlbiA9IHNlcUxlbiArIDE7XG4gICAgICAgIC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cbiAgICAgICAgbVtuZXdMZW5dID0gaTtcbiAgICAgICAgbG9uZ2VzdCA9IE1hdGgubWF4KG5ld0xlbiwgbG9uZ2VzdCk7XG4gICAgfVxuICAgIC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcbiAgICBjb25zdCBsaXMgPSBbXTtcbiAgICAvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuICAgIGNvbnN0IHRvTW92ZSA9IFtdO1xuICAgIGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcbiAgICAgICAgbGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuICAgICAgICBmb3IgKDsgbGFzdCA+PSBjdXI7IGxhc3QtLSkge1xuICAgICAgICAgICAgdG9Nb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QtLTtcbiAgICB9XG4gICAgZm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG4gICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICB9XG4gICAgbGlzLnJldmVyc2UoKTtcbiAgICAvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcbiAgICB0b01vdmUuc29ydCgoYSwgYikgPT4gYS5jbGFpbV9vcmRlciAtIGIuY2xhaW1fb3JkZXIpO1xuICAgIC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9Nb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b01vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvTW92ZVtpXSwgYW5jaG9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcbiAgICBjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG4gICAgaWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuICAgICAgICBhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUpXG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICBjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBpZiAocm9vdCAmJiByb290Lmhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG4gICAgY29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgYXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcbiAgICByZXR1cm4gc3R5bGVfZWxlbWVudC5zaGVldDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG4gICAgYXBwZW5kKG5vZGUuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG4gICAgcmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nKSB7XG4gICAgICAgIGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQpIHx8ICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuICAgICAgICB3aGlsZSAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuICAgICAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5mdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzZWxmKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQuaXNUcnVzdGVkKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yc1trZXldICYmIGRlc2NyaXB0b3JzW2tleV0uc2V0ICYmIGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuICAgIE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEodGFnKSB7XG4gICAgcmV0dXJuICgvLS8udGVzdCh0YWcpKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChncm91cFtpXS5jaGVja2VkKVxuICAgICAgICAgICAgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgdmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcbiAgICBsZXQgX2lucHV0cztcbiAgICByZXR1cm4ge1xuICAgICAgICAvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG4gICAgICAgICAgICBfaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogcmVtb3ZlICovIHIoKSB7XG4gICAgICAgICAgICBfaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMoZ3JvdXAsIGluZGV4ZXMpIHtcbiAgICBsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuICAgIGxldCBfaW5wdXRzO1xuICAgIGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8qIHVwZGF0ZSAqLyB1KG5ld19pbmRleGVzKSB7XG4gICAgICAgICAgICBpbmRleGVzID0gbmV3X2luZGV4ZXM7XG4gICAgICAgICAgICBjb25zdCBuZXdfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG4gICAgICAgICAgICBpZiAobmV3X2dyb3VwICE9PSBfZ3JvdXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBfZ3JvdXAgPSBuZXdfZ3JvdXA7XG4gICAgICAgICAgICAgICAgcHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG4gICAgICAgICAgICBfaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICAgICAgcHVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuICAgIGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc05vZGUsIGNyZWF0ZU5vZGUsIGRvbnRVcGRhdGVMYXN0SW5kZXggPSBmYWxzZSkge1xuICAgIC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCByZXN1bHROb2RlID0gKCgpID0+IHtcbiAgICAgICAgLy8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuICAgICAgICAvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzTm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGUoKTtcbiAgICB9KSgpO1xuICAgIHJlc3VsdE5vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgcmV0dXJuIHJlc3VsdE5vZGU7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlLmZvckVhY2godiA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSkpO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhU3RyID0gJycgKyBkYXRhO1xuICAgICAgICBpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YVN0cikpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhU3RyLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSBkYXRhU3RyO1xuICAgICAgICB9XG4gICAgfSwgKCkgPT4gdGV4dChkYXRhKSwgdHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcbiAgICApO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcbiAgICByZXR1cm4gY2xhaW1fbm9kZShub2RlcywgKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LCAoKSA9PiBjb21tZW50KGRhdGEpLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGZpbmRfY29tbWVudChub2RlcywgdGV4dCwgc3RhcnQpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcbiAgICAvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcbiAgICBjb25zdCBzdGFydF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG4gICAgY29uc3QgZW5kX2luZGV4ID0gZmluZF9jb21tZW50KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXgpO1xuICAgIGlmIChzdGFydF9pbmRleCA9PT0gZW5kX2luZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbih1bmRlZmluZWQsIGlzX3N2Zyk7XG4gICAgfVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcbiAgICBkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuICAgIGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuICAgICAgICBuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGNsYWltZWRfbm9kZXMsIGlzX3N2Zyk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC5kYXRhID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcbiAgICBpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcbiAgICAgICAgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0X2RhdGEodGV4dCwgZGF0YSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gLTE7IC8vIG5vIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWRcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcbiAgICBjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuICAgIHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgb3B0aW9uID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxubGV0IGNyb3Nzb3JpZ2luO1xuZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3Jvc3NvcmlnaW4gPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY3Jvc3NvcmlnaW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcm9zc29yaWdpbjtcbn1cbmZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG4gICAgY29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG4gICAgICAgICdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaWZyYW1lLnRhYkluZGV4ID0gLTE7XG4gICAgY29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuICAgIGxldCB1bnN1YnNjcmliZTtcbiAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKHdpbmRvdywgJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KVxuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG4gICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBwZW5kKG5vZGUsIGlmcmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaChpZnJhbWUpO1xuICAgIH07XG59XG5jb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHsgYm94OiAnY29udGVudC1ib3gnIH0pO1xuY29uc3QgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHsgYm94OiAnYm9yZGVyLWJveCcgfSk7XG5jb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfSk7XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlLCBkZXRhaWwpO1xuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cbmZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IHN0YXJ0ZWQgPSAwO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgICBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcbiAgICAgICAgICAgICAgICBzdGFydGVkIC09IDE7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCArPSAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBpc19zdmc7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19zdmcpXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gc3ZnX2VsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gZWxlbWVudCgodGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMudCA9IHRhcmdldC50YWdOYW1lICE9PSAnVEVNUExBVEUnID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXMpO1xuICAgIH1cbiAgICBpKGFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0KHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHAoaHRtbCkge1xuICAgICAgICB0aGlzLmQoKTtcbiAgICAgICAgdGhpcy5oKGh0bWwpO1xuICAgICAgICB0aGlzLmkodGhpcy5hKTtcbiAgICB9XG4gICAgZCgpIHtcbiAgICAgICAgdGhpcy5uLmZvckVhY2goZGV0YWNoKTtcbiAgICB9XG59XG5jbGFzcyBIdG1sVGFnSHlkcmF0aW9uIGV4dGVuZHMgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoY2xhaW1lZF9ub2RlcywgaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoaXNfc3ZnKTtcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICAgICAgdGhpcy5sID0gY2xhaW1lZF9ub2RlcztcbiAgICB9XG4gICAgYyhodG1sKSB7XG4gICAgICAgIGlmICh0aGlzLmwpIHtcbiAgICAgICAgICAgIHRoaXMubiA9IHRoaXMubDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICByZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudChjb21wb25lbnQsIHByb3BzKSB7XG4gICAgcmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vLyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBmb3IgbXVsdGlwbGUgZG9jdW1lbnRzIGJlY2F1c2UgYSBTdmVsdGUgYXBwbGljYXRpb24gY291bGQgYWxzbyBjb250YWluIGlmcmFtZXNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzM2MjRcbmNvbnN0IG1hbmFnZWRfc3R5bGVzID0gbmV3IE1hcCgpO1xubGV0IGFjdGl2ZSA9IDA7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9zdHJpbmctaGFzaC9ibG9iL21hc3Rlci9pbmRleC5qc1xuZnVuY3Rpb24gaGFzaChzdHIpIHtcbiAgICBsZXQgaGFzaCA9IDUzODE7XG4gICAgbGV0IGkgPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBoYXNoID4+PiAwO1xufVxuZnVuY3Rpb24gY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSkge1xuICAgIGNvbnN0IGluZm8gPSB7IHN0eWxlc2hlZXQ6IGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpLCBydWxlczoge30gfTtcbiAgICBtYW5hZ2VkX3N0eWxlcy5zZXQoZG9jLCBpbmZvKTtcbiAgICByZXR1cm4gaW5mbztcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcbiAgICBjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG4gICAgbGV0IGtleWZyYW1lcyA9ICd7XFxuJztcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgdCA9IGEgKyAoYiAtIGEpICogZWFzZShwKTtcbiAgICAgICAga2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcbiAgICB9XG4gICAgY29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG4gICAgY29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG4gICAgY29uc3QgZG9jID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpO1xuICAgIGNvbnN0IHsgc3R5bGVzaGVldCwgcnVsZXMgfSA9IG1hbmFnZWRfc3R5bGVzLmdldChkb2MpIHx8IGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpO1xuICAgIGlmICghcnVsZXNbbmFtZV0pIHtcbiAgICAgICAgcnVsZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBzdHlsZXNoZWV0Lmluc2VydFJ1bGUoYEBrZXlmcmFtZXMgJHtuYW1lfSAke3J1bGV9YCwgc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJztcbiAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IGAke2FuaW1hdGlvbiA/IGAke2FuaW1hdGlvbn0sIGAgOiAnJ30ke25hbWV9ICR7ZHVyYXRpb259bXMgbGluZWFyICR7ZGVsYXl9bXMgMSBib3RoYDtcbiAgICBhY3RpdmUgKz0gMTtcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpIHtcbiAgICBjb25zdCBwcmV2aW91cyA9IChub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJykuc3BsaXQoJywgJyk7XG4gICAgY29uc3QgbmV4dCA9IHByZXZpb3VzLmZpbHRlcihuYW1lXG4gICAgICAgID8gYW5pbSA9PiBhbmltLmluZGV4T2YobmFtZSkgPCAwIC8vIHJlbW92ZSBzcGVjaWZpYyBhbmltYXRpb25cbiAgICAgICAgOiBhbmltID0+IGFuaW0uaW5kZXhPZignX19zdmVsdGUnKSA9PT0gLTEgLy8gcmVtb3ZlIGFsbCBTdmVsdGUgYW5pbWF0aW9uc1xuICAgICk7XG4gICAgY29uc3QgZGVsZXRlZCA9IHByZXZpb3VzLmxlbmd0aCAtIG5leHQubGVuZ3RoO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gbmV4dC5qb2luKCcsICcpO1xuICAgICAgICBhY3RpdmUgLT0gZGVsZXRlZDtcbiAgICAgICAgaWYgKCFhY3RpdmUpXG4gICAgICAgICAgICBjbGVhcl9ydWxlcygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFyX3J1bGVzKCkge1xuICAgIHJhZigoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG1hbmFnZWRfc3R5bGVzLmZvckVhY2goaW5mbyA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG93bmVyTm9kZSB9ID0gaW5mby5zdHlsZXNoZWV0O1xuICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gb3duZXJOb2RlIGlmIGl0IHJ1bnMgb24ganNkb20uXG4gICAgICAgICAgICBpZiAob3duZXJOb2RlKVxuICAgICAgICAgICAgICAgIGRldGFjaChvd25lck5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuY2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2FuaW1hdGlvbihub2RlLCBmcm9tLCBmbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGZyb20ubGVmdCA9PT0gdG8ubGVmdCAmJiBmcm9tLnJpZ2h0ID09PSB0by5yaWdodCAmJiBmcm9tLnRvcCA9PT0gdG8udG9wICYmIGZyb20uYm90dG9tID09PSB0by5ib3R0b20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogc2hvdWxkIHRoaXMgYmUgc2VwYXJhdGVkIGZyb20gZGVzdHJ1Y3R1cmluZz8gT3Igc3RhcnQvZW5kIGFkZGVkIHRvIHB1YmxpYyBhcGkgYW5kIGRvY3VtZW50YXRpb24/XG4gICAgc3RhcnQ6IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmxldCBjdXJyZW50X2NvbXBvbmVudDtcbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuICAgIHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtYmVmb3JldXBkYXRlXG4gKi9cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oL2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLW9ubW91bnRcbiAqL1xuZnVuY3Rpb24gb25Nb3VudChmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKi9cbmZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLW9uZGVzdHJveVxuICovXG5mdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oL2RvY3MjdGVtcGxhdGUtc3ludGF4LWNvbXBvbmVudC1kaXJlY3RpdmVzLW9uLWV2ZW50bmFtZSkuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcbiAgICByZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgIC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlIH0pO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLXNldGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtZ2V0Y29udGV4dFxuICovXG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHdob2xlIGNvbnRleHQgbWFwIHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi4gVXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgeW91XG4gKiBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGNvbXBvbmVudCBhbmQgd2FudCB0byBwYXNzIHRoZSBleGlzdGluZyBjb250ZXh0IHRvIGl0LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1nZXRhbGxjb250ZXh0c1xuICovXG5mdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtaGFzY29udGV4dFxuICovXG5mdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbmZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG4gICAgfVxufVxuXG5jb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5jb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5jb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuICAgIC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cbiAgICAvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cbiAgICBpZiAoZmx1c2hpZHggIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBkbyB7XG4gICAgICAgIC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcbiAgICAgICAgLy8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuICAgICAgICAgICAgICAgIGZsdXNoaWR4Kys7XG4gICAgICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcbiAgICAgICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBbXTtcbiAgICBjb25zdCB0YXJnZXRzID0gW107XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiBmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKTtcbiAgICB0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG4gICAgcmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuICAgIGdyb3VwLnIgKz0gMTtcbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuICAgICAgICBjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWdyb3VwLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwoZ3JvdXAuYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSAtIHQsIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2JvdGgnIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuICAgIGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgIGxldCBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgIGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gY2xlYXJfYW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZCA9IChwcm9ncmFtLmIgLSB0KTtcbiAgICAgICAgZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhOiB0LFxuICAgICAgICAgICAgYjogcHJvZ3JhbS5iLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IHByb2dyYW0uc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIGdyb3VwOiBwcm9ncmFtLmdyb3VwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKGIpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBub3coKSArIGRlbGF5LFxuICAgICAgICAgICAgYlxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuICAgICAgICAgICAgb3V0cm9zLnIgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgIC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYilcbiAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcbiAgICAgICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBydW5uaW5nX3Byb2dyYW0uYiwgcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLCAwLCBlYXNpbmcsIGNvbmZpZy5jc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQgPSBydW5uaW5nX3Byb2dyYW0uYiwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBydW4oYikge1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIGlmICghaW5mby5oYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8ucGVuZGluZykge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8ucGVuZGluZywgMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby50aGVuKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSBwcm9taXNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2goaW5mbywgY3R4LCBkaXJ0eSkge1xuICAgIGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuICAgIGNvbnN0IHsgcmVzb2x2ZWQgfSA9IGluZm87XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby50aGVuKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLnZhbHVlXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLmVycm9yXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpbmZvLmJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCB1cGRhdGVzID0gW107XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHluYW1pYykge1xuICAgICAgICAgICAgLy8gZGVmZXIgdXBkYXRlcyB1bnRpbCBhbGwgdGhlIERPTSBzaHVmZmxpbmcgaXMgZG9uZVxuICAgICAgICAgICAgdXBkYXRlcy5wdXNoKCgpID0+IGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcnVuX2FsbCh1cGRhdGVzKTtcbiAgICByZXR1cm4gbmV3X2Jsb2Nrcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcbiAgICAgICAgaWYgKGtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoJyk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICAgIGNvbnN0IHRvX251bGxfb3V0ID0ge307XG4gICAgY29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuICAgIGxldCBpID0gbGV2ZWxzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IG8gPSBsZXZlbHNbaV07XG4gICAgICAgIGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBuKSlcbiAgICAgICAgICAgICAgICAgICAgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50ZWRfZm9yW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlW2tleV0gPSBuW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWxzW2ldID0gbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHRvX251bGxfb3V0KSB7XG4gICAgICAgIGlmICghKGtleSBpbiB1cGRhdGUpKVxuICAgICAgICAgICAgdXBkYXRlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGU7XG59XG5mdW5jdGlvbiBnZXRfc3ByZWFkX29iamVjdChzcHJlYWRfcHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNwcmVhZF9wcm9wcyA9PT0gJ29iamVjdCcgJiYgc3ByZWFkX3Byb3BzICE9PSBudWxsID8gc3ByZWFkX3Byb3BzIDoge307XG59XG5cbmNvbnN0IF9ib29sZWFuX2F0dHJpYnV0ZXMgPSBbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2luZXJ0JyxcbiAgICAnaXNtYXAnLFxuICAgICdsb29wJyxcbiAgICAnbXVsdGlwbGUnLFxuICAgICdtdXRlZCcsXG4gICAgJ25vbW9kdWxlJyxcbiAgICAnbm92YWxpZGF0ZScsXG4gICAgJ29wZW4nLFxuICAgICdwbGF5c2lubGluZScsXG4gICAgJ3JlYWRvbmx5JyxcbiAgICAncmVxdWlyZWQnLFxuICAgICdyZXZlcnNlZCcsXG4gICAgJ3NlbGVjdGVkJ1xuXTtcbi8qKlxuICogTGlzdCBvZiBIVE1MIGJvb2xlYW4gYXR0cmlidXRlcyAoZS5nLiBgPGlucHV0IGRpc2FibGVkPmApLlxuICogU291cmNlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWxcbiAqL1xuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbLi4uX2Jvb2xlYW5fYXR0cmlidXRlc10pO1xuXG4vKiogcmVnZXggb2YgYWxsIGh0bWwgdm9pZCBlbGVtZW50IG5hbWVzICovXG5jb25zdCB2b2lkX2VsZW1lbnRfbmFtZXMgPSAvXig/OmFyZWF8YmFzZXxicnxjb2x8Y29tbWFuZHxlbWJlZHxocnxpbWd8aW5wdXR8a2V5Z2VufGxpbmt8bWV0YXxwYXJhbXxzb3VyY2V8dHJhY2t8d2JyKSQvO1xuZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG4gICAgcmV0dXJuIHZvaWRfZWxlbWVudF9uYW1lcy50ZXN0KG5hbWUpIHx8IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJyFkb2N0eXBlJztcbn1cblxuY29uc3QgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSAvW1xccydcIj4vPVxcdXtGREQwfS1cXHV7RkRFRn1cXHV7RkZGRX1cXHV7RkZGRn1cXHV7MUZGRkV9XFx1ezFGRkZGfVxcdXsyRkZGRX1cXHV7MkZGRkZ9XFx1ezNGRkZFfVxcdXszRkZGRn1cXHV7NEZGRkV9XFx1ezRGRkZGfVxcdXs1RkZGRX1cXHV7NUZGRkZ9XFx1ezZGRkZFfVxcdXs2RkZGRn1cXHV7N0ZGRkV9XFx1ezdGRkZGfVxcdXs4RkZGRX1cXHV7OEZGRkZ9XFx1ezlGRkZFfVxcdXs5RkZGRn1cXHV7QUZGRkV9XFx1e0FGRkZGfVxcdXtCRkZGRX1cXHV7QkZGRkZ9XFx1e0NGRkZFfVxcdXtDRkZGRn1cXHV7REZGRkV9XFx1e0RGRkZGfVxcdXtFRkZGRX1cXHV7RUZGRkZ9XFx1e0ZGRkZFfVxcdXtGRkZGRn1cXHV7MTBGRkZFfVxcdXsxMEZGRkZ9XS91O1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jbm9uY2hhcmFjdGVyXG5mdW5jdGlvbiBzcHJlYWQoYXJncywgYXR0cnNfdG9fYWRkKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLmFyZ3MpO1xuICAgIGlmIChhdHRyc190b19hZGQpIHtcbiAgICAgICAgY29uc3QgY2xhc3Nlc190b19hZGQgPSBhdHRyc190b19hZGQuY2xhc3NlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5zdHlsZXM7XG4gICAgICAgIGlmIChjbGFzc2VzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgKz0gJyAnICsgY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLnN0eWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZXNfdG9fYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKG1lcmdlX3Nzcl9zdHlsZXMoYXR0cmlidXRlcy5zdHlsZSwgc3R5bGVzX3RvX2FkZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdHIgPSAnJztcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyICs9IGAgJHtuYW1lfT1cIiR7dmFsdWV9XCJgO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIG1lcmdlX3Nzcl9zdHlsZXMoc3R5bGVfYXR0cmlidXRlLCBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICBjb25zdCBzdHlsZV9vYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGluZGl2aWR1YWxfc3R5bGUgb2Ygc3R5bGVfYXR0cmlidXRlLnNwbGl0KCc7JykpIHtcbiAgICAgICAgY29uc3QgY29sb25faW5kZXggPSBpbmRpdmlkdWFsX3N0eWxlLmluZGV4T2YoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoMCwgY29sb25faW5kZXgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKGNvbG9uX2luZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZV9kaXJlY3RpdmVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVfb2JqZWN0W25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZV9vYmplY3Q7XG59XG5jb25zdCBBVFRSX1JFR0VYID0gL1smXCJdL2c7XG5jb25zdCBDT05URU5UX1JFR0VYID0gL1smPF0vZztcbi8qKlxuICogTm90ZTogdGhpcyBtZXRob2QgaXMgcGVyZm9ybWFuY2Ugc2Vuc2l0aXZlIGFuZCBoYXMgYmVlbiBvcHRpbWl6ZWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvcHVsbC81NzAxXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSwgaXNfYXR0ciA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RyID0gU3RyaW5nKHZhbHVlKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gaXNfYXR0ciA/IEFUVFJfUkVHRVggOiBDT05URU5UX1JFR0VYO1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICBsZXQgZXNjYXBlZCA9ICcnO1xuICAgIGxldCBsYXN0ID0gMDtcbiAgICB3aGlsZSAocGF0dGVybi50ZXN0KHN0cikpIHtcbiAgICAgICAgY29uc3QgaSA9IHBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgY29uc3QgY2ggPSBzdHJbaV07XG4gICAgICAgIGVzY2FwZWQgKz0gc3RyLnN1YnN0cmluZyhsYXN0LCBpKSArIChjaCA9PT0gJyYnID8gJyZhbXA7JyA6IChjaCA9PT0gJ1wiJyA/ICcmcXVvdDsnIDogJyZsdDsnKSk7XG4gICAgICAgIGxhc3QgPSBpICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGVzY2FwZWQgKyBzdHIuc3Vic3RyaW5nKGxhc3QpO1xufVxuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSh2YWx1ZSkge1xuICAgIC8vIGtlZXAgYm9vbGVhbnMsIG51bGwsIGFuZCB1bmRlZmluZWQgZm9yIHRoZSBzYWtlIG9mIGBzcHJlYWRgXG4gICAgY29uc3Qgc2hvdWxkX2VzY2FwZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpO1xuICAgIHJldHVybiBzaG91bGRfZXNjYXBlID8gZXNjYXBlKHZhbHVlLCB0cnVlKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZXNjYXBlX29iamVjdChvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXMuIE90aGVyd2lzZSB5b3UgbWF5IG5lZWQgdG8gZml4IGEgPCR7bmFtZX0+LmApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0ICQkID0ge1xuICAgICAgICAgICAgb25fZGVzdHJveSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBNYXAoY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIHsgJCRzbG90cyA9IHt9LCBjb250ZXh0ID0gbmV3IE1hcCgpIH0gPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCAkJHNsb3RzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gKGJvb2xlYW4gJiYgdmFsdWUgPT09IHRydWUpID8gJycgOiBgPVwiJHtlc2NhcGUodmFsdWUsIHRydWUpfVwiYDtcbiAgICByZXR1cm4gYCAke25hbWV9JHthc3NpZ25tZW50fWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuZnVuY3Rpb24gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVfb2JqZWN0KVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBzdHlsZV9vYmplY3Rba2V5XSlcbiAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fTogJHtlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKHN0eWxlX29iamVjdFtrZXldKX07YClcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGFkZF9zdHlsZXMoc3R5bGVfb2JqZWN0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpO1xuICAgIHJldHVybiBzdHlsZXMgPyBgIHN0eWxlPVwiJHtzdHlsZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG4gICAgZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG4gICAgaWYgKCFjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG4gICAgICAgICAgICAvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcbiAgICAgICAgICAgICAgICBydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGFwcGVuZF9zdHlsZXMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogW10sXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHByb3BzLFxuICAgICAgICB1cGRhdGU6IG5vb3AsXG4gICAgICAgIG5vdF9lcXVhbCxcbiAgICAgICAgYm91bmQ6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICAvLyBsaWZlY3ljbGVcbiAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICBvbl9kZXN0cm95OiBbXSxcbiAgICAgICAgb25fZGlzY29ubmVjdDogW10sXG4gICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICBjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICBkaXJ0eSxcbiAgICAgICAgc2tpcF9ib3VuZDogZmFsc2UsXG4gICAgICAgIHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuICAgIH07XG4gICAgYXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICQkLmN0eCA9IGluc3RhbmNlXG4gICAgICAgID8gaW5zdGFuY2UoY29tcG9uZW50LCBvcHRpb25zLnByb3BzIHx8IHt9LCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcbiAgICAgICAgICAgIGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgJCQuY3R4W2ldID0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkJC5za2lwX2JvdW5kICYmICQkLmJvdW5kW2ldKVxuICAgICAgICAgICAgICAgICAgICAkJC5ib3VuZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KVxuICAgICAgICAgICAgICAgICAgICBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KVxuICAgICAgICA6IFtdO1xuICAgICQkLnVwZGF0ZSgpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgIC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuICAgICQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICAgICAgc3RhcnRfaHlkcmF0aW5nKCk7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcbiAgICAgICAgICAgIG5vZGVzLmZvckVhY2goZGV0YWNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50cm8pXG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG4gICAgICAgIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvciwgb3B0aW9ucy5jdXN0b21FbGVtZW50KTtcbiAgICAgICAgZW5kX2h5ZHJhdGluZygpO1xuICAgICAgICBmbHVzaCgpO1xuICAgIH1cbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5sZXQgU3ZlbHRlRWxlbWVudDtcbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgY29uc3QgeyBvbl9tb3VudCB9ID0gdGhpcy4kJDtcbiAgICAgICAgICAgIHRoaXMuJCQub25fZGlzY29ubmVjdCA9IG9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJC5zbG90dGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuJCQuc2xvdHRlZFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpc1thdHRyXSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgICRkZXN0cm95KCkge1xuICAgICAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICAgICAgfVxuICAgICAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgZGVsZWdhdGUgdG8gYWRkRXZlbnRMaXN0ZW5lcj9cbiAgICAgICAgICAgIGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICB9XG4gICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjU5LjInIH0sIGRldGFpbCksIHsgYnViYmxlczogdHJ1ZSB9KSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb25fZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2Rldihub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmUnLCB7IG5vZGUgfSk7XG4gICAgZGV0YWNoKG5vZGUpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2JldHdlZW5fZGV2KGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nICYmIGJlZm9yZS5uZXh0U2libGluZyAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9iZWZvcmVfZGV2KGFmdGVyKSB7XG4gICAgd2hpbGUgKGFmdGVyLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGFmdGVyLnByZXZpb3VzU2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2FmdGVyX2RldihiZWZvcmUpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5fZGV2KG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zLCBoYXNfcHJldmVudF9kZWZhdWx0LCBoYXNfc3RvcF9wcm9wYWdhdGlvbiwgaGFzX3N0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gb3B0aW9ucyA9PT0gdHJ1ZSA/IFsnY2FwdHVyZSddIDogb3B0aW9ucyA/IEFycmF5LmZyb20oT2JqZWN0LmtleXMob3B0aW9ucykpIDogW107XG4gICAgaWYgKGhhc19wcmV2ZW50X2RlZmF1bHQpXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdwcmV2ZW50RGVmYXVsdCcpO1xuICAgIGlmIChoYXNfc3RvcF9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BQcm9wYWdhdGlvbicpO1xuICAgIGlmIChoYXNfc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24nKTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUFkZEV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgY29uc3QgZGlzcG9zZSA9IGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHJfZGV2KG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlIH0pO1xuICAgIGVsc2VcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBwcm9wX2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0UHJvcGVydHknLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIGRhdGFzZXRfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGUuZGF0YXNldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGFzZXQnLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC5kYXRhID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGVfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlX2Rldih0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG4gICAgaWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG4gICAgICAgIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZV9kZXYodGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9hcmd1bWVudChhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycgJiYgIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gYXJnKSkge1xuICAgICAgICBsZXQgbXNnID0gJ3sjZWFjaH0gb25seSBpdGVyYXRlcyBvdmVyIGFycmF5LWxpa2Ugb2JqZWN0cy4nO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhcmcgJiYgU3ltYm9sLml0ZXJhdG9yIGluIGFyZykge1xuICAgICAgICAgICAgbXNnICs9ICcgWW91IGNhbiB1c2UgYSBzcHJlYWQgdG8gY29udmVydCB0aGlzIGl0ZXJhYmxlIGludG8gYW4gYXJyYXkuJztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zbG90cyhuYW1lLCBzbG90LCBrZXlzKSB7XG4gICAgZm9yIChjb25zdCBzbG90X2tleSBvZiBPYmplY3Qua2V5cyhzbG90KSkge1xuICAgICAgICBpZiAoIX5rZXlzLmluZGV4T2Yoc2xvdF9rZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYDwke25hbWV9PiByZWNlaXZlZCBhbiB1bmV4cGVjdGVkIHNsb3QgXCIke3Nsb3Rfa2V5fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfZHluYW1pY19lbGVtZW50KHRhZykge1xuICAgIGNvbnN0IGlzX3N0cmluZyA9IHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnO1xuICAgIGlmICh0YWcgJiYgIWlzX3N0cmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJzxzdmVsdGU6ZWxlbWVudD4gZXhwZWN0cyBcInRoaXNcIiBhdHRyaWJ1dGUgdG8gYmUgYSBzdHJpbmcuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfdm9pZF9keW5hbWljX2VsZW1lbnQodGFnKSB7XG4gICAgaWYgKHRhZyAmJiBpc192b2lkKHRhZykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGA8c3ZlbHRlOmVsZW1lbnQgdGhpcz1cIiR7dGFnfVwiPiBpcyBzZWxmLWNsb3NpbmcgYW5kIGNhbm5vdCBoYXZlIGNvbnRlbnQuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnRfZGV2KGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICBjb25zdCBlcnJvcl9tZXNzYWdlID0gJ3RoaXM9ey4uLn0gb2YgPHN2ZWx0ZTpjb21wb25lbnQ+IHNob3VsZCBzcGVjaWZ5IGEgU3ZlbHRlIGNvbXBvbmVudC4nO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IGNvbXBvbmVudChwcm9wcyk7XG4gICAgICAgIGlmICghaW5zdGFuY2UuJCQgfHwgIWluc3RhbmNlLiRzZXQgfHwgIWluc3RhbmNlLiRvbiB8fCAhaW5zdGFuY2UuJGRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlcnI7XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgbWVzc2FnZS5pbmRleE9mKCdpcyBub3QgYSBjb25zdHJ1Y3RvcicpICE9PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yX21lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cyB3aXRoIHNvbWUgbWlub3IgZGV2LWVuaGFuY2VtZW50cy4gVXNlZCB3aGVuIGRldj10cnVlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnREZXYgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICghb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuJCRpbmxpbmUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29tcG9uZW50IHdhcyBhbHJlYWR5IGRlc3Ryb3llZCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJGNhcHR1cmVfc3RhdGUoKSB7IH1cbiAgICAkaW5qZWN0X3N0YXRlKCkgeyB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgdG8gY3JlYXRlIHN0cm9uZ2x5IHR5cGVkIFN2ZWx0ZSBjb21wb25lbnRzLlxuICogVGhpcyBvbmx5IGV4aXN0cyBmb3IgdHlwaW5nIHB1cnBvc2VzIGFuZCBzaG91bGQgYmUgdXNlZCBpbiBgLmQudHNgIGZpbGVzLlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIFlvdSBoYXZlIGNvbXBvbmVudCBsaWJyYXJ5IG9uIG5wbSBjYWxsZWQgYGNvbXBvbmVudC1saWJyYXJ5YCwgZnJvbSB3aGljaFxuICogeW91IGV4cG9ydCBhIGNvbXBvbmVudCBjYWxsZWQgYE15Q29tcG9uZW50YC4gRm9yIFN2ZWx0ZStUeXBlU2NyaXB0IHVzZXJzLFxuICogeW91IHdhbnQgdG8gcHJvdmlkZSB0eXBpbmdzLiBUaGVyZWZvcmUgeW91IGNyZWF0ZSBhIGBpbmRleC5kLnRzYDpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTdmVsdGVDb21wb25lbnRUeXBlZCB9IGZyb20gXCJzdmVsdGVcIjtcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkPHtmb286IHN0cmluZ30+IHt9XG4gKiBgYGBcbiAqIFR5cGluZyB0aGlzIG1ha2VzIGl0IHBvc3NpYmxlIGZvciBJREVzIGxpa2UgVlMgQ29kZSB3aXRoIHRoZSBTdmVsdGUgZXh0ZW5zaW9uXG4gKiB0byBwcm92aWRlIGludGVsbGlzZW5zZSBhbmQgdG8gdXNlIHRoZSBjb21wb25lbnQgbGlrZSB0aGlzIGluIGEgU3ZlbHRlIGZpbGVcbiAqIHdpdGggVHlwZVNjcmlwdDpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAqIFx0aW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tIFwiY29tcG9uZW50LWxpYnJhcnlcIjtcbiAqIDwvc2NyaXB0PlxuICogPE15Q29tcG9uZW50IGZvbz17J2Jhcid9IC8+XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFdoeSBub3QgbWFrZSB0aGlzIHBhcnQgb2YgYFN2ZWx0ZUNvbXBvbmVudChEZXYpYD9cbiAqIEJlY2F1c2VcbiAqIGBgYHRzXG4gKiBjbGFzcyBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogY29uc3QgY29tcG9uZW50OiB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50ID0gQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQ7XG4gKiBgYGBcbiAqIHdpbGwgdGhyb3cgYSB0eXBlIGVycm9yLCBzbyB3ZSBuZWVkIHRvIHNlcGFyYXRlIHRoZSBtb3JlIHN0cmljdGx5IHR5cGVkIGNsYXNzLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnRUeXBlZCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsb29wX2d1YXJkKHRpbWVvdXQpIHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgSHRtbFRhZywgSHRtbFRhZ0h5ZHJhdGlvbiwgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24sIFN2ZWx0ZUNvbXBvbmVudCwgU3ZlbHRlQ29tcG9uZW50RGV2LCBTdmVsdGVDb21wb25lbnRUeXBlZCwgU3ZlbHRlRWxlbWVudCwgYWN0aW9uX2Rlc3Ryb3llciwgYWRkX2F0dHJpYnV0ZSwgYWRkX2NsYXNzZXMsIGFkZF9mbHVzaF9jYWxsYmFjaywgYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIsIGFkZF9sb2NhdGlvbiwgYWRkX3JlbmRlcl9jYWxsYmFjaywgYWRkX3N0eWxlcywgYWRkX3RyYW5zZm9ybSwgYWZ0ZXJVcGRhdGUsIGFwcGVuZCwgYXBwZW5kX2RldiwgYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQsIGFwcGVuZF9oeWRyYXRpb24sIGFwcGVuZF9oeWRyYXRpb25fZGV2LCBhcHBlbmRfc3R5bGVzLCBhc3NpZ24sIGF0dHIsIGF0dHJfZGV2LCBhdHRyaWJ1dGVfdG9fb2JqZWN0LCBiZWZvcmVVcGRhdGUsIGJpbmQsIGJpbmRpbmdfY2FsbGJhY2tzLCBibGFua19vYmplY3QsIGJ1YmJsZSwgY2hlY2tfb3V0cm9zLCBjaGlsZHJlbiwgY2xhaW1fY29tbWVudCwgY2xhaW1fY29tcG9uZW50LCBjbGFpbV9lbGVtZW50LCBjbGFpbV9odG1sX3RhZywgY2xhaW1fc3BhY2UsIGNsYWltX3N2Z19lbGVtZW50LCBjbGFpbV90ZXh0LCBjbGVhcl9sb29wcywgY29tbWVudCwgY29tcG9uZW50X3N1YnNjcmliZSwgY29tcHV0ZV9yZXN0X3Byb3BzLCBjb21wdXRlX3Nsb3RzLCBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudCwgY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnRfZGV2LCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBjcmVhdGVfYW5pbWF0aW9uLCBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uLCBjcmVhdGVfY29tcG9uZW50LCBjcmVhdGVfaW5fdHJhbnNpdGlvbiwgY3JlYXRlX291dF90cmFuc2l0aW9uLCBjcmVhdGVfc2xvdCwgY3JlYXRlX3Nzcl9jb21wb25lbnQsIGN1cnJlbnRfY29tcG9uZW50LCBjdXN0b21fZXZlbnQsIGRhdGFzZXRfZGV2LCBkZWJ1ZywgZGVzdHJveV9ibG9jaywgZGVzdHJveV9jb21wb25lbnQsIGRlc3Ryb3lfZWFjaCwgZGV0YWNoLCBkZXRhY2hfYWZ0ZXJfZGV2LCBkZXRhY2hfYmVmb3JlX2RldiwgZGV0YWNoX2JldHdlZW5fZGV2LCBkZXRhY2hfZGV2LCBkaXJ0eV9jb21wb25lbnRzLCBkaXNwYXRjaF9kZXYsIGVhY2gsIGVsZW1lbnQsIGVsZW1lbnRfaXMsIGVtcHR5LCBlbmRfaHlkcmF0aW5nLCBlc2NhcGUsIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUsIGVzY2FwZV9vYmplY3QsIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMsIGZpeF9hbmRfZGVzdHJveV9ibG9jaywgZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jaywgZml4X3Bvc2l0aW9uLCBmbHVzaCwgZmx1c2hfcmVuZGVyX2NhbGxiYWNrcywgZ2V0QWxsQ29udGV4dHMsIGdldENvbnRleHQsIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSwgZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUsIGdldF9jdXJyZW50X2NvbXBvbmVudCwgZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cywgZ2V0X3Jvb3RfZm9yX3N0eWxlLCBnZXRfc2xvdF9jaGFuZ2VzLCBnZXRfc3ByZWFkX29iamVjdCwgZ2V0X3NwcmVhZF91cGRhdGUsIGdldF9zdG9yZV92YWx1ZSwgZ2xvYmFscywgZ3JvdXBfb3V0cm9zLCBoYW5kbGVfcHJvbWlzZSwgaGFzQ29udGV4dCwgaGFzX3Byb3AsIGhlYWRfc2VsZWN0b3IsIGlkZW50aXR5LCBpbml0LCBpbml0X2JpbmRpbmdfZ3JvdXAsIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljLCBpbnNlcnQsIGluc2VydF9kZXYsIGluc2VydF9oeWRyYXRpb24sIGluc2VydF9oeWRyYXRpb25fZGV2LCBpbnRyb3MsIGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLCBpc19jbGllbnQsIGlzX2Nyb3Nzb3JpZ2luLCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIGlzX3Byb21pc2UsIGlzX3ZvaWQsIGxpc3RlbiwgbGlzdGVuX2RldiwgbG9vcCwgbG9vcF9ndWFyZCwgbWVyZ2Vfc3NyX3N0eWxlcywgbWlzc2luZ19jb21wb25lbnQsIG1vdW50X2NvbXBvbmVudCwgbm9vcCwgbm90X2VxdWFsLCBub3csIG51bGxfdG9fZW1wdHksIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMsIG9uRGVzdHJveSwgb25Nb3VudCwgb25jZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIHByZXZlbnRfZGVmYXVsdCwgcHJvcF9kZXYsIHF1ZXJ5X3NlbGVjdG9yX2FsbCwgcmFmLCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCwgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94LCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94LCBydW4sIHJ1bl9hbGwsIHNhZmVfbm90X2VxdWFsLCBzY2hlZHVsZV91cGRhdGUsIHNlbGVjdF9tdWx0aXBsZV92YWx1ZSwgc2VsZWN0X29wdGlvbiwgc2VsZWN0X29wdGlvbnMsIHNlbGVjdF92YWx1ZSwgc2VsZiwgc2V0Q29udGV4dCwgc2V0X2F0dHJpYnV0ZXMsIHNldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCwgc2V0X2RhdGEsIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSwgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlX2Rldiwgc2V0X2RhdGFfZGV2LCBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUsIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZV9kZXYsIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSwgc2V0X2lucHV0X3R5cGUsIHNldF9pbnB1dF92YWx1ZSwgc2V0X25vdywgc2V0X3JhZiwgc2V0X3N0b3JlX3ZhbHVlLCBzZXRfc3R5bGUsIHNldF9zdmdfYXR0cmlidXRlcywgc3BhY2UsIHNwbGl0X2Nzc191bml0LCBzcHJlYWQsIHNyY191cmxfZXF1YWwsIHN0YXJ0X2h5ZHJhdGluZywgc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24sIHN0b3BfcHJvcGFnYXRpb24sIHN1YnNjcmliZSwgc3ZnX2VsZW1lbnQsIHRleHQsIHRpY2ssIHRpbWVfcmFuZ2VzX3RvX2FycmF5LCB0b19udW1iZXIsIHRvZ2dsZV9jbGFzcywgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQsIHRydXN0ZWQsIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2gsIHVwZGF0ZV9rZXllZF9lYWNoLCB1cGRhdGVfc2xvdCwgdXBkYXRlX3Nsb3RfYmFzZSwgdmFsaWRhdGVfY29tcG9uZW50LCB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQsIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQsIHZhbGlkYXRlX2VhY2hfa2V5cywgdmFsaWRhdGVfc2xvdHMsIHZhbGlkYXRlX3N0b3JlLCB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCwgeGxpbmtfYXR0ciB9O1xuIiwiZXhwb3J0IHsgaWRlbnRpdHkgYXMgbGluZWFyIH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcblxuLypcbkFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2xcbkRpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9lYXNlcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4qL1xuZnVuY3Rpb24gYmFja0luT3V0KHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1OCAqIDEuNTI1O1xuICAgIGlmICgodCAqPSAyKSA8IDEpXG4gICAgICAgIHJldHVybiAwLjUgKiAodCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSk7XG4gICAgcmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDIpO1xufVxuZnVuY3Rpb24gYmFja0luKHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1ODtcbiAgICByZXR1cm4gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKTtcbn1cbmZ1bmN0aW9uIGJhY2tPdXQodCkge1xuICAgIGNvbnN0IHMgPSAxLjcwMTU4O1xuICAgIHJldHVybiAtLXQgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxO1xufVxuZnVuY3Rpb24gYm91bmNlT3V0KHQpIHtcbiAgICBjb25zdCBhID0gNC4wIC8gMTEuMDtcbiAgICBjb25zdCBiID0gOC4wIC8gMTEuMDtcbiAgICBjb25zdCBjID0gOS4wIC8gMTAuMDtcbiAgICBjb25zdCBjYSA9IDQzNTYuMCAvIDM2MS4wO1xuICAgIGNvbnN0IGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbiAgICBjb25zdCBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG4gICAgY29uc3QgdDIgPSB0ICogdDtcbiAgICByZXR1cm4gdCA8IGFcbiAgICAgICAgPyA3LjU2MjUgKiB0MlxuICAgICAgICA6IHQgPCBiXG4gICAgICAgICAgICA/IDkuMDc1ICogdDIgLSA5LjkgKiB0ICsgMy40XG4gICAgICAgICAgICA6IHQgPCBjXG4gICAgICAgICAgICAgICAgPyBjYSAqIHQyIC0gY2IgKiB0ICsgY2NcbiAgICAgICAgICAgICAgICA6IDEwLjggKiB0ICogdCAtIDIwLjUyICogdCArIDEwLjcyO1xufVxuZnVuY3Rpb24gYm91bmNlSW5PdXQodCkge1xuICAgIHJldHVybiB0IDwgMC41XG4gICAgICAgID8gMC41ICogKDEuMCAtIGJvdW5jZU91dCgxLjAgLSB0ICogMi4wKSlcbiAgICAgICAgOiAwLjUgKiBib3VuY2VPdXQodCAqIDIuMCAtIDEuMCkgKyAwLjU7XG59XG5mdW5jdGlvbiBib3VuY2VJbih0KSB7XG4gICAgcmV0dXJuIDEuMCAtIGJvdW5jZU91dCgxLjAgLSB0KTtcbn1cbmZ1bmN0aW9uIGNpcmNJbk91dCh0KSB7XG4gICAgaWYgKCh0ICo9IDIpIDwgMSlcbiAgICAgICAgcmV0dXJuIC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKTtcbiAgICByZXR1cm4gMC41ICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpO1xufVxuZnVuY3Rpb24gY2lyY0luKHQpIHtcbiAgICByZXR1cm4gMS4wIC0gTWF0aC5zcXJ0KDEuMCAtIHQgKiB0KTtcbn1cbmZ1bmN0aW9uIGNpcmNPdXQodCkge1xuICAgIHJldHVybiBNYXRoLnNxcnQoMSAtIC0tdCAqIHQpO1xufVxuZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjUgPyA0LjAgKiB0ICogdCAqIHQgOiAwLjUgKiBNYXRoLnBvdygyLjAgKiB0IC0gMi4wLCAzLjApICsgMS4wO1xufVxuZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdDtcbn1cbmZ1bmN0aW9uIGN1YmljT3V0KHQpIHtcbiAgICBjb25zdCBmID0gdCAtIDEuMDtcbiAgICByZXR1cm4gZiAqIGYgKiBmICsgMS4wO1xufVxuZnVuY3Rpb24gZWxhc3RpY0luT3V0KHQpIHtcbiAgICByZXR1cm4gdCA8IDAuNVxuICAgICAgICA/IDAuNSAqXG4gICAgICAgICAgICBNYXRoLnNpbigoKCsxMy4wICogTWF0aC5QSSkgLyAyKSAqIDIuMCAqIHQpICpcbiAgICAgICAgICAgIE1hdGgucG93KDIuMCwgMTAuMCAqICgyLjAgKiB0IC0gMS4wKSlcbiAgICAgICAgOiAwLjUgKlxuICAgICAgICAgICAgTWF0aC5zaW4oKCgtMTMuMCAqIE1hdGguUEkpIC8gMikgKiAoMi4wICogdCAtIDEuMCArIDEuMCkpICpcbiAgICAgICAgICAgIE1hdGgucG93KDIuMCwgLTEwLjAgKiAoMi4wICogdCAtIDEuMCkpICtcbiAgICAgICAgICAgIDEuMDtcbn1cbmZ1bmN0aW9uIGVsYXN0aWNJbih0KSB7XG4gICAgcmV0dXJuIE1hdGguc2luKCgxMy4wICogdCAqIE1hdGguUEkpIC8gMikgKiBNYXRoLnBvdygyLjAsIDEwLjAgKiAodCAtIDEuMCkpO1xufVxuZnVuY3Rpb24gZWxhc3RpY091dCh0KSB7XG4gICAgcmV0dXJuIChNYXRoLnNpbigoLTEzLjAgKiAodCArIDEuMCkgKiBNYXRoLlBJKSAvIDIpICogTWF0aC5wb3coMi4wLCAtMTAuMCAqIHQpICsgMS4wKTtcbn1cbmZ1bmN0aW9uIGV4cG9Jbk91dCh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAuMCB8fCB0ID09PSAxLjBcbiAgICAgICAgPyB0XG4gICAgICAgIDogdCA8IDAuNVxuICAgICAgICAgICAgPyArMC41ICogTWF0aC5wb3coMi4wLCAyMC4wICogdCAtIDEwLjApXG4gICAgICAgICAgICA6IC0wLjUgKiBNYXRoLnBvdygyLjAsIDEwLjAgLSB0ICogMjAuMCkgKyAxLjA7XG59XG5mdW5jdGlvbiBleHBvSW4odCkge1xuICAgIHJldHVybiB0ID09PSAwLjAgPyB0IDogTWF0aC5wb3coMi4wLCAxMC4wICogKHQgLSAxLjApKTtcbn1cbmZ1bmN0aW9uIGV4cG9PdXQodCkge1xuICAgIHJldHVybiB0ID09PSAxLjAgPyB0IDogMS4wIC0gTWF0aC5wb3coMi4wLCAtMTAuMCAqIHQpO1xufVxuZnVuY3Rpb24gcXVhZEluT3V0KHQpIHtcbiAgICB0IC89IDAuNTtcbiAgICBpZiAodCA8IDEpXG4gICAgICAgIHJldHVybiAwLjUgKiB0ICogdDtcbiAgICB0LS07XG4gICAgcmV0dXJuIC0wLjUgKiAodCAqICh0IC0gMikgLSAxKTtcbn1cbmZ1bmN0aW9uIHF1YWRJbih0KSB7XG4gICAgcmV0dXJuIHQgKiB0O1xufVxuZnVuY3Rpb24gcXVhZE91dCh0KSB7XG4gICAgcmV0dXJuIC10ICogKHQgLSAyLjApO1xufVxuZnVuY3Rpb24gcXVhcnRJbk91dCh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjVcbiAgICAgICAgPyArOC4wICogTWF0aC5wb3codCwgNC4wKVxuICAgICAgICA6IC04LjAgKiBNYXRoLnBvdyh0IC0gMS4wLCA0LjApICsgMS4wO1xufVxuZnVuY3Rpb24gcXVhcnRJbih0KSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHQsIDQuMCk7XG59XG5mdW5jdGlvbiBxdWFydE91dCh0KSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHQgLSAxLjAsIDMuMCkgKiAoMS4wIC0gdCkgKyAxLjA7XG59XG5mdW5jdGlvbiBxdWludEluT3V0KHQpIHtcbiAgICBpZiAoKHQgKj0gMikgPCAxKVxuICAgICAgICByZXR1cm4gMC41ICogdCAqIHQgKiB0ICogdCAqIHQ7XG4gICAgcmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKTtcbn1cbmZ1bmN0aW9uIHF1aW50SW4odCkge1xuICAgIHJldHVybiB0ICogdCAqIHQgKiB0ICogdDtcbn1cbmZ1bmN0aW9uIHF1aW50T3V0KHQpIHtcbiAgICByZXR1cm4gLS10ICogdCAqIHQgKiB0ICogdCArIDE7XG59XG5mdW5jdGlvbiBzaW5lSW5PdXQodCkge1xuICAgIHJldHVybiAtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpO1xufVxuZnVuY3Rpb24gc2luZUluKHQpIHtcbiAgICBjb25zdCB2ID0gTWF0aC5jb3ModCAqIE1hdGguUEkgKiAwLjUpO1xuICAgIGlmIChNYXRoLmFicyh2KSA8IDFlLTE0KVxuICAgICAgICByZXR1cm4gMTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiAxIC0gdjtcbn1cbmZ1bmN0aW9uIHNpbmVPdXQodCkge1xuICAgIHJldHVybiBNYXRoLnNpbigodCAqIE1hdGguUEkpIC8gMik7XG59XG5cbmV4cG9ydCB7IGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0LCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGJvdW5jZU91dCwgY2lyY0luLCBjaXJjSW5PdXQsIGNpcmNPdXQsIGN1YmljSW4sIGN1YmljSW5PdXQsIGN1YmljT3V0LCBlbGFzdGljSW4sIGVsYXN0aWNJbk91dCwgZWxhc3RpY091dCwgZXhwb0luLCBleHBvSW5PdXQsIGV4cG9PdXQsIHF1YWRJbiwgcXVhZEluT3V0LCBxdWFkT3V0LCBxdWFydEluLCBxdWFydEluT3V0LCBxdWFydE91dCwgcXVpbnRJbiwgcXVpbnRJbk91dCwgcXVpbnRPdXQsIHNpbmVJbiwgc2luZUluT3V0LCBzaW5lT3V0IH07XG4iLCJpbXBvcnQgeyBjdWJpY0luT3V0LCBsaW5lYXIsIGN1YmljT3V0IH0gZnJvbSAnLi4vZWFzaW5nL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBzcGxpdF9jc3NfdW5pdCwgaXNfZnVuY3Rpb24sIGFzc2lnbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XG5cbmZ1bmN0aW9uIGJsdXIobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBjdWJpY0luT3V0LCBhbW91bnQgPSA1LCBvcGFjaXR5ID0gMCB9ID0ge30pIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgY29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcbiAgICBjb25zdCBmID0gc3R5bGUuZmlsdGVyID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLmZpbHRlcjtcbiAgICBjb25zdCBvZCA9IHRhcmdldF9vcGFjaXR5ICogKDEgLSBvcGFjaXR5KTtcbiAgICBjb25zdCBbdmFsdWUsIHVuaXRdID0gc3BsaXRfY3NzX3VuaXQoYW1vdW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZyxcbiAgICAgICAgY3NzOiAoX3QsIHUpID0+IGBvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9OyBmaWx0ZXI6ICR7Zn0gYmx1cigke3UgKiB2YWx1ZX0ke3VuaXR9KTtgXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZhZGUobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBsaW5lYXIgfSA9IHt9KSB7XG4gICAgY29uc3QgbyA9ICtnZXRDb21wdXRlZFN0eWxlKG5vZGUpLm9wYWNpdHk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogdCA9PiBgb3BhY2l0eTogJHt0ICogb31gXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZseShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCB4ID0gMCwgeSA9IDAsIG9wYWNpdHkgPSAwIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgY29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG4gICAgY29uc3QgW3hWYWx1ZSwgeFVuaXRdID0gc3BsaXRfY3NzX3VuaXQoeCk7XG4gICAgY29uc3QgW3lWYWx1ZSwgeVVuaXRdID0gc3BsaXRfY3NzX3VuaXQoeSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogKHQsIHUpID0+IGBcblx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgkeygxIC0gdCkgKiB4VmFsdWV9JHt4VW5pdH0sICR7KDEgLSB0KSAqIHlWYWx1ZX0ke3lVbml0fSk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9YFxuICAgIH07XG59XG5mdW5jdGlvbiBzbGlkZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCBheGlzID0gJ3knIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgcHJpbWFyeV9wcm9wZXJ0eSA9IGF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICBjb25zdCBwcmltYXJ5X3Byb3BlcnR5X3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtwcmltYXJ5X3Byb3BlcnR5XSk7XG4gICAgY29uc3Qgc2Vjb25kYXJ5X3Byb3BlcnRpZXMgPSBheGlzID09PSAneScgPyBbJ3RvcCcsICdib3R0b20nXSA6IFsnbGVmdCcsICdyaWdodCddO1xuICAgIGNvbnN0IGNhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzID0gc2Vjb25kYXJ5X3Byb3BlcnRpZXMubWFwKChlKSA9PiBgJHtlWzBdLnRvVXBwZXJDYXNlKCl9JHtlLnNsaWNlKDEpfWApO1xuICAgIGNvbnN0IHBhZGRpbmdfc3RhcnRfdmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlW2BwYWRkaW5nJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1swXX1gXSk7XG4gICAgY29uc3QgcGFkZGluZ19lbmRfdmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlW2BwYWRkaW5nJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1sxXX1gXSk7XG4gICAgY29uc3QgbWFyZ2luX3N0YXJ0X3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtgbWFyZ2luJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1swXX1gXSk7XG4gICAgY29uc3QgbWFyZ2luX2VuZF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYG1hcmdpbiR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19YF0pO1xuICAgIGNvbnN0IGJvcmRlcl93aWR0aF9zdGFydF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYGJvcmRlciR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19V2lkdGhgXSk7XG4gICAgY29uc3QgYm9yZGVyX3dpZHRoX2VuZF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYGJvcmRlciR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19V2lkdGhgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogdCA9PiAnb3ZlcmZsb3c6IGhpZGRlbjsnICtcbiAgICAgICAgICAgIGBvcGFjaXR5OiAke01hdGgubWluKHQgKiAyMCwgMSkgKiBvcGFjaXR5fTtgICtcbiAgICAgICAgICAgIGAke3ByaW1hcnlfcHJvcGVydHl9OiAke3QgKiBwcmltYXJ5X3Byb3BlcnR5X3ZhbHVlfXB4O2AgK1xuICAgICAgICAgICAgYHBhZGRpbmctJHtzZWNvbmRhcnlfcHJvcGVydGllc1swXX06ICR7dCAqIHBhZGRpbmdfc3RhcnRfdmFsdWV9cHg7YCArXG4gICAgICAgICAgICBgcGFkZGluZy0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfTogJHt0ICogcGFkZGluZ19lbmRfdmFsdWV9cHg7YCArXG4gICAgICAgICAgICBgbWFyZ2luLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19OiAke3QgKiBtYXJnaW5fc3RhcnRfdmFsdWV9cHg7YCArXG4gICAgICAgICAgICBgbWFyZ2luLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19OiAke3QgKiBtYXJnaW5fZW5kX3ZhbHVlfXB4O2AgK1xuICAgICAgICAgICAgYGJvcmRlci0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzBdfS13aWR0aDogJHt0ICogYm9yZGVyX3dpZHRoX3N0YXJ0X3ZhbHVlfXB4O2AgK1xuICAgICAgICAgICAgYGJvcmRlci0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfS13aWR0aDogJHt0ICogYm9yZGVyX3dpZHRoX2VuZF92YWx1ZX1weDtgXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNjYWxlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gY3ViaWNPdXQsIHN0YXJ0ID0gMCwgb3BhY2l0eSA9IDAgfSA9IHt9KSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGNvbnN0IHRhcmdldF9vcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICBjb25zdCBzZCA9IDEgLSBzdGFydDtcbiAgICBjb25zdCBvZCA9IHRhcmdldF9vcGFjaXR5ICogKDEgLSBvcGFjaXR5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZyxcbiAgICAgICAgY3NzOiAoX3QsIHUpID0+IGBcblx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHNjYWxlKCR7MSAtIChzZCAqIHUpfSk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9XG5cdFx0YFxuICAgIH07XG59XG5mdW5jdGlvbiBkcmF3KG5vZGUsIHsgZGVsYXkgPSAwLCBzcGVlZCwgZHVyYXRpb24sIGVhc2luZyA9IGN1YmljSW5PdXQgfSA9IHt9KSB7XG4gICAgbGV0IGxlbiA9IG5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnN0cm9rZUxpbmVjYXAgIT09ICdidXR0Jykge1xuICAgICAgICBsZW4gKz0gcGFyc2VJbnQoc3R5bGUuc3Ryb2tlV2lkdGgpO1xuICAgIH1cbiAgICBpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc3BlZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSA4MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGxlbiAvIHNwZWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uKGxlbik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6IChfLCB1KSA9PiBgXG5cdFx0XHRzdHJva2UtZGFzaGFycmF5OiAke2xlbn07XG5cdFx0XHRzdHJva2UtZGFzaG9mZnNldDogJHt1ICogbGVufTtcblx0XHRgXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyb3NzZmFkZShfYSkge1xuICAgIHZhciB7IGZhbGxiYWNrIH0gPSBfYSwgZGVmYXVsdHMgPSBfX3Jlc3QoX2EsIFtcImZhbGxiYWNrXCJdKTtcbiAgICBjb25zdCB0b19yZWNlaXZlID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRvX3NlbmQgPSBuZXcgTWFwKCk7XG4gICAgZnVuY3Rpb24gY3Jvc3NmYWRlKGZyb21fbm9kZSwgbm9kZSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IGQgPT4gTWF0aC5zcXJ0KGQpICogMzAsIGVhc2luZyA9IGN1YmljT3V0IH0gPSBhc3NpZ24oYXNzaWduKHt9LCBkZWZhdWx0cyksIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGZyb20gPSBmcm9tX25vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZHggPSBmcm9tLmxlZnQgLSB0by5sZWZ0O1xuICAgICAgICBjb25zdCBkeSA9IGZyb20udG9wIC0gdG8udG9wO1xuICAgICAgICBjb25zdCBkdyA9IGZyb20ud2lkdGggLyB0by53aWR0aDtcbiAgICAgICAgY29uc3QgZGggPSBmcm9tLmhlaWdodCAvIHRvLmhlaWdodDtcbiAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogaXNfZnVuY3Rpb24oZHVyYXRpb24pID8gZHVyYXRpb24oZCkgOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZyxcbiAgICAgICAgICAgIGNzczogKHQsIHUpID0+IGBcblx0XHRcdFx0b3BhY2l0eTogJHt0ICogb3BhY2l0eX07XG5cdFx0XHRcdHRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O1xuXHRcdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHt1ICogZHh9cHgsJHt1ICogZHl9cHgpIHNjYWxlKCR7dCArICgxIC0gdCkgKiBkd30sICR7dCArICgxIC0gdCkgKiBkaH0pO1xuXHRcdFx0YFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uKGl0ZW1zLCBjb3VudGVycGFydHMsIGludHJvKSB7XG4gICAgICAgIHJldHVybiAobm9kZSwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBpdGVtcy5zZXQocGFyYW1zLmtleSwgbm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVycGFydHMuaGFzKHBhcmFtcy5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyX25vZGUgPSBjb3VudGVycGFydHMuZ2V0KHBhcmFtcy5rZXkpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVycGFydHMuZGVsZXRlKHBhcmFtcy5rZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Jvc3NmYWRlKG90aGVyX25vZGUsIG5vZGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGlzIGRpc2FwcGVhcmluZyBhbHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgLy8gKGkuZS4gd2Fzbid0IGNsYWltZWQgYnkgdGhlIG90aGVyIGxpc3QpXG4gICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIHN1cHBseSBhbiBvdXRyb1xuICAgICAgICAgICAgICAgIGl0ZW1zLmRlbGV0ZShwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2sgJiYgZmFsbGJhY2sobm9kZSwgcGFyYW1zLCBpbnRybyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICB0cmFuc2l0aW9uKHRvX3NlbmQsIHRvX3JlY2VpdmUsIGZhbHNlKSxcbiAgICAgICAgdHJhbnNpdGlvbih0b19yZWNlaXZlLCB0b19zZW5kLCB0cnVlKVxuICAgIF07XG59XG5cbmV4cG9ydCB7IGJsdXIsIGNyb3NzZmFkZSwgZHJhdywgZmFkZSwgZmx5LCBzY2FsZSwgc2xpZGUgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcclxuICAgIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxyXG4gICAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcclxuICAgIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xyXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XHJcbiAgICB2YXIgXywgZG9uZSA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xyXG4gICAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XHJcbiAgICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xyXG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcclxuICAgICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcclxuICAgIGRvbmUgPSB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcclxuICAgIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xyXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcclxuICAgIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XHJcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xyXG4gICAgICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcclxuICAgICAgICBpZiAoYXN5bmMpIHtcclxuICAgICAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xyXG4gICAgICAgICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xyXG4gICAgICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xyXG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhc3luYykge1xyXG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcblxyXG59XHJcblxyXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcclxuICAgIGZ1bmN0aW9uIGZhaWwoZSkge1xyXG4gICAgICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcclxuICAgICAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmFyIHIsIHMgPSAwO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICB3aGlsZSAociA9IGVudi5zdGFjay5wb3AoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyLmFzeW5jICYmIHMgPT09IDEpIHJldHVybiBzID0gMCwgZW52LnN0YWNrLnB1c2gociksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4obmV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoci5kaXNwb3NlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHMgfD0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgZmFpbChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBfX2V4dGVuZHM6IF9fZXh0ZW5kcyxcclxuICAgIF9fYXNzaWduOiBfX2Fzc2lnbixcclxuICAgIF9fcmVzdDogX19yZXN0LFxyXG4gICAgX19kZWNvcmF0ZTogX19kZWNvcmF0ZSxcclxuICAgIF9fcGFyYW06IF9fcGFyYW0sXHJcbiAgICBfX21ldGFkYXRhOiBfX21ldGFkYXRhLFxyXG4gICAgX19hd2FpdGVyOiBfX2F3YWl0ZXIsXHJcbiAgICBfX2dlbmVyYXRvcjogX19nZW5lcmF0b3IsXHJcbiAgICBfX2NyZWF0ZUJpbmRpbmc6IF9fY3JlYXRlQmluZGluZyxcclxuICAgIF9fZXhwb3J0U3RhcjogX19leHBvcnRTdGFyLFxyXG4gICAgX192YWx1ZXM6IF9fdmFsdWVzLFxyXG4gICAgX19yZWFkOiBfX3JlYWQsXHJcbiAgICBfX3NwcmVhZDogX19zcHJlYWQsXHJcbiAgICBfX3NwcmVhZEFycmF5czogX19zcHJlYWRBcnJheXMsXHJcbiAgICBfX3NwcmVhZEFycmF5OiBfX3NwcmVhZEFycmF5LFxyXG4gICAgX19hd2FpdDogX19hd2FpdCxcclxuICAgIF9fYXN5bmNHZW5lcmF0b3I6IF9fYXN5bmNHZW5lcmF0b3IsXHJcbiAgICBfX2FzeW5jRGVsZWdhdG9yOiBfX2FzeW5jRGVsZWdhdG9yLFxyXG4gICAgX19hc3luY1ZhbHVlczogX19hc3luY1ZhbHVlcyxcclxuICAgIF9fbWFrZVRlbXBsYXRlT2JqZWN0OiBfX21ha2VUZW1wbGF0ZU9iamVjdCxcclxuICAgIF9faW1wb3J0U3RhcjogX19pbXBvcnRTdGFyLFxyXG4gICAgX19pbXBvcnREZWZhdWx0OiBfX2ltcG9ydERlZmF1bHQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldDogX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRJbjogX19jbGFzc1ByaXZhdGVGaWVsZEluLFxyXG4gICAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2U6IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxyXG4gICAgX19kaXNwb3NlUmVzb3VyY2VzOiBfX2Rpc3Bvc2VSZXNvdXJjZXMsXHJcbn07XHJcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgIGV4cG9ydCBsZXQgY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIiA7IFxyXG48L3NjcmlwdD5cclxuICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPXtjb2xvcn0gc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwic3ZnLWljb24gbHVjaWRlLXBsdXMtY2lyY2xlXCI+XHJcbiAgICAgICAgPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiPlxyXG4gICAgICAgIDwvY2lyY2xlPlxyXG4gICAgICAgIDxsaW5lIHgxPVwiMTJcIiB5MT1cIjhcIiB4Mj1cIjEyXCIgeTI9XCIxNlwiPlxyXG4gICAgICAgIDwvbGluZT5cclxuICAgICAgICA8bGluZSB4MT1cIjhcIiB5MT1cIjEyXCIgeDI9XCIxNlwiIHkyPVwiMTJcIj5cclxuICAgICAgICA8L2xpbmU+XHJcbiAgICA8L3N2Zz4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG5cclxuXHJcblx0aW1wb3J0IEltYWdlX3BsdXMgZnJvbSBcIi4uL2J1dHRvbnMvcGx1cy5zdmVsdGVcIjsgXHJcbiAgICBpbXBvcnQgeyAgIHNsaWRlIH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XHJcbiAgICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIsIG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7ICBcclxuIFxyXG5cclxuXHRleHBvcnQgbGV0IGlzRWRpdGFibGVDb250YWluZXI6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICBleHBvcnQgbGV0IGNvbGxlY3Rpb246IHN0cmluZ1tdIHwge2tleTpzdHJpbmcsIHZhbHVlOnN0cmluZywgaXNTZWxlY3RlZD86Ym9vbGVhbiB9W107IFxyXG5cdCQ6IF9jb2xsZWN0aW9uID0gY29sbGVjdGlvbi5tYXAoIHAgPT4geyBcclxuXHRcdGlmICggcC5rZXkgJiYgcC52YWx1ZSApe1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGtleVx0XHRcdDpwLmtleSxcclxuXHRcdFx0XHRuYW1lXHRcdDpwLnZhbHVlLFxyXG5cdFx0XHRcdGlzU2VsZWN0ZWRcdDpwLmlzU2VsZWN0ZWQgPz8gZmFsc2UsXHJcblx0XHRcdFx0bmFtZUVkaXRcdDpwLnZhbHVlLFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNle1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGtleVx0XHRcdDpwIGFzIHN0cmluZyxcclxuXHRcdFx0XHRuYW1lXHRcdDpwIGFzIHN0cmluZyxcclxuXHRcdFx0XHRpc1NlbGVjdGVkXHQ6ZmFsc2UsXHJcblx0XHRcdFx0bmFtZUVkaXRcdDpwIGFzIHN0cmluZyxcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGV4cG9ydCBsZXQgb25TZWxlY3RcdFx0OiAoIGQ6IGFueSApID0+IGJvb2xlYW47XHJcblx0ZXhwb3J0IGxldCBvbkFkZFx0XHQ6ICgoKSA9PiBhbnkpIHwgbnVsbCA9IG51bGw7IFxyXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XHJcblxyXG5cdGludGVyZmFjZSBJVmlld0VsZW1lbnR7XHJcblx0XHRrZXk6c3RyaW5nO1xyXG5cdFx0bmFtZTpzdHJpbmc7XHJcblx0XHRpc1NlbGVjdGVkOmJvb2xlYW47XHJcblx0XHRuYW1lRWRpdDpzdHJpbmc7IFxyXG5cdH1cclxuXHJcblx0bGV0IHNlbGVjdGVkIDogSVZpZXdFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblx0XHJcblx0ZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0KCl7XHJcblx0XHRpZighc2VsZWN0ZWQpXHJcblx0XHRcdHJldHVybjtcclxuIFxyXG5cdFx0bGV0IGkgPSBfY29sbGVjdGlvbi5maW5kSW5kZXgoIHAgPT4gcC5pc1NlbGVjdGVkICk7IFxyXG5cdFx0aWYoIGkgIT0gLTEgKVxyXG5cdFx0XHRfY29sbGVjdGlvbltpXS5pc1NlbGVjdGVkID0gZmFsc2U7XHJcblxyXG5cdFx0c2VsZWN0ZWQgPSBudWxsO1xyXG5cdFx0ZGlzcGF0Y2goJ29uRGVTZWxlY3QnKVxyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdCgga2V5IDogc3RyaW5nICl7XHJcblx0XHRsZXQgaXRlbSA9IF9jb2xsZWN0aW9uLmZpbmQoIHAgPT4gcC5rZXkgPT0ga2V5ICk7XHJcblx0XHRpZiAoIGl0ZW0gKXtcclxuXHRcdFx0X29uU2VsZWN0KCBpdGVtICk7XHJcblx0XHR9XHJcblx0fVxyXG5cdCBcclxuXHRmdW5jdGlvbiBfb25TZWxlY3QoaXRlbSA6IElWaWV3RWxlbWVudCl7IFxyXG5cclxuXHRcdC8vIGdldCBsYXN0IHNlbGVjdGVkIFxyXG5cdFx0bGV0IGkgPSBfY29sbGVjdGlvbi5maW5kSW5kZXgoIHAgPT4gcC5pc1NlbGVjdGVkICk7IFxyXG5cdFxyXG5cdFx0Ly8gZW5zdXJlIHRoYXQgYSBDbGljayBvbiB0aGUgc2FtZSBpdGVtIGlzIGEgZGVzZWxlY3RcclxuXHRcdGlmICggaSAhPSAtMSAmJiBfY29sbGVjdGlvbltpXS5rZXkgPT0gaXRlbS5rZXkgKXtcclxuXHRcdFx0X2NvbGxlY3Rpb25baV0uaXNTZWxlY3RlZCA9IGZhbHNlOyBcclxuXHRcdFx0c2VsZWN0ZWQgPSBudWxsO1xyXG5cdFx0XHRkaXNwYXRjaCgnb25EZVNlbGVjdCcpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBkZXNlbGVjdFxyXG5cdFx0aWYgKCBpICE9IC0xIClcclxuXHRcdFx0X2NvbGxlY3Rpb25baV0uaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGkgPSBfY29sbGVjdGlvbi5maW5kSW5kZXgoIHAgPT4gcC5rZXkgPT0gaXRlbS5rZXkgKTsgIFxyXG5cdFx0Y29uc3QgaXNTZWxlY3RlZCA9IG9uU2VsZWN0KF9jb2xsZWN0aW9uW2ldLmtleSk7IFxyXG5cdFx0aWYgKGlzU2VsZWN0ZWQpe1xyXG5cdFx0XHRzZWxlY3RlZCA9IF9jb2xsZWN0aW9uW2ldO1xyXG5cdFx0fSBlbHNle1xyXG5cdFx0XHRzZWxlY3RlZCA9IG51bGw7XHJcblx0XHR9XHJcbiBcclxuXHRcdF9jb2xsZWN0aW9uW2ldLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gX29uQWRkKCl7XHJcblx0XHRpZighb25BZGQpXHJcblx0XHRcdHJldHVybjtcdFxyXG4gXHJcblx0XHRkZXNlbGVjdCgpO1xyXG5cdFx0b25BZGQoKTtcclxuXHR9XHJcblxyXG48L3NjcmlwdD5cclxuXHJcblxyXG4gICAgPGRpdiBjbGFzcz17IGlzRWRpdGFibGVDb250YWluZXIgPyBcIkdyb2JzSW50ZXJhY3RpdmVDb250YWluZXIgZWRpdGFibGVUYWJsZVwiIDogXCJlZGl0YWJsZVRhYmxlXCJ9ID5cclxuXHRcdFx0eyNlYWNoIF9jb2xsZWN0aW9uIGFzIGUgKCBlLmtleSApIH1cclxuXHRcdFx0XHQ8ZGl2XHJcblx0XHRcdFx0XHRjbGFzcz1cIkVkaXRhYmxlX3Jvd1wiIFxyXG5cdFx0XHRcdFx0ZGF0YS1zZWxlY3RlZD17IGUuaXNTZWxlY3RlZCB9XHJcblx0XHRcdFx0XHR0cmFuc2l0aW9uOnNsaWRlIFxyXG5cdFx0XHRcdFx0ZGF0YS1jYW4taG92ZXI9e3RydWV9XHJcblx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0PGRpdlxyXG5cdFx0XHRcdFx0XHR0YWJpbmRleD1cIi0xXCJcclxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJFZGl0YWJsZV9jb2x1bW5cIlxyXG5cdFx0XHRcdFx0XHRjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiXHJcblx0XHRcdFx0XHRcdGJpbmQ6dGV4dENvbnRlbnQ9e2UubmFtZX0gXHJcblx0XHRcdFx0XHRcdG9uOmNsaWNrPXsgKCkgPT4gX29uU2VsZWN0KGUpIH1cclxuXHRcdFx0XHRcdFx0b246a2V5dXBcclxuXHRcdFx0XHRcdD4gXHJcblx0XHRcdFx0XHRcdHtlLm5hbWV9XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0ey9lYWNofVxyXG5cdFx0XHR7I2lmIG9uQWRkICE9IG51bGwgfVxyXG5cdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdGNsYXNzPVwiRWRpdGFibGVfcm93IEVkaXRhYmxlX3Jvd1BsdXNCdXR0b25cIlxyXG5cdFx0XHRcdFx0ZGF0YS1zZWxlY3RlZD17IGZhbHNlIH1cclxuXHRcdFx0XHRcdHRyYW5zaXRpb246c2xpZGVcclxuXHRcdFx0XHRcdGRhdGEtY2FuLWhvdmVyPXt0cnVlfVxyXG5cdFx0XHRcdFx0c3R5bGU9XCJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCJcclxuXHRcdFx0XHRcdG9uOmNsaWNrPXsgKCkgPT4gX29uQWRkKCkgfVxyXG5cdFx0XHRcdFx0b246a2V5dXA9eyAoKSA9PiBfb25BZGQoKSB9XHJcblx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0PGRpdiBcclxuXHRcdFx0XHRcdFx0dGFiaW5kZXg9XCItMVwiXHJcblx0XHRcdFx0XHRcdGNsYXNzPVwiRWRpdGFibGVfSWNvblwiXHJcblx0XHRcdFx0XHRcdGNvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCIgXHJcblx0XHRcdFx0XHQ+ICBcclxuXHRcdFx0XHRcdFx0PEltYWdlX3BsdXMgY29sb3I9eycjZmZmJ30vPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHRcclxuXHRcdFx0ey9pZn1cclxuXHQ8L2Rpdj5cclxuXHJcbiAiLCJpbXBvcnQgeyBub29wLCBzYWZlX25vdF9lcXVhbCwgc3Vic2NyaWJlLCBydW5fYWxsLCBpc19mdW5jdGlvbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBnZXRfc3RvcmVfdmFsdWUgYXMgZ2V0IH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcblxuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyfSBbc3RhcnRdXG4gKi9cbmZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmVcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHsqPX12YWx1ZSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyPX0gc3RhcnRcbiAqL1xuZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuICAgIGxldCBzdG9wO1xuICAgIGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcbiAgICAgICAgaWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ld192YWx1ZTtcbiAgICAgICAgICAgIGlmIChzdG9wKSB7IC8vIHN0b3JlIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgY29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiBzdWJzY3JpYmVycykge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyWzFdKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5fcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuICAgICAgICBzZXQoZm4odmFsdWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuICAgICAgICBzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICBzdG9wID0gc3RhcnQoc2V0KSB8fCBub29wO1xuICAgICAgICB9XG4gICAgICAgIHJ1bih2YWx1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCAmJiBzdG9wKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0b3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5mdW5jdGlvbiBkZXJpdmVkKHN0b3JlcywgZm4sIGluaXRpYWxfdmFsdWUpIHtcbiAgICBjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuICAgIGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZVxuICAgICAgICA/IFtzdG9yZXNdXG4gICAgICAgIDogc3RvcmVzO1xuICAgIGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuICAgIHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0KSA9PiB7XG4gICAgICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBsZXQgcGVuZGluZyA9IDA7XG4gICAgICAgIGxldCBjbGVhbnVwID0gbm9vcDtcbiAgICAgICAgY29uc3Qgc3luYyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQpO1xuICAgICAgICAgICAgaWYgKGF1dG8pIHtcbiAgICAgICAgICAgICAgICBzZXQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PiBzdWJzY3JpYmUoc3RvcmUsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBwZW5kaW5nICY9IH4oMSA8PCBpKTtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgc3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBwZW5kaW5nIHw9ICgxIDw8IGkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBzeW5jKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgdG8gZmFsc2UgYmVjYXVzZSBjYWxsYmFja3MgY2FuIHN0aWxsIGhhcHBlbiBkZXNwaXRlIGhhdmluZyB1bnN1YnNjcmliZWQ6XG4gICAgICAgICAgICAvLyBDYWxsYmFja3MgbWlnaHQgYWxyZWFkeSBiZSBwbGFjZWQgaW4gdGhlIHF1ZXVlIHdoaWNoIGRvZXNuJ3Qga25vdyBpdCBzaG91bGQgbm8gbG9uZ2VyXG4gICAgICAgICAgICAvLyBpbnZva2UgdGhpcyBkZXJpdmVkIHN0b3JlLlxuICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBtYWtlIHJlYWRvbmx5XG4gKi9cbmZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcbiAgICB9O1xufVxuXG5leHBvcnQgeyBkZXJpdmVkLCByZWFkYWJsZSwgcmVhZG9ubHksIHdyaXRhYmxlIH07XG4iLCJleHBvcnQgdmFyIEJBU0VfU0NIRU1FID0gJ19iYXNlJztcbmV4cG9ydCB2YXIgTm9PdXRwdXQgPSB7XG4gICAgb3V0RXJyb3I6IGZ1bmN0aW9uIChtc2cpIHsgfSxcbiAgICBvdXRMb2c6IGZ1bmN0aW9uIChtc2cpIHsgfVxufTtcbmV4cG9ydCB2YXIgSlNPTl9UQUdTO1xuKGZ1bmN0aW9uIChKU09OX1RBR1MpIHtcbiAgICBKU09OX1RBR1NbXCJKU09OX1BST1BFUlRZXCJdID0gXCJKU09OX1BST1BFUlRZXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9QUk9QRVJUWV9UWVBFRFwiXSA9IFwiSlNPTl9QUk9QRVJUWV9UWVBFRFwiO1xuICAgIEpTT05fVEFHU1tcIkpTT05fUFJPUEVSVFlfVFlQRURfU0tJUF9GT1JDRURcIl0gPSBcIkpTT05fUFJPUEVSVFlfVFlQRURfU0tJUF9GT1JDRURcIjtcbiAgICBKU09OX1RBR1NbXCJKU09OX1BST1BFUlRZX05BTUVfTUFQX0lOXCJdID0gXCJKU09OX1BST1BFUlRZX05BTUVfTUFQX0lOXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9QUk9QRVJUWV9OQU1FX01BUF9PVVRcIl0gPSBcIkpTT05fUFJPUEVSVFlfTkFNRV9NQVBfT1VUXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9QUk9QRVJUWV9GVU5DX01BUF9JTlwiXSA9IFwiSlNPTl9QUk9QRVJUWV9GVU5DX01BUF9JTlwiO1xuICAgIEpTT05fVEFHU1tcIkpTT05fUFJPUEVSVFlfRlVOQ19NQVBfT1VUXCJdID0gXCJKU09OX1BST1BFUlRZX0ZVTkNfTUFQX09VVFwiO1xuICAgIEpTT05fVEFHU1tcIkpTT05fUFJPUEVSVFlfRk9SQ0VfQkFTRV9UWVBFXCJdID0gXCJKU09OX1BST1BFUlRZX0ZPUkNFX0JBU0VfVFlQRVwiO1xuICAgIEpTT05fVEFHU1tcIkpTT05fUFJPUEVSVFlfRk9SQ0VfQVJSQVlcIl0gPSBcIkpTT05fUFJPUEVSVFlfRk9SQ0VfQVJSQVlcIjtcbiAgICBKU09OX1RBR1NbXCJKU09OX09CSkVDVF9PTl9BRlRFUl9ERV9TRVJJQUxJWkFUSU9OXCJdID0gXCJKU09OX09CSkVDVF9PTl9BRlRFUl9ERV9TRVJJQUxJWkFUSU9OXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9PQkpFQ1RfT05fQUZURVJfU0VSSUFMSVpBVElPTl9CRUZPUkVfU1RSSU5HXCJdID0gXCJKU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OX0JFRk9SRV9TVFJJTkdcIjtcbiAgICBKU09OX1RBR1NbXCJKU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OXCJdID0gXCJKU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9PQkpFQ1RfT05fQkVGT1JFX1NFUklBTElaQVRJT05cIl0gPSBcIkpTT05fT0JKRUNUX09OX0JFRk9SRV9TRVJJQUxJWkFUSU9OXCI7XG4gICAgSlNPTl9UQUdTW1wiSlNPTl9PQkpFQ1RfT05fQkVGT1JFX0RFX1NFUklBTElaQVRJT05cIl0gPSBcIkpTT05fT0JKRUNUX09OX0JFRk9SRV9ERV9TRVJJQUxJWkFUSU9OXCI7XG59KShKU09OX1RBR1MgfHwgKEpTT05fVEFHUyA9IHt9KSk7XG5leHBvcnQgdmFyIEpTT05fQkFTRVRZUEVTO1xuKGZ1bmN0aW9uIChKU09OX0JBU0VUWVBFUykge1xuICAgIEpTT05fQkFTRVRZUEVTW1wic3RyaW5nXCJdID0gXCJzdHJpbmdcIjtcbiAgICBKU09OX0JBU0VUWVBFU1tcImJvb2xcIl0gPSBcImJvb2xcIjtcbiAgICBKU09OX0JBU0VUWVBFU1tcIm51bWJlclwiXSA9IFwibnVtYmVyXCI7XG59KShKU09OX0JBU0VUWVBFUyB8fCAoSlNPTl9CQVNFVFlQRVMgPSB7fSkpO1xuIiwiaW1wb3J0IHsgQkFTRV9TQ0hFTUUgfSBmcm9tIFwiLi9Kc29uTW9kdWxlQ29uc3RhbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVHdWlkKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4J1xuICAgICAgICAucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cbnZhciBzZWxmS2V5ID0gY3JlYXRlR3VpZCgpICsgXCJTRUxGXCI7XG52YXIgTWV0YURhdGFUYWdOYW1lID0gJ2dqbWQnOyAvLyBHcm9iYXggSnNvbiBNZXRhIERhdGE7XG52YXIgUmVmbGVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZsZWN0KCkge1xuICAgIH1cbiAgICBSZWZsZWN0LmdldFByb3RvdHlwZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGE7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGEgPSBvYmoucHJvdG90eXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYSA9IG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcbiAgICBSZWZsZWN0LnNldFByb3RvdHlwZSA9IGZ1bmN0aW9uIChvYmosIHByb3RvdHlwZSkge1xuICAgICAgICAvL09iamVjdC5zZXRQcm90b3R5cGVPZiggb2JqICwgcHJvdG90eXBlIClcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgSW1wbGVtZW50ZWQgRXJyb3IsIHBsZWFzZSByZXBvcnQgdGhlIHNjZW5hcmlvIHRvIG1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqLCBwcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWZsZWN0LmdldE9yQ3JlYXRlQWxsTWV0YURhdGEgPSBmdW5jdGlvbiAob2JqLCBjcmVhdGUpIHtcbiAgICAgICAgaWYgKGNyZWF0ZSA9PT0gdm9pZCAwKSB7IGNyZWF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSBSZWZsZWN0LmdldFByb3RvdHlwZShvYmopO1xuICAgICAgICBpZiAocHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdG90eXBlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGEgPSBwcm90b3R5cGU7XG4gICAgICAgIGlmICghKGFbJ2dqbWQnXSkpIHtcbiAgICAgICAgICAgIGlmICghY3JlYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgYVsnZ2ptZCddID0ge307XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGFbJ2dqbWQnXTtcbiAgICAgICAgaWYgKCFhW3Byb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lXSkge1xuICAgICAgICAgICAgaWYgKCFjcmVhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBhW3Byb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhW3Byb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lXTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcbiAgICBSZWZsZWN0LmdldE9yQ3JlYXRlRGVmaW5lZE1ldGFEYXRhID0gZnVuY3Rpb24gKG9iaiwgc2NoZW1lLCBjcmVhdGUpIHtcbiAgICAgICAgaWYgKGNyZWF0ZSA9PT0gdm9pZCAwKSB7IGNyZWF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBhID0gUmVmbGVjdC5nZXRPckNyZWF0ZUFsbE1ldGFEYXRhKG9iaiwgY3JlYXRlKTtcbiAgICAgICAgaWYgKCFhKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghKGFbc2NoZW1lXSkpIHtcbiAgICAgICAgICAgIGlmICghY3JlYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgYVtzY2hlbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFbc2NoZW1lXTtcbiAgICB9O1xuICAgIC8vIEtFWVMgLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS1cbiAgICBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyA9IGZ1bmN0aW9uIChvYmosIGtleSwgc2NoZW1lKSB7XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgICAgICB2YXIgYSA9IFJlZmxlY3QuZ2V0T3JDcmVhdGVEZWZpbmVkTWV0YURhdGEob2JqLCBzY2hlbWUpO1xuICAgICAgICBpZiAoIWEgfHwgIWFba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhW2tleV0pO1xuICAgIH07XG4gICAgUmVmbGVjdC5nZXRPd25NZXRhRGF0YUtleXMgPSBmdW5jdGlvbiAob2JqLCBzY2hlbWUpIHtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhvYmosIHNlbGZLZXksIHNjaGVtZSk7XG4gICAgfTtcbiAgICAvLyBHRVQgLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS1cbiAgICBSZWZsZWN0LmdldE1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFUYWcsIHRhcmdldCwgcHJvcGVydHlLZXksIHNjaGVtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgICAgICB2YXIgYSA9IFJlZmxlY3QuZ2V0T3JDcmVhdGVEZWZpbmVkTWV0YURhdGEodGFyZ2V0LCBzY2hlbWUpO1xuICAgICAgICBpZiAoIWFbcHJvcGVydHlLZXldKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiAoX2EgPSBhW3Byb3BlcnR5S2V5XVttZXRhVGFnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICB9O1xuICAgIFJlZmxlY3QuZ2V0T3duTWV0YURhdGEgPSBmdW5jdGlvbiAobWV0YVRhZywgdGFyZ2V0LCBzY2hlbWUpIHtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKG1ldGFUYWcsIHRhcmdldCwgc2VsZktleSwgc2NoZW1lKTtcbiAgICB9O1xuICAgIC8vIERFRklORSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLVxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YURhdGEgPSBmdW5jdGlvbiAobWV0YVRhZywgZGF0YSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgc2NoZW1lKSB7XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgICAgICB2YXIgYSA9IFJlZmxlY3QuZ2V0T3JDcmVhdGVEZWZpbmVkTWV0YURhdGEodGFyZ2V0LCBzY2hlbWUsIHRydWUpO1xuICAgICAgICBpZiAoIWFbcHJvcGVydHlLZXldKVxuICAgICAgICAgICAgYVtwcm9wZXJ0eUtleV0gPSB7fTtcbiAgICAgICAgYVtwcm9wZXJ0eUtleV1bbWV0YVRhZ10gPSBkYXRhO1xuICAgIH07XG4gICAgUmVmbGVjdC5kZWZpbmVPd25NZXRhRGF0YSA9IGZ1bmN0aW9uIChtZXRhVGFnLCBkYXRhLCB0YXJnZXQsIHNjaGVtZSkge1xuICAgICAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHsgc2NoZW1lID0gQkFTRV9TQ0hFTUU7IH1cbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lTWV0YURhdGEobWV0YVRhZywgZGF0YSwgdGFyZ2V0LCBzZWxmS2V5LCBzY2hlbWUpO1xuICAgIH07XG4gICAgLy8gaGFzIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tXG4gICAgUmVmbGVjdC5oYXNNZXRhRGF0YSA9IGZ1bmN0aW9uIChtZXRhVGFnLCB0YXJnZXQsIGtleSwgc2NoZW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIHZhciBhID0gUmVmbGVjdC5nZXRPckNyZWF0ZURlZmluZWRNZXRhRGF0YSh0YXJnZXQsIHNjaGVtZSk7XG4gICAgICAgIGlmIChhID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghKGFba2V5XSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiAoX2EgPSBhW2tleV1bbWV0YVRhZ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgIH07XG4gICAgUmVmbGVjdC5oYXNPd25NZXRhRGF0YSA9IGZ1bmN0aW9uIChtZXRhVGFnLCB0YXJnZXQsIHNjaGVtZSkge1xuICAgICAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHsgc2NoZW1lID0gQkFTRV9TQ0hFTUU7IH1cbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzTWV0YURhdGEobWV0YVRhZywgdGFyZ2V0LCBzZWxmS2V5LCBzY2hlbWUpO1xuICAgIH07XG4gICAgUmVmbGVjdC5nZXRBbGxNZXRhID0gZnVuY3Rpb24gKG9iaiwgc2NoZW1lKSB7XG4gICAgICAgIGlmIChzY2hlbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE9yQ3JlYXRlRGVmaW5lZE1ldGFEYXRhKG9iaiwgc2NoZW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE9yQ3JlYXRlQWxsTWV0YURhdGEob2JqLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlZmxlY3Q7XG59KCkpO1xuZXhwb3J0IHsgUmVmbGVjdCB9O1xuIiwiaW1wb3J0IHsgQkFTRV9TQ0hFTUUgfSBmcm9tIFwiLi9Kc29uTW9kdWxlQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBSZWZsZWN0IH0gZnJvbSBcIi4vUmVmbGVjdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc01ldGFEYXRhSW5TY2hlbWUobWV0YVRhZywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgc2NoZW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKG1ldGFUYWcsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICBpZiAoZGF0YVtzY2hlbWVdICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vLyBHRVQgLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhVGFnLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpIHtcbiAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHsgc2NoZW1lID0gQkFTRV9TQ0hFTUU7IH1cbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YShtZXRhVGFnLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE93bk1ldGFEYXRhKG1ldGFUYWcsIHRhcmdldCwgc2NoZW1lKSB7XG4gICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duTWV0YURhdGEobWV0YVRhZywgdGFyZ2V0LCBzY2hlbWUpO1xufVxuLy8gREVGSU5FIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tXG5leHBvcnQgZnVuY3Rpb24gc2V0TWV0YWRhdGEobWV0YVRhZywgdmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXksIHNjaGVtZSkge1xuICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YURhdGEobWV0YVRhZywgdmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXksIHNjaGVtZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0T3duTWV0YURhdGEobWV0YVRhZywgdGFyZ2V0LCB2YWx1ZSwgc2NoZW1lKSB7XG4gICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgUmVmbGVjdC5kZWZpbmVPd25NZXRhRGF0YShtZXRhVGFnLCB2YWx1ZSwgdGFyZ2V0LCBzY2hlbWUpO1xufVxuLy8gS0VZUyAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLSAtLS0gLS0tIC0tLVxuZXhwb3J0IGZ1bmN0aW9uIGdldE93bk1ldGFEYXRhS2V5cyh0YXJnZXQsIHNjaGVtZSkge1xuICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgIHZhciBrZXlzID0gUmVmbGVjdC5nZXRPd25NZXRhRGF0YUtleXModGFyZ2V0LCBzY2hlbWUpO1xuICAgIHJldHVybiBrZXlzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFEYXRhS2V5cyh0YXJnZXQsIGtleSwgc2NoZW1lKSB7XG4gICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgdmFyIGtleXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyh0YXJnZXQsIGtleSwgc2NoZW1lKTtcbiAgICByZXR1cm4ga2V5cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNNZXRhRGF0YSh0YXJnZXQsIHNjaGVtZSkge1xuICAgIHZhciBhID0gUmVmbGVjdC5nZXRBbGxNZXRhKHRhcmdldCwgc2NoZW1lKTtcbiAgICBpZiAoIWEpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm90b3R5cGUob2JqKSB7XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0UHJvdG90eXBlKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvdG90eXBlKG9iaiwgcHJvdG90eXBlKSB7XG4gICAgUmVmbGVjdC5zZXRQcm90b3R5cGUob2JqLCBwcm90b3R5cGUpO1xuICAgIHJldHVybiBSZWZsZWN0LmdldFByb3RvdHlwZShvYmopID09IHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCB7IEJBU0VfU0NIRU1FLCBKU09OX0JBU0VUWVBFUywgSlNPTl9UQUdTIH0gZnJvbSBcIi4vSnNvbk1vZHVsZUNvbnN0YW50c1wiO1xuaW1wb3J0IHsgc2V0TWV0YWRhdGEsIHNldE93bk1ldGFEYXRhIH0gZnJvbSBcIi4vSnNvbk1vZHVsZUJhc2VGdW5jdGlvblwiO1xuZnVuY3Rpb24gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pIHtcbiAgICBpZiAoIW9wdGlvbilcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmICghb3B0aW9uLnNjaGVtZSB8fCBvcHRpb24uc2NoZW1lLmxlbmd0aCA9PSAwKVxuICAgICAgICBvcHRpb24uc2NoZW1lID0gW0JBU0VfU0NIRU1FXTtcbiAgICBvcHRpb24ubWFwcGluZ0Z1bmN0aW9ucyA9IG51bGw7XG4gICAgb3B0aW9uLnR5cGUgPSBudWxsO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gbnVsbDtcbiAgICBvcHRpb24uZm9yY2VCYXNlVHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIG9wdGlvbjtcbn1cbi8qKlxuICogVGhpcyBpcyB0aGUgYmFzZSBwcm9wZXJ0eSwgdGhpcyBpcyB0aGUgcHJvcGVydHkgdGhhdCBvdGhlciBwcm9wZXJ0aWVzIHVzZS5cbiAqIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHVzZSB0aGUgbW9yZSBzcGVjaWZpayBwcm9wZXJ0aWVzIHdoZW4gcG9zc2libGVcbiovXG5leHBvcnQgZnVuY3Rpb24gSnNvblByb3BlcnR5KG9wdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICB2YXIgc2NoZW1lcztcbiAgICAgICAgaWYgKCEob3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnNjaGVtZSkpIHtcbiAgICAgICAgICAgIHNjaGVtZXMgPSBbQkFTRV9TQ0hFTUVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uLnNjaGVtZSkpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb24uc2NoZW1lLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2NoZW1lcyA9IFtCQVNFX1NDSEVNRV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY2hlbWVzID0gb3B0aW9uLnNjaGVtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVtZXMgPSBbb3B0aW9uLnNjaGVtZV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1lID0gc2NoZW1lc1tpXTtcbiAgICAgICAgICAgIHNldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZLCB0cnVlLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9uLmZvcmNlQmFzZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbi5mb3JjZUJhc2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSlNPTl9CQVNFVFlQRVMuc3RyaW5nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIEpTT05fQkFTRVRZUEVTLm51bWJlcjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBKU09OX0JBU0VUWVBFUy5ib29sOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWV0YWRhdGEoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfRk9SQ0VfQkFTRV9UWVBFLCBvcHRpb24uZm9yY2VCYXNlVHlwZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgc2NoZW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9uLmlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9GT1JDRV9BUlJBWSwgdHJ1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgc2NoZW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb24ubmFtZSkge1xuICAgICAgICAgICAgICAgIHNldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX05BTUVfTUFQX0lOLCBwcm9wZXJ0eUtleSwgdGFyZ2V0LCBvcHRpb24ubmFtZSwgc2NoZW1lKTtcbiAgICAgICAgICAgICAgICBzZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9OQU1FX01BUF9PVVQsIG9wdGlvbi5uYW1lLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbi5tYXBwaW5nRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgc2V0TWV0YWRhdGEoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfRlVOQ19NQVBfSU4sIG9wdGlvbi5tYXBwaW5nRnVuY3Rpb25zLmluLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgICAgIHNldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZVTkNfTUFQX09VVCwgb3B0aW9uLm1hcHBpbmdGdW5jdGlvbnMub3V0LCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgc2V0TWV0YWRhdGEoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfVFlQRUQsIG9wdGlvbi50eXBlLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbi5za2lwRm9yY2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgc2V0TWV0YWRhdGEoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfVFlQRURfU0tJUF9GT1JDRUQsIHRydWUsIHRhcmdldCwgcHJvcGVydHlLZXksIHNjaGVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBUaGlzIGlzIHRoZSBiYXNlIHByb3BlcnR5LCB0aGF0IGVuc3VyZSB3aGF0IGV2ZXIgaXMgZGVzZXJpYWxpemVkfHNlcmlhbGl6ZWQgaXMgYW4gYXJyYXlcbiovXG5leHBvcnQgZnVuY3Rpb24gSnNvbkFycmF5UHJvcGVydHkob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gdHJ1ZTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKc29uTnVtYmVyKG9wdGlvbikge1xuICAgIG9wdGlvbiA9IGNsZWFuTm9uQWNjZXNpYmxlU2V0dGluZ3Mob3B0aW9uKTtcbiAgICBvcHRpb24uZm9yY2VCYXNlVHlwZSA9IEpTT05fQkFTRVRZUEVTLm51bWJlcjtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKc29uU3RyaW5nKG9wdGlvbikge1xuICAgIG9wdGlvbiA9IGNsZWFuTm9uQWNjZXNpYmxlU2V0dGluZ3Mob3B0aW9uKTtcbiAgICBvcHRpb24uZm9yY2VCYXNlVHlwZSA9IEpTT05fQkFTRVRZUEVTLnN0cmluZztcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgYm9vbGVhblxuICovXG5leHBvcnQgZnVuY3Rpb24gSnNvbkJvb2xlYW4ob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi5mb3JjZUJhc2VUeXBlID0gSlNPTl9CQVNFVFlQRVMuYm9vbDtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgY2xhc3MgaW5zdGFuY2UsXG4gKiB3aGVuIGRlc2VyaWxpemluZyBpdCB3aWxsIGJlIGNyZWF0ZWQgdGhyb3VnaCB0aGUgY29uc3RydWN0b3IuXG4gKiB3aGVuIHNlcmlhbGl6aWduIGl0IHdpbGwgZm9yY2UgaXQgdGhyb3VnaCB0aGUgcHJvdG90eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gSnNvbkNsYXNzVHlwZWQodHlwZSwgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi50eXBlID0gdHlwZTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgbnVtYmVyIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXJyYXlOdW1iZXIob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi5mb3JjZUJhc2VUeXBlID0gSlNPTl9CQVNFVFlQRVMubnVtYmVyO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gdHJ1ZTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgc3RyaW5nIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXJyYXlTdHJpbmcob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi5mb3JjZUJhc2VUeXBlID0gSlNPTl9CQVNFVFlQRVMuc3RyaW5nO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gdHJ1ZTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgYm9vbGVhbiBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gSnNvbkFycmF5Qm9vbGVhbihvcHRpb24pIHtcbiAgICBvcHRpb24gPSBjbGVhbk5vbkFjY2VzaWJsZVNldHRpbmdzKG9wdGlvbik7XG4gICAgb3B0aW9uLmZvcmNlQmFzZVR5cGUgPSBKU09OX0JBU0VUWVBFUy5ib29sO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gdHJ1ZTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0aGF0IGNvbnZlcnRzIHRvIGEgY2xhc3NpbnN0YW5jZSBhcnJheVxuICogd2hlbiBkZXNlcmlsaXppbmcgaXQgd2lsbCBiZSBjcmVhdGVkIHRocm91Z2ggdGhlIGNvbnN0cnVjdG9yLlxuICogd2hlbiBzZXJpYWxpemlnbiBpdCB3aWxsIGZvcmNlIGl0IHRocm91Z2ggdGhlIHByb3RvdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEpzb25BcnJheUNsYXNzVHlwZWQodHlwZSwgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24pO1xuICAgIG9wdGlvbi5pc0FycmF5ID0gdHJ1ZTtcbiAgICBvcHRpb24udHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIEpzb25Qcm9wZXJ0eShvcHRpb24pO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgcHJvcGVydHkgdGhhdCBoZWxwcyBlYXNlIG1hcHBpbmcgc29tZXRoaW5nIGluIGFuZCBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEpzb25NYXBwaW5nKHBhcmFtcykge1xuICAgIHZhciBfYTtcbiAgICAvLyBjbGVhbiB0aGUgaW5wdXQuXG4gICAgdmFyIG9wdGlvbiA9IGNsZWFuTm9uQWNjZXNpYmxlU2V0dGluZ3MoKF9hID0gcGFyYW1zLm9wdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pO1xuICAgIC8vIHNldCB0aGUgdHlwZVxuICAgIGlmIChwYXJhbXMudHlwZSlcbiAgICAgICAgb3B0aW9uLnR5cGUgPSBwYXJhbXMudHlwZTtcbiAgICAvLyBTZXQgbWFwcGluZyBmdW5jdGlvbnMgXG4gICAgb3B0aW9uLm1hcHBpbmdGdW5jdGlvbnMgPSB7XG4gICAgICAgIG91dDogcGFyYW1zLm91dEZ1bmN0aW9uLFxuICAgICAgICBpbjogcGFyYW1zLmluRnVuY3Rpb24sXG4gICAgfTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBwcm9wZXJ0eSB0byBlYXNlIHRoZSBhY3Rpb24gb2YgaGF2aW5nIGEgcmVjb3JkIGluIHRoZSBzeXN0ZW0gYnV0IGFuIGFycmF5IGluIHRoZSBqc29uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKc29uTWFwcGluZ1JlY29yZEluQXJyYXlPdXQob3B0aW9uKSB7XG4gICAgLy8gY2xlYW4gdGhlIGlucHV0LlxuICAgIHZhciB0eXBlID0gb3B0aW9uLnR5cGU7XG4gICAgb3B0aW9uID0gY2xlYW5Ob25BY2Nlc2libGVTZXR0aW5ncyhvcHRpb24gIT09IG51bGwgJiYgb3B0aW9uICE9PSB2b2lkIDAgPyBvcHRpb24gOiB7fSk7XG4gICAgdmFyIG91dGZ1bmMgPSBmdW5jdGlvbiAoY29sLCBzKSB7IHJldHVybiBPYmplY3QudmFsdWVzKGNvbCkubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBzKHApOyB9KTsgfTtcbiAgICB2YXIgaW5mdW5jID0gZnVuY3Rpb24gKGNvbCwgZCkge1xuICAgICAgICB2YXIgciA9IHt9O1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbC5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHZhciBvID0gZChwKTtcbiAgICAgICAgICAgIHZhciB2ID0gb1tvcHRpb24uS2V5UHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG9bb3B0aW9uLktleVByb3BlcnR5TmFtZV0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZnRlciBjYWxsaW5nIGZ1bmN0aW9uIFwiLmNvbmNhdChvcHRpb24uS2V5UHJvcGVydHlOYW1lLCBcIiBrZXkgdmFsdWUgd2FzICdcIikuY29uY2F0KHYsIFwiJyBcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlQWRkb24gPSB2Lmxlbmd0aCA+IDAgPyAnLCBOb3RlIHRoYXQgbWVzc2FnZSBtdXN0IGhhdmUgMCBBcmd1bWVudHMsIHRoYXQgYXJlbnQgZWl0aGVyIG9wdGlvbmFsIG9yIGhhdmUgZGVmYXVsdCB2YWx1ZXMnIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIGNhbGxpZ24gbWV0aG9kICdcIi5jb25jYXQob3B0aW9uLktleVByb3BlcnR5TmFtZSwgXCInXCIpLmNvbmNhdChtZXNzYWdlQWRkb24pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgclt2XSA9IG87XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIGlmICh0eXBlKSB7XG4gICAgICAgIG9wdGlvbi50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgLy8gU2V0IG1hcHBpbmcgZnVuY3Rpb25zIFxuICAgIG9wdGlvbi5tYXBwaW5nRnVuY3Rpb25zID0ge1xuICAgICAgICBvdXQ6IG91dGZ1bmMsXG4gICAgICAgIGluOiBpbmZ1bmMsXG4gICAgfTtcbiAgICByZXR1cm4gSnNvblByb3BlcnR5KG9wdGlvbik7XG59XG5mdW5jdGlvbiBjbGVhbk9iamVjdE9wdGlvbnMob3B0aW9uKSB7XG4gICAgaWYgKCFvcHRpb24pXG4gICAgICAgIG9wdGlvbiA9IHt9O1xuICAgIGlmICghb3B0aW9uLm9uQWZ0ZXJEZVNlcmlhbGl6YXRpb24pIHtcbiAgICAgICAgb3B0aW9uLm9uQWZ0ZXJEZVNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbiAobykgeyB9O1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbi5zY2hlbWUgfHwgb3B0aW9uLnNjaGVtZS5sZW5ndGggPT0gMClcbiAgICAgICAgb3B0aW9uLnNjaGVtZSA9IFtCQVNFX1NDSEVNRV07XG4gICAgcmV0dXJuIG9wdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBKc29uT2JqZWN0KG9wdGlvbikge1xuICAgIG9wdGlvbiA9IGNsZWFuT2JqZWN0T3B0aW9ucyhvcHRpb24pO1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciBzY2hlbWVzID0gb3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnNjaGVtZTtcbiAgICAgICAgaWYgKCFzY2hlbWVzIHx8IHNjaGVtZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICBzY2hlbWVzID0gW0JBU0VfU0NIRU1FXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1lID0gc2NoZW1lc1tpXTtcbiAgICAgICAgICAgIC8vIFNFUklBTElaQVRJT04gXG4gICAgICAgICAgICBpZiAob3B0aW9uLm9uQWZ0ZXJEZVNlcmlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgc2V0T3duTWV0YURhdGEoSlNPTl9UQUdTLkpTT05fT0JKRUNUX09OX0FGVEVSX0RFX1NFUklBTElaQVRJT04sIHRhcmdldCwgb3B0aW9uLm9uQWZ0ZXJEZVNlcmlhbGl6YXRpb24sIHNjaGVtZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9uLm9uQWZ0ZXJTZXJpYWxpemF0aW9uX2JlZm9yZVN0cmluZylcbiAgICAgICAgICAgICAgICBzZXRPd25NZXRhRGF0YShKU09OX1RBR1MuSlNPTl9PQkpFQ1RfT05fQUZURVJfU0VSSUFMSVpBVElPTl9CRUZPUkVfU1RSSU5HLCB0YXJnZXQsIG9wdGlvbi5vbkFmdGVyU2VyaWFsaXphdGlvbl9iZWZvcmVTdHJpbmcsIHNjaGVtZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9uLm9uQWZ0ZXJTZXJpYWxpemF0aW9uKVxuICAgICAgICAgICAgICAgIHNldE93bk1ldGFEYXRhKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OLCB0YXJnZXQsIG9wdGlvbi5vbkFmdGVyU2VyaWFsaXphdGlvbiwgc2NoZW1lKTtcbiAgICAgICAgICAgIC8vIERFIFNFUklBTElaQVRJT04gXG4gICAgICAgICAgICBpZiAob3B0aW9uLm9uQmVmb3JlU2VyaWFsaXphdGlvbilcbiAgICAgICAgICAgICAgICBzZXRPd25NZXRhRGF0YShKU09OX1RBR1MuSlNPTl9PQkpFQ1RfT05fQkVGT1JFX1NFUklBTElaQVRJT04sIHRhcmdldCwgb3B0aW9uLm9uQmVmb3JlU2VyaWFsaXphdGlvbiwgc2NoZW1lKTtcbiAgICAgICAgICAgIGlmIChvcHRpb24ub25CZWZvcmVEZVNlcmlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgc2V0T3duTWV0YURhdGEoSlNPTl9UQUdTLkpTT05fT0JKRUNUX09OX0JFRk9SRV9ERV9TRVJJQUxJWkFUSU9OLCB0YXJnZXQsIG9wdGlvbi5vbkJlZm9yZURlU2VyaWFsaXphdGlvbiwgc2NoZW1lKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBnZXRNZXRhZGF0YSwgZ2V0T3duTWV0YURhdGEsIGdldE93bk1ldGFEYXRhS2V5cywgZ2V0TWV0YURhdGFLZXlzLCBoYXNNZXRhRGF0YSwgZ2V0UHJvdG90eXBlLCBzZXRQcm90b3R5cGUgfSBmcm9tIFwiLi9Kc29uTW9kdWxlQmFzZUZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBCQVNFX1NDSEVNRSwgSlNPTl9CQVNFVFlQRVMsIEpTT05fVEFHUywgTm9PdXRwdXQgfSBmcm9tIFwiLi9Kc29uTW9kdWxlQ29uc3RhbnRzXCI7XG52YXIgSlNPTkhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTkhhbmRsZXIoKSB7XG4gICAgfVxuICAgIEpTT05IYW5kbGVyLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChvYmosIHNjaGVtZSkge1xuICAgICAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHsgc2NoZW1lID0gQkFTRV9TQ0hFTUU7IH1cbiAgICAgICAgdmFyIG8gPSBKU09OSGFuZGxlci5zZXJpYWxpemVSYXcob2JqLCBzY2hlbWUpO1xuICAgICAgICB2YXIgc3RyID0gSlNPTi5zdHJpbmdpZnkobyk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEFmdGVyIHNlcmlhbGl6ZSBmdW5jdGlvbiBnZXQgaXQgYW5kIHJ1biBpdC4gXG4gICAgICAgIHZhciBPYmplY3RNZXRhID0gZ2V0T3duTWV0YURhdGFLZXlzKG9iaik7XG4gICAgICAgIGlmIChPYmplY3RNZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OKSkge1xuICAgICAgICAgICAgdmFyIGYgPSBnZXRPd25NZXRhRGF0YShKU09OX1RBR1MuSlNPTl9PQkpFQ1RfT05fQUZURVJfU0VSSUFMSVpBVElPTiwgb2JqLCBzY2hlbWUpO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgc3RyID0gZihzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICBKU09OSGFuZGxlci5zZXJpYWxpemVSYXcgPSBmdW5jdGlvbiAob2JqLCBzY2hlbWUsIHBhcmVudE5hbWUpIHtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIGlmIChwYXJlbnROYW1lID09PSB2b2lkIDApIHsgcGFyZW50TmFtZSA9ICdGSVJTVCc7IH1cbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhc2UgdHlwZSBqdXN0IHJldHVyblxuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTkhhbmRsZXIuZGVzZXJpYWxpemVBbmRGb3JjZVNpbXBsZSgnc3RyaW5nJywgb2JqLCBzY2hlbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gY2FzZSB0aGlzIGlzIGEgcmVndWxhciBvYmplY3Qgd2l0aCBubyBkZWNvcmF0b3JzIFxuICAgICAgICBpZiAoIWhhc01ldGFEYXRhKG9iaiwgc2NoZW1lKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXJpYWxpemVkT2JqZWN0IGlzIGEgbmV3IG9iamVjdCwgd2l0aG91dCBub24gSnNvbnByb3BlcnRpZXNcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAvLyBFVkVOVCBCRk9SRSBTRVJJQUxJWkFUSU9OXG4gICAgICAgIHZhciBPYmplY3RNZXRhID0gZ2V0T3duTWV0YURhdGFLZXlzKG9iaik7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEFmdGVyIHNlcmlhbGl6ZSBmdW5jdGlvbiBnZXQgaXQgYW5kIHJ1biBpdC4gXG4gICAgICAgIGlmIChPYmplY3RNZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9CRUZPUkVfU0VSSUFMSVpBVElPTikpIHtcbiAgICAgICAgICAgIC8vIGdldCBtZXRhIGRhdGEgZnVuY3Rpb24gYW5kIHJ1biBpdCBvbiB0aGUgcmVzdWx0aW5nIG9iamVjdFxuICAgICAgICAgICAgdmFyIGYgPSBnZXRPd25NZXRhRGF0YShKU09OX1RBR1MuSlNPTl9PQkpFQ1RfT05fQkVGT1JFX1NFUklBTElaQVRJT04sIG9iaiwgc2NoZW1lKTtcbiAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgIGYob2JqKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgcHJvcGVydHluYW1lcyBhbmQgbG9vcCB0aHJvdWdoIFxuICAgICAgICB2YXIgcHJvcGVydHlOYW1lcztcbiAgICAgICAgcHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaik7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIC8vIGdldCBiYXNpYyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB2YXIga2V5ID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciBtZXRhID0gZ2V0TWV0YURhdGFLZXlzKG9iaiwga2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNjaGVtZSB3ZSBhcmUgYWJvdXQgdG8gZXhwb3J0IGhhdmUgVGhlIFByb3BlcnR5IGluIGl0XG4gICAgICAgICAgICBpZiAoIW1ldGEuaW5jbHVkZXMoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHksIGJ1dCBpZiB0aGVyZSBpcyBhIG1hcHBlZCBvdXQgbmFtZSwgZ2V0IHRoYXQgaW5zdGVhZFxuICAgICAgICAgICAgdmFyIFByb3BlcnR5TmFtZSA9IGtleTtcbiAgICAgICAgICAgIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX05BTUVfTUFQX09VVCkpIHtcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eU5hbWUgPSBnZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9OQU1FX01BUF9PVVQsIG9iaiwga2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlIGl0ZW0gaXMgdHlwZWQsIHRoZW4gd2UgZXhjYW5nZSB0aGUgcHJvdG90eXBlcyBmb3IgZWFjaCBvYmplY3QgYXMgd2UgZGVzZXJpYWxpemUuIFxuICAgICAgICAgICAgLy8gd2UgZG8gdGhpcyBpbiBhIGZ1bmNpdG9uIHRvIG1pbmltaXplIGlmIHN0YXRlbWVudCBjaGFvcztcbiAgICAgICAgICAgIHZhciB0eXBlZGNvbnZlcnNpb24gPSBmdW5jdGlvbiAodiwgc2VyKSB7IHJldHVybiB2OyB9O1xuICAgICAgICAgICAgdmFyIHNraXBGb3JjZVR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX1RZUEVEX1NLSVBfRk9SQ0VEKSkge1xuICAgICAgICAgICAgICAgIHNraXBGb3JjZVR5cGUgPSBnZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9UWVBFRF9TS0lQX0ZPUkNFRCwgb2JqLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9UWVBFRCkgJiYgIXNraXBGb3JjZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0eXBlZGNvbnZlcnNpb24gPSBmdW5jdGlvbiAodiwgc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBwcm90b3R5cGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyaW5nID0gKGdldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX1RZUEVELCBvYmosIGtleSwgc2NoZW1lKSkucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gZ2V0UHJvdG90eXBlKHYpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgcHJvdG90eXBlIHNlcmlhbGl6ZSB0aGVuIHNldCBwcm90b3R5cGUgYmFjayBcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvdG90eXBlKHYsIGR1cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gc2VyKHYpO1xuICAgICAgICAgICAgICAgICAgICBzZXRQcm90b3R5cGUodiwgYmVmb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBtYXBwaW5nIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZVTkNfTUFQX09VVCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3V0RnVuY3Rpb25fMSA9IGdldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZVTkNfTUFQX09VVCwgb2JqLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICAgICAgdmFyIF9vdXRGID0gZnVuY3Rpb24gKG8xKSB7IHJldHVybiBvdXRGdW5jdGlvbl8xKG8xLCBmdW5jdGlvbiAobzIpIHsgcmV0dXJuIHR5cGVkY29udmVyc2lvbihvMiwgZnVuY3Rpb24gKG8zKSB7IHJldHVybiBKU09OSGFuZGxlci5zZXJpYWxpemVSYXcobzMsIHNjaGVtZSwgcGFyZW50TmFtZSArICc6JyArIGtleSk7IH0pOyB9KTsgfTtcbiAgICAgICAgICAgICAgICBvdXQgPSBfb3V0RihvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZPUkNFX0FSUkFZKSkge1xuICAgICAgICAgICAgICAgIG91dCA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChvYmpba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKGopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHR5cGVkY29udmVyc2lvbihvYmpba2V5XVtqXSwgZnVuY3Rpb24gKG8pIHsgcmV0dXJuIEpTT05IYW5kbGVyLnNlcmlhbGl6ZVJhdyhvLCBzY2hlbWUsIHBhcmVudE5hbWUgKyAnOlsnICsgaiArICddOicgKyBrZXkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9ialtrZXldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMihqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHR5cGVkY29udmVyc2lvbihvYmpba2V5XSwgZnVuY3Rpb24gKG8pIHsgcmV0dXJuIEpTT05IYW5kbGVyLnNlcmlhbGl6ZVJhdyhvLCBzY2hlbWUsIHBhcmVudE5hbWUgKyAnOicgKyBrZXkpOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgPSB0eXBlZGNvbnZlcnNpb24ob2JqW2tleV0sIGZ1bmN0aW9uIChvKSB7IHJldHVybiBKU09OSGFuZGxlci5zZXJpYWxpemVSYXcobywgc2NoZW1lLCBwYXJlbnROYW1lICsgJzonICsga2V5KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIQU5ETEUgRm9yY2UgVHlwaW5nXG4gICAgICAgICAgICBpZiAobWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9GT1JDRV9CQVNFX1RZUEUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVrZXlfMSA9IGdldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZPUkNFX0JBU0VfVFlQRSwgb2JqLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnZGdW5jID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIEpTT05IYW5kbGVyLmRlc2VyaWFsaXplQW5kRm9yY2VTaW1wbGUodHlwZWtleV8xLCBlLCBzY2hlbWUpOyB9O1xuICAgICAgICAgICAgICAgIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZPUkNFX0FSUkFZKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IG91dDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld291dCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCB0ZW1wLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld291dC5wdXNoKGNvbnZGdW5jKHRlbXBbaV8xXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IG5ld291dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IGNvbnZGdW5jKG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbUHJvcGVydHlOYW1lXSA9IG91dDtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEFmdGVyIHNlcmlhbGl6ZSBmdW5jdGlvbiBnZXQgaXQgYW5kIHJ1biBpdC4gXG4gICAgICAgIGlmIChPYmplY3RNZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OX0JFRk9SRV9TVFJJTkcpKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGdldE93bk1ldGFEYXRhKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9TRVJJQUxJWkFUSU9OX0JFRk9SRV9TVFJJTkcsIG9iaiwgc2NoZW1lKTtcbiAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgIGYocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSlNPTkhhbmRsZXIuZGVzZXJpYWxpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBqc29uLCBzY2hlbWUsIHdyaXRlT3V0KSB7XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkgeyBzY2hlbWUgPSBCQVNFX1NDSEVNRTsgfVxuICAgICAgICBpZiAoIXdyaXRlT3V0KSB7XG4gICAgICAgICAgICB3cml0ZU91dCA9IE5vT3V0cHV0O1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGpzb247XG4gICAgICAgIGlmICh0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICB3cml0ZU91dC5vdXRFcnJvcignQ2Fubm90IGRlcnNlcmlhbGl6ZSB0eXBlIG9mICcgKyB0eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuZGVzZXJpYWxpemVSYXcodGFyZ2V0LCBqc29uW2ldLCBzY2hlbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZVJhdyh0YXJnZXQsIGpzb24sIHNjaGVtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05IYW5kbGVyLmRlc2VyaWFsaXplQW5kRm9yY2VTaW1wbGUgPSBmdW5jdGlvbiAodHlwZWtleSwgb2JqLCBzY2hlbWUpIHtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIHZhciBvdXQgPSBvYmo7XG4gICAgICAgIHZhciBjb252RnVuYyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlOyB9O1xuICAgICAgICBzd2l0Y2ggKHR5cGVrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgSlNPTl9CQVNFVFlQRVMuYm9vbDpcbiAgICAgICAgICAgICAgICBjb252RnVuYyA9IGZ1bmN0aW9uIChpbnB1dCkgeyByZXR1cm4gQm9vbGVhbihpbnB1dCk7IH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpTT05fQkFTRVRZUEVTLnN0cmluZzpcbiAgICAgICAgICAgICAgICBpZiAob2JqID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3Qgc3RyID0gb2JqLnJlcGxhY2VBbGwoXCI8PGRwPj5cIiwnXFxcXFwiJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgLy9zdHIgPSBzdHIucmVwbGFjZUFsbChcIjw8ZHA+PlwiLCdcXFxcXCInKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTWV0YURhdGEob2JqLCBzY2hlbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTkhhbmRsZXIuc2VyaWFsaXplKG9iaiwgc2NoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0ciA9IHN0ci5yZXBsYWNlQWxsKCdcXFxcXCInLFwiPDxkcD4+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gc3RyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb252RnVuYyA9IGZ1bmN0aW9uIChpbnB1dCkgeyByZXR1cm4gU3RyaW5nKGlucHV0KTsgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSlNPTl9CQVNFVFlQRVMubnVtYmVyOlxuICAgICAgICAgICAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnZGdW5jID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlclZhbHVlID0gTnVtYmVyKGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4obnVtYmVyVmFsdWUpID8gMCA6IG51bWJlclZhbHVlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gY29udkZ1bmMob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIEpTT05IYW5kbGVyLmRlc2VyaWFsaXplUmF3ID0gZnVuY3Rpb24gKHRhcmdldCwgb2JqLCBzY2hlbWUsIHBhcmVudE5hbWUpIHtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdm9pZCAwKSB7IHNjaGVtZSA9IEJBU0VfU0NIRU1FOyB9XG4gICAgICAgIGlmIChwYXJlbnROYW1lID09PSB2b2lkIDApIHsgcGFyZW50TmFtZSA9ICdGSVJTVCc7IH1cbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VyaWFsaXplZE9iamVjdCBpcyBhIG5ldyBvYmplY3QsIHdpdGhvdXQgbm9uIEpzb25wcm9wZXJ0aWVzXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgdGFyZ2V0KCk7XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICAvLyBFVkVOVCBPTiBBRlRFUiBERVNFUklBTElaRVxuICAgICAgICB2YXIgT2JqZWN0TWV0YSA9IGdldE93bk1ldGFEYXRhS2V5cyh0YXJnZXQpO1xuICAgICAgICBpZiAoT2JqZWN0TWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9PQkpFQ1RfT05fQkVGT1JFX0RFX1NFUklBTElaQVRJT04pKSB7XG4gICAgICAgICAgICAvLyBnZXQgbWV0YSBkYXRhIGZ1bmN0aW9uIGFuZCBydW4gaXQgb24gdGhlIHJlc3VsdGluZyBvYmplY3RcbiAgICAgICAgICAgIHZhciBmID0gZ2V0T3duTWV0YURhdGEoSlNPTl9UQUdTLkpTT05fT0JKRUNUX09OX0JFRk9SRV9ERV9TRVJJQUxJWkFUSU9OLCByZXN1bHQsIHNjaGVtZSk7XG4gICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmKHJlc3VsdCwgb2JqKTtcbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgQmVmb3JlIGhhcyBjaGFuZ2VkIHRoZSB0eXBlIFxuICAgICAgICAgICAgaWYgKCFKU09OSGFuZGxlci5hcmVTYW1lUHJvdG90eXBlcyhyZXN1bHQsIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBnZXRQcm90b3R5cGUocmVzdWx0KS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgcHJvcGVydHluYW1lcyBhbmQgbG9vcCB0aHJvdWdoIFxuICAgICAgICB2YXIgcHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaik7XG4gICAgICAgIHZhciBfbG9vcF8zID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIC8vIGdldCBiYXNpYyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB2YXIga2V5ID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciBpbktleSA9IGtleTtcbiAgICAgICAgICAgIHZhciBtZXRhID0gZ2V0TWV0YURhdGFLZXlzKHRhcmdldCwga2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgdmFyIFByb3BlcnR5TmFtZSA9IGtleTtcbiAgICAgICAgICAgIGlmIChtZXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gT3V0IGtleSwgY29udmVydCBpdCB0byBhbiBJTiBLZXksIHNvIHdlIGNhbiBnZXQgdGhlIHJpZ2h0IG1ldGEgZGF0YS4gXG4gICAgICAgICAgICBpZiAobWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9OQU1FX01BUF9JTikpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgb3V0IGtleSBmcm9tIHRoZSBpbiBLZXlcbiAgICAgICAgICAgICAgICBrZXkgPSBnZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9OQU1FX01BUF9JTiwgcHJvdG90eXBlLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGF0IGEga2V5IGJlbG9uZ2VkIHRvIGFub3RoZXIgc2NoZW1lLCB0aGVuIHRoZSBrZXkgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgLy9cdGlmKGtleT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAvL1x0XHRjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvL1x0fSBcbiAgICAgICAgICAgICAgICBtZXRhID0gZ2V0TWV0YURhdGFLZXlzKHRhcmdldCwga2V5LCBzY2hlbWUpO1xuICAgICAgICAgICAgICAgIFByb3BlcnR5TmFtZSA9IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdldCB0aGUgY29uc3RydWN0b3IgaWYgdGhlcmUgaXMgYW55LCBHZW5lcmljcyB0YWtlIHByaW9yaXR5XG4gICAgICAgICAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBjb25zdHIgPSBnZXRNZXRhZGF0YShKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9UWVBFRCwgcHJvdG90eXBlLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICBpZiAobWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9GVU5DX01BUF9JTikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5GdW5jdGlvbiA9IGdldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZVTkNfTUFQX0lOLCBwcm90b3R5cGUsIGtleSwgc2NoZW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IGluRnVuY3Rpb24ob2JqW2luS2V5XSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IEpTT05IYW5kbGVyLmRlc2VyaWFsaXplUmF3KGNvbnN0ciwgb2JqLCBzY2hlbWUsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IGluRnVuY3Rpb24ob2JqW2luS2V5XSwgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZPUkNFX0FSUkFZKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0IG5lZWRzIGRlc2VyaWFsaXppbmdcbiAgICAgICAgICAgICAgICB2YXIgY29udmVydF8xID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGU7IH07XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cikge1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0XzEgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gSlNPTkhhbmRsZXIuZGVzZXJpYWxpemVSYXcoY29uc3RyLCBlLCBzY2hlbWUsIGtleSk7IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBzdGF0ZWQgYWJvdmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgc2ltcGxlIHR5cGUuIEVWRU4gYWZ0ZXIgZGVzZXJpYWxpemluZ1xuICAgICAgICAgICAgICAgIHZhciBjb252ZXJ0MiA9IGZ1bmN0aW9uIChlLCB0eXBla2V5KSB7IHJldHVybiBjb252ZXJ0XzEoZSk7IH07XG4gICAgICAgICAgICAgICAgaWYgKG1ldGEuaW5jbHVkZXMoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfRk9SQ0VfQkFTRV9UWVBFKSkge1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0MiA9IGZ1bmN0aW9uIChlLCB0eXBla2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTkhhbmRsZXIuZGVzZXJpYWxpemVBbmRGb3JjZVNpbXBsZSh0eXBla2V5LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHN0YXRlZCBhYm92ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZWtleSA9IGdldE1ldGFkYXRhKEpTT05fVEFHUy5KU09OX1BST1BFUlRZX0ZPUkNFX0JBU0VfVFlQRSwgcHJvdG90eXBlLCBrZXksIHNjaGVtZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmpbaW5LZXldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gb2JqW2luS2V5XVtqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBjb252ZXJ0MihlLCB0eXBla2V5KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gocik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cikge1xuICAgICAgICAgICAgICAgICAgICBvdXQgPSBKU09OSGFuZGxlci5kZXNlcmlhbGl6ZVJhdyhjb25zdHIsIG9ialtpbktleV0sIHNjaGVtZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWV0YS5pbmNsdWRlcyhKU09OX1RBR1MuSlNPTl9QUk9QRVJUWV9GT1JDRV9CQVNFX1RZUEUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlS2V5ID0gZ2V0TWV0YWRhdGEoSlNPTl9UQUdTLkpTT05fUFJPUEVSVFlfRk9SQ0VfQkFTRV9UWVBFLCB0YXJnZXQsIGtleSwgc2NoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0ID0gSlNPTkhhbmRsZXIuZGVzZXJpYWxpemVBbmRGb3JjZVNpbXBsZSh0eXBlS2V5LCBvYmpbaW5LZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA9IG9ialtpbktleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W1Byb3BlcnR5TmFtZV0gPSBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMyhpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFVkVOVCBPTiBBRlRFUiBERVNFUklBTElaRVxuICAgICAgICBPYmplY3RNZXRhID0gZ2V0T3duTWV0YURhdGFLZXlzKHJlc3VsdCk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEFmdGVyIHNlcmlhbGl6ZSBmdW5jdGlvbiBnZXQgaXQgYW5kIHJ1biBpdC4gXG4gICAgICAgIGlmIChPYmplY3RNZXRhLmluY2x1ZGVzKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9ERV9TRVJJQUxJWkFUSU9OKSkge1xuICAgICAgICAgICAgLy8gZ2V0IG1ldGEgZGF0YSBmdW5jdGlvbiBhbmQgcnVuIGl0IG9uIHRoZSByZXN1bHRpbmcgb2JqZWN0XG4gICAgICAgICAgICB2YXIgZiA9IGdldE93bk1ldGFEYXRhKEpTT05fVEFHUy5KU09OX09CSkVDVF9PTl9BRlRFUl9ERV9TRVJJQUxJWkFUSU9OLCByZXN1bHQsIHNjaGVtZSk7XG4gICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICBmKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEpTT05IYW5kbGVyLmNoYW5nZVByb3RvdHlwZSA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgICB2YXIgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlKHNvdXJjZSk7XG4gICAgICAgIHNldFByb3RvdHlwZSh0YXJnZXQsIHByb3RvdHlwZSk7XG4gICAgfTtcbiAgICBKU09OSGFuZGxlci5hcmVTYW1lUHJvdG90eXBlcyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgICB2YXIgcHJvdG90eXBlMSA9IGdldFByb3RvdHlwZShzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvdG90eXBlMiA9IGdldFByb3RvdHlwZSh0YXJnZXQpO1xuICAgICAgICByZXR1cm4gcHJvdG90eXBlMSA9PSBwcm90b3R5cGUyO1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05IYW5kbGVyO1xufSgpKTtcbmV4cG9ydCB7IEpTT05IYW5kbGVyIH07XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmtleU1hbmFnZXJJbnN0YW5jZSA9IGV4cG9ydHMuS2V5TWFuYWdlciA9IHZvaWQgMDtcclxudmFyIEtleU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBLZXlNYW5hZ2VyKCkge1xyXG4gICAgICAgIHRoaXMua2V5Q291bnRlciA9IDA7XHJcbiAgICB9XHJcbiAgICBLZXlNYW5hZ2VyLnByb3RvdHlwZS5nZXROZXdLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG51bSA9IHRoaXMua2V5Q291bnRlcisrO1xyXG4gICAgICAgIHJldHVybiBudW0udG9TdHJpbmcoMTYpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBLZXlNYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLktleU1hbmFnZXIgPSBLZXlNYW5hZ2VyO1xyXG5leHBvcnRzLmtleU1hbmFnZXJJbnN0YW5jZSA9IG5ldyBLZXlNYW5hZ2VyKCk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMubmV3T3V0cHV0SGFuZGxlciA9IHZvaWQgMDtcclxuZnVuY3Rpb24gbmV3T3V0cHV0SGFuZGxlcigpIHtcclxuICAgIHZhciBhID0ge1xyXG4gICAgICAgIG91dEVycm9yOiBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG91dExvZzogZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYTtcclxufVxyXG5leHBvcnRzLm5ld091dHB1dEhhbmRsZXIgPSBuZXdPdXRwdXRIYW5kbGVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkFHcmFwaEl0ZW0gPSB2b2lkIDA7XHJcbnZhciBLZXlNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9LZXlNYW5hZ2VyXCIpO1xyXG52YXIga2V5TWFuYWdlciA9IG5ldyBLZXlNYW5hZ2VyXzEuS2V5TWFuYWdlcigpO1xyXG52YXIgQUdyYXBoSXRlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFHcmFwaEl0ZW0obmFtZSwga2V5KSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJyc7IH1cclxuICAgICAgICBpZiAoa2V5ID09PSB2b2lkIDApIHsga2V5ID0gJyc7IH1cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2tleSA9IGtleSArIGtleU1hbmFnZXIuZ2V0TmV3S2V5KCk7XHJcbiAgICB9XHJcbiAgICBBR3JhcGhJdGVtLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9O1xyXG4gICAgQUdyYXBoSXRlbS5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH07XHJcbiAgICBBR3JhcGhJdGVtLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQUdyYXBoSXRlbTtcclxufSgpKTtcclxuZXhwb3J0cy5BR3JhcGhJdGVtID0gQUdyYXBoSXRlbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5Hcm9iRGVyaXZlZE5vZGUgPSBleHBvcnRzLkdyb2JGaXhlZE5vZGUgPSBleHBvcnRzLkdyb2JOb2RlID0gZXhwb3J0cy5Hcm9iRGVyaXZlZE9yaWdpbiA9IHZvaWQgMDtcclxudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XHJcbnZhciBBR3JhcGhJdGVtXzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdGlvbnMvQUdyYXBoSXRlbVwiKTtcclxudmFyIGdyb2JEZXJpdmVkU3ltYm9sUmVnZXggPSAvQFthLXpBLVpdL2c7XHJcbnZhciBHcm9iRGVyaXZlZE9yaWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEdyb2JEZXJpdmVkT3JpZ2luKCkge1xyXG4gICAgICAgIHRoaXMuc3RhbmRhcmRWYWx1ZSA9IDE7XHJcbiAgICB9XHJcbiAgICBHcm9iRGVyaXZlZE9yaWdpbi5Vbmtvd25Mb2NhdGlvbktleSA9ICd1bmtub3duLnVua25vd24udW5rbm93bic7XHJcbiAgICByZXR1cm4gR3JvYkRlcml2ZWRPcmlnaW47XHJcbn0oKSk7XHJcbmV4cG9ydHMuR3JvYkRlcml2ZWRPcmlnaW4gPSBHcm9iRGVyaXZlZE9yaWdpbjtcclxudmFyIEdyb2JOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvYk5vZGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBHcm9iTm9kZShuYW1lLCBrZXlzdGFydCwgcGFyZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmFtZSwga2V5c3RhcnQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZGVwZW5kZW5jaWVzID0ge307XHJcbiAgICAgICAgX3RoaXMuZGVwZW5kZW50cyA9IHt9O1xyXG4gICAgICAgIF90aGlzLnVwZGF0ZUxpc3RlbmVycyA9IHt9O1xyXG4gICAgICAgIGlmIChwYXJlbnQpXHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBHcm9iTm9kZS5nZXRUeXBlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnTm9kdGU8VCBleHRlbmRzIE5vZHRlPFQ+Pic7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmFkZERlcGVuZGVudCA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IG5vZGUuZ2V0S2V5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVwZW5kZW50c1trZXldKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlcGVuZGVudHNba2V5XSA9IG5vZGU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLnJlbW92ZURlcGVuZGVudCA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZGVwZW5kZW50c1tub2RlLmdldEtleSgpXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZXBlbmRlbnRzW25vZGUuZ2V0S2V5KCldID09IG51bGw7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmdldERlcGVuZGVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiAoX2EgPSBPYmplY3QudmFsdWVzKHRoaXMuZGVwZW5kZW50cykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xyXG4gICAgfTtcclxuICAgIEdyb2JOb2RlLnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiAoX2EgPSBPYmplY3QudmFsdWVzKHRoaXMuZGVwZW5kZW5jaWVzKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmdldExvY2F0aW9uS2V5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWdzID0gdGhpcy5nZXRMb2NhdGlvbktleVNlZ21lbnRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHNlZ3Muam9pbignLicpO1xyXG4gICAgfTtcclxuICAgIEdyb2JOb2RlLnByb3RvdHlwZS5nZXRMb2NhdGlvbktleVNlZ21lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xyXG4gICAgICAgIHZhciBzZWcgPSBbJycsICcnLCAnJ107XHJcbiAgICAgICAgc2VnWzBdID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXROYW1lKCkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICd1bmtub3duJztcclxuICAgICAgICBzZWdbMV0gPSAoX2UgPSAoX2QgPSB0aGlzLnBhcmVudCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmdldE5hbWUoKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJ3Vua25vd24nO1xyXG4gICAgICAgIHNlZ1syXSA9IChfZiA9IHRoaXMuZ2V0TmFtZSgpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAndW5rbm93bic7XHJcbiAgICAgICAgcmV0dXJuIHNlZztcclxuICAgIH07XHJcbiAgICBHcm9iTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XHJcbiAgICAgICAgKE9iamVjdC5rZXlzKHRoaXMudXBkYXRlTGlzdGVuZXJzKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUxpc3RlbmVyc1trZXldKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gZGVsZXRlIHJlZmVyZW5jZXMgYWxsXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyID0gdGhpcy5kZXBlbmRlbmNpZXNba2V5XTtcclxuICAgICAgICAgICAgY3Vyci5yZW1vdmVEZXBlbmRlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRlcGVuZGVudHMpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnIgPSB0aGlzLmRlcGVuZGVudHNba2V5XTtcclxuICAgICAgICAgICAgY3Vyci5udWxsaWZ5RGVwZW5kZW5jeSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMubmFtZSA9IG51bGw7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLnNldE5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBvbGRuYW1lID0gdGhpcy5nZXROYW1lKCk7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5zZXROYW1lLmNhbGwodGhpcywgbmFtZSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQudXBkYXRlX25vZGVfbmFtZShvbGRuYW1lLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUxvY2F0aW9uKHRoaXMucGFyZW50KTtcclxuICAgIH07XHJcbiAgICBHcm9iTm9kZS5wcm90b3R5cGUudXBkYXRlTG9jYXRpb24gPSBmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuZGVwZW5kZW50cykge1xyXG4gICAgICAgICAgICB2YXIgZGVwID0gdGhpcy5kZXBlbmRlbnRzW2tleV07XHJcbiAgICAgICAgICAgIGRlcC51cGRhdGVEZXBlbmRlY3lzTG9jYXRpb24odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdyb2JOb2RlLnByb3RvdHlwZS51cGRhdGVEZXBlbmRlY3lzTG9jYXRpb24gPSBmdW5jdGlvbiAoZGVwZW5kZW5jeSkgeyB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYk5vZGUucHJvdG90eXBlLmFkZFVwZGF0ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGtleSwgbGlzdGVuZXIpIHtcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVMaXN0ZW5lcnNba2V5XSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcigndHJpZWQgdG8gYWRkIHVwZGF0ZWxpc3RlbmVyIHRvIG5vZGUgd2l0aCBrZXk6JyArIGtleSArICcuIGJ1dCB0aGVyZSB3YXMgYWxyZWFkeSBhIGxpc3RlbmVyIHVzaW5nIHRoYXQga2V5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVMaXN0ZW5lcnNba2V5XSA9IGxpc3RlbmVyO1xyXG4gICAgfTtcclxuICAgIEdyb2JOb2RlLnByb3RvdHlwZS5yZW1vdmVVcGRhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy51cGRhdGVMaXN0ZW5lcnNba2V5XTtcclxuICAgIH07XHJcbiAgICBHcm9iTm9kZS5wcm90b3R5cGUucmVtb3ZlQWxsVXBkYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTGlzdGVuZXJzID0ge307XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEdyb2JOb2RlO1xyXG59KEFHcmFwaEl0ZW1fMS5BR3JhcGhJdGVtKSk7XHJcbmV4cG9ydHMuR3JvYk5vZGUgPSBHcm9iTm9kZTtcclxudmFyIEdyb2JGaXhlZE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm9iRml4ZWROb2RlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gR3JvYkZpeGVkTm9kZShuYW1lLCBwYXJlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBuYW1lLCAnTkYnLCBwYXJlbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX19fdmFsdWUgPSAxO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEdyb2JGaXhlZE5vZGUucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9fX3ZhbHVlO1xyXG4gICAgfTtcclxuICAgIEdyb2JGaXhlZE5vZGUucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fX192YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRlcGVuZGVudHMpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnIgPSB0aGlzLmRlcGVuZGVudHNba2V5XTtcclxuICAgICAgICAgICAgY3Vyci51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgR3JvYkZpeGVkTm9kZS5nZXRUeXBlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnZml4ZWROb2RlJztcclxuICAgIH07XHJcbiAgICBHcm9iRml4ZWROb2RlLnByb3RvdHlwZS5nZXRUeXBlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBHcm9iRml4ZWROb2RlLmdldFR5cGVTdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICBHcm9iRml4ZWROb2RlLnByb3RvdHlwZS5hZGREZXBlbmRlbmN5ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGZhbHNlOyB9O1xyXG4gICAgR3JvYkZpeGVkTm9kZS5wcm90b3R5cGUucmVtb3ZlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBmYWxzZTsgfTtcclxuICAgIEdyb2JGaXhlZE5vZGUucHJvdG90eXBlLm51bGxpZnlEZXBlbmRlbmN5ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGZhbHNlOyB9O1xyXG4gICAgR3JvYkZpeGVkTm9kZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgIHJldHVybiBHcm9iRml4ZWROb2RlO1xyXG59KEdyb2JOb2RlKSk7XHJcbmV4cG9ydHMuR3JvYkZpeGVkTm9kZSA9IEdyb2JGaXhlZE5vZGU7XHJcbnZhciBHcm9iRGVyaXZlZE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm9iRGVyaXZlZE5vZGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBHcm9iRGVyaXZlZE5vZGUobmFtZSwgcGFyZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmFtZSwgJ05EJywgcGFyZW50KSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNhbGMgPSAnQGEnO1xyXG4gICAgICAgIF90aGlzLm9yaWdpbnMgPSBbXTtcclxuICAgICAgICBfdGhpcy5fdmFsdWUgPSBOYU47XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLmdldFR5cGVTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICdkZXJpdmVkTm9kZSc7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5nZXRUeXBlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBHcm9iRGVyaXZlZE5vZGUuZ2V0VHlwZVN0cmluZygpO1xyXG4gICAgfTtcclxuICAgIEdyb2JEZXJpdmVkTm9kZS5wcm90b3R5cGUuYWRkRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IG5vZGUuZ2V0S2V5KCk7XHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNba2V5XSA9IG5vZGU7XHJcbiAgICAgICAgbm9kZS5hZGREZXBlbmRlbnQodGhpcyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5yZW1vdmVEZXBlbmRlbmN5ID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAvLyBkZWxldGUgdGhlIGRlcGVuZGVuY3lcclxuICAgICAgICB2YXIga2V5ID0gbm9kZS5nZXRLZXkoKTtcclxuICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmNpZXNba2V5XSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZXBlbmRlbmNpZXNba2V5XTtcclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVEZXBlbmRlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlbW92ZSBvcmlnaW4gZGVwZW5kZW5jeSBcclxuICAgICAgICAvLyB3ZSBmaW5kIHRoZSBvcmlnaW4sIHdpdGggdGhlIGtleSB2YWx1ZSwgYW5kIHJlbW92ZSBpdC5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3JpZ2lucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRoaXMub3JpZ2luc1tpXTtcclxuICAgICAgICAgICAgaWYgKG9yaWcub3JpZ2luICE9IG51bGwgJiYgb3JpZy5vcmlnaW4uZ2V0S2V5KCkgPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICBvcmlnLm9yaWdpbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVwZW5kZW5jaWVzW2tleV0gPT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucHJvdG90eXBlLm51bGxpZnlEZXBlbmRlbmN5ID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAvLyBmaXJzdCBFbXB0eSB0aGUgb3JpZ2luLlxyXG4gICAgICAgIHZhciBrZXkgPSBub2RlLmdldEtleSgpO1xyXG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5vcmlnaW5zLmZpbmQoZnVuY3Rpb24gKHApIHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IHAub3JpZ2luKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0S2V5KCkpID09IGtleTsgfSk7XHJcbiAgICAgICAgaWYgKG9yaWcpIHtcclxuICAgICAgICAgICAgb3JpZy5vcmlnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICBvcmlnLm9yaWdpbktleSA9IEdyb2JEZXJpdmVkT3JpZ2luLlVua293bkxvY2F0aW9uS2V5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGVuIG51bGlmeSB0aGUgZGVwZW5kZW5jeVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZURlcGVuZGVuY3kobm9kZSk7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5zZXRPcmlnaW4gPSBmdW5jdGlvbiAoc3ltYm9sLCBub2RlLCBzdGFuZGFyZFZhbHVlKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICBpZiAoc3RhbmRhcmRWYWx1ZSA9PT0gdm9pZCAwKSB7IHN0YW5kYXJkVmFsdWUgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMub3JpZ2lucy5maW5kKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnN5bWJvbCA9PSBzeW1ib2w7IH0pO1xyXG4gICAgICAgIGlmICghb3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9yaWdpbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVEZXBlbmRlbmN5KG9yaWdpbi5vcmlnaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGlzIGlzIHRoZSByaWdodCB0eXBlIG9mIG9iamVjdC5cclxuICAgICAgICB2YXIgbm9kZUtleSA9IChfYSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5nZXRUeXBlU3RyaW5nKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xyXG4gICAgICAgIGlmICghWydkZXJpdmVkTm9kZScsICdmaXhlZE5vZGUnXS5maW5kKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwID09IG5vZGVLZXk7IH0pKSB7XHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBub2RlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGREZXBlbmRlbmN5KG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvcmlnaW4ub3JpZ2luID0gbm9kZTtcclxuICAgICAgICBvcmlnaW4uc3RhbmRhcmRWYWx1ZSA9IChfYiA9IChzdGFuZGFyZFZhbHVlICE9PSBudWxsICYmIHN0YW5kYXJkVmFsdWUgIT09IHZvaWQgMCA/IHN0YW5kYXJkVmFsdWUgOiBvcmlnaW4uc3RhbmRhcmRWYWx1ZSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDE7XHJcbiAgICAgICAgaWYgKG9yaWdpbi5vcmlnaW4pXHJcbiAgICAgICAgICAgIG9yaWdpbi5vcmlnaW5LZXkgPSBvcmlnaW4ub3JpZ2luLmdldExvY2F0aW9uS2V5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhhZE51bGxPcmlnaW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9yaWdpbnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICBpZiAoIW8ub3JpZ2luKSB7XHJcbiAgICAgICAgICAgICAgICBoYWROdWxsT3JpZ2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChoYWROdWxsT3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9yaWdpbnNXaXRoTGlua3MgPSB0aGlzLm9yaWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLm9yaWdpbiAhPSBudWxsOyB9KTtcclxuICAgICAgICBpZiAob3JpZ2luc1dpdGhMaW5rcy5sZW5ndGggIT0gdGhpcy5nZXREZXBlbmRlbmNpZXMoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucHJvdG90eXBlLnVwZGF0ZU9yaWdpbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpblJlcyA9IHRoaXMucGFyc2VDYWxjdWxhdGlvblRvT3JpZ2lucyh0aGlzLmNhbGMpO1xyXG4gICAgICAgIGlmIChvcmlnaW5SZXMpIHtcclxuICAgICAgICAgICAgdmFyIHN5bWJvbHNUb1JlbV8xID0gb3JpZ2luUmVzLnN5bWJvbHNUb1JlbTtcclxuICAgICAgICAgICAgdmFyIHN5bWJvbHNUb0FkZCA9IG9yaWdpblJlcy5zeW1ib2xzVG9BZGQ7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBzeW1ib2xzIFxyXG4gICAgICAgICAgICBpZiAoc3ltYm9sc1RvUmVtXzEubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2lucyA9IHRoaXMub3JpZ2lucy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuICFzeW1ib2xzVG9SZW1fMS5pbmNsdWRlcyhwLnN5bWJvbCk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFkZCBpdGVtcyBpZiB0aGVyZSBpcyBhbnl0aGluZyB0byBhZGQuICBcclxuICAgICAgICAgICAgaWYgKHN5bWJvbHNUb0FkZC5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzVG9BZGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBHcm9iRGVyaXZlZE9yaWdpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWcuc3ltYm9sID0gc3ltYm9sc1RvQWRkW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWcuc3RhbmRhcmRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZy5vcmlnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWcub3JpZ2luS2V5ID0gR3JvYkRlcml2ZWRPcmlnaW4uVW5rb3duTG9jYXRpb25LZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5zLnB1c2gob3JpZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaGFuZGxlIERlcGVuZGVuY2llcyBcclxuICAgICAgICAgICAgdmFyIG9sZERlcGVuZGVuY2llc18xID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKCkuZm9yRWFjaChmdW5jdGlvbiAocCkgeyByZXR1cm4gb2xkRGVwZW5kZW5jaWVzXzFbcC5nZXROYW1lKCldID0gcDsgfSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdEZXBlbmRlbmNpZXNfMSA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocCkgeyB2YXIgX2E7IGlmIChwLm9yaWdpbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdEZXBlbmRlbmNpZXNfMVsoX2EgPSBwLm9yaWdpbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE5hbWUoKV0gPSBwLm9yaWdpbjtcclxuICAgICAgICAgICAgfSB9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBEZXBlbmRlbmNpZXMgXHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvbGREZXBlbmRlbmNpZXNfMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuZXdEZXBlbmRlbmNpZXNfMVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVEZXBlbmRlbmN5KG9sZERlcGVuZGVuY2llc18xW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IGFkZGVkOiBzeW1ib2xzVG9BZGQsIHJlbW92ZWQ6IHN5bWJvbHNUb1JlbV8xLmxlbmd0aCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgYWRkZWQ6IDAsIHJlbW92ZWQ6IDAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5zZXRDYWxjID0gZnVuY3Rpb24gKGNhbGMsIHVwZGF0ZU9yaWdpbnMpIHtcclxuICAgICAgICBpZiAodXBkYXRlT3JpZ2lucyA9PT0gdm9pZCAwKSB7IHVwZGF0ZU9yaWdpbnMgPSB0cnVlOyB9XHJcbiAgICAgICAgLy8gcmVzZXQgVGhpcycgVmFsdWU7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBOYU47XHJcbiAgICAgICAgLy8gdGVzdCBpZiBpdCBpcyBjYWxjdWxhdGVhYmxlXHJcbiAgICAgICAgdmFyIHRlc3RDYWxjID0gdGhpcy50ZXN0Q2FsY3VsYXRlKGNhbGMpO1xyXG4gICAgICAgIGlmICh0ZXN0Q2FsYyA9PSBudWxsIHx8ICF0ZXN0Q2FsYy5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWxjID0gY2FsYztcclxuICAgICAgICAvLyB1cGRhdGUgb3JpZ2lucy5cclxuICAgICAgICBpZiAodXBkYXRlT3JpZ2lucykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9yaWdpbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBjYWxjdWxhdGlvbiBUbyBhIE51bWJlciBvZiBPcmlnaW5zLlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5wYXJzZUNhbGN1bGF0aW9uVG9PcmlnaW5zID0gZnVuY3Rpb24gKGNhbGMpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdmFyIGNhbGNWYWx1ZSA9IGNhbGM7XHJcbiAgICAgICAgLy8gZ2V0IHN5bWJvbHMgZnJvbSB0aGUgY2FsYy4gYW5kIHR1cm4gaXQgaW50byBhbiBhcnJheS4gaW1wb3J0YW50LCB0aGUgYXJyYXkgaXMgYW4gYXJyYXkgb2YgdW5pcXVlIGtleXMuXHJcbiAgICAgICAgdmFyIHN5bWJvbHMgPSAoX2EgPSBjYWxjVmFsdWUubWF0Y2goZ3JvYkRlcml2ZWRTeW1ib2xSZWdleCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xyXG4gICAgICAgIHN5bWJvbHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3ltYm9scykpO1xyXG4gICAgICAgIC8vIGdldCB0aGUga2V5cyB0aGF0IGFyZSBhbHJlYWR5IHRoZXJlLlxyXG4gICAgICAgIHZhciBleGlzdGluZ0tleXNBcnJheSA9IHRoaXMub3JpZ2lucy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuc3ltYm9sOyB9KTtcclxuICAgICAgICAvLyBnZXQgYSBsaXN0IG9mIHN5bWJvbHMgdG8gYWRkIGFuZCByZW1vdmUuXHJcbiAgICAgICAgdmFyIHN5bWJvbHNUb0FkZCA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiAhZXhpc3RpbmdLZXlzQXJyYXkuaW5jbHVkZXMocCk7IH0pO1xyXG4gICAgICAgIHZhciBzeW1ib2xzVG9SZW0gPSBleGlzdGluZ0tleXNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuICFzeW1ib2xzLmluY2x1ZGVzKHApOyB9KTtcclxuICAgICAgICByZXR1cm4geyBzeW1ib2xzVG9SZW06IHN5bWJvbHNUb1JlbSwgc3ltYm9sc1RvQWRkOiBzeW1ib2xzVG9BZGQsIHRvdGFsU3ltYm9sczogc3ltYm9scyB9O1xyXG4gICAgfTtcclxuICAgIEdyb2JEZXJpdmVkTm9kZS5zdGF0aWNQYXJzZUNhbGN1bGF0aW9uVG9PcmlnaW5zID0gZnVuY3Rpb24gKGNhbGMpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdmFyIGNhbGNWYWx1ZSA9IGNhbGM7XHJcbiAgICAgICAgLy8gZ2V0IHN5bWJvbHMgZnJvbSB0aGUgY2FsYy4gYW5kIHR1cm4gaXQgaW50byBhbiBhcnJheS4gaW1wb3J0YW50LCB0aGUgYXJyYXkgaXMgYW4gYXJyYXkgb2YgdW5pcXVlIGtleXMuXHJcbiAgICAgICAgdmFyIHN5bWJvbHMgPSAoX2EgPSBjYWxjVmFsdWUubWF0Y2goZ3JvYkRlcml2ZWRTeW1ib2xSZWdleCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xyXG4gICAgICAgIHN5bWJvbHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3ltYm9scykpO1xyXG4gICAgICAgIHJldHVybiBzeW1ib2xzO1xyXG4gICAgfTtcclxuICAgIEdyb2JEZXJpdmVkTm9kZS5wcm90b3R5cGUucmVjYWxjdWxhdGUgPSBmdW5jdGlvbiAodXNlVGVtcFZhbHVlcykge1xyXG4gICAgICAgIGlmICh1c2VUZW1wVmFsdWVzID09PSB2b2lkIDApIHsgdXNlVGVtcFZhbHVlcyA9IGZhbHNlOyB9XHJcbiAgICAgICAgLy9jb25zdCBzeW1ib2xzID0gdGhpcy5jYWxjLm1hdGNoKCBncm9iRGVyaXZlZFN5bWJvbFJlZ2V4ICk7ICBcclxuICAgICAgICB2YXIgcmVjID0gdXNlVGVtcFZhbHVlcyA/XHJcbiAgICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyh0aGlzLm9yaWdpbnMubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBbcC5zeW1ib2wsIHAuc3RhbmRhcmRWYWx1ZV07IH0pKSA6XHJcbiAgICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyh0aGlzLm9yaWdpbnMubWFwKGZ1bmN0aW9uIChwKSB7IHZhciBfYTsgcmV0dXJuIFtwLnN5bWJvbCwgKF9hID0gcC5vcmlnaW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRWYWx1ZSgpXTsgfSkpO1xyXG4gICAgICAgIHZhciBzdGF0ZW1lbnQgPSB0aGlzLmNhbGM7XHJcbiAgICAgICAgdmFyIHJlcyA9IHRoaXMuX3JlY2FsY3VsYXRlKHJlYywgc3RhdGVtZW50KTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHJlcy52YWx1ZTtcclxuICAgICAgICByZXR1cm4gcmVzLnN1Y2Nlc3M7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5fcmVjYWxjdWxhdGUgPSBmdW5jdGlvbiAocmVjLCBzdGF0ZW1lbnQpIHtcclxuICAgICAgICBpZiAocmVjID09PSB2b2lkIDApIHsgcmVjID0ge307IH1cclxuICAgICAgICByZXR1cm4gR3JvYkRlcml2ZWROb2RlLnJlY2FsY3VsYXRlKHJlYywgc3RhdGVtZW50KTtcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucmVjYWxjdWxhdGUgPSBmdW5jdGlvbiAocmVjLCBzdGF0ZW1lbnQpIHtcclxuICAgICAgICBpZiAocmVjID09PSB2b2lkIDApIHsgcmVjID0ge307IH1cclxuICAgICAgICB2YXIgc3ltYm9scyA9IHN0YXRlbWVudC5tYXRjaChncm9iRGVyaXZlZFN5bWJvbFJlZ2V4KTtcclxuICAgICAgICAvL2xldCByZWMgPSBcclxuICAgICAgICAvL1x0dXNlVGVtcFZhbHVlcyA/XHJcbiAgICAgICAgLy9cdE9iamVjdC5mcm9tRW50cmllcyggb3JpZ2lucy5tYXAocCA9PiBbIHAuc3ltYm9sLCBwLnN0YW5kYXJkVmFsdWVdKSk6XHRcclxuICAgICAgICAvL1x0T2JqZWN0LmZyb21FbnRyaWVzKCBvcmlnaW5zLm1hcChwID0+IFsgcC5zeW1ib2wsIHAub3JpZ2luPy5nZXRWYWx1ZSgpIF0pKTtcclxuICAgICAgICB2YXIgX3N0YXRlbWVudCA9IHN0YXRlbWVudDtcclxuICAgICAgICBzeW1ib2xzID09PSBudWxsIHx8IHN5bWJvbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gcmVjW2tleV07XHJcbiAgICAgICAgICAgIF9zdGF0ZW1lbnQgPSBfc3RhdGVtZW50LnJlcGxhY2Uoa2V5LCB2ICsgXCJcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHJlY2FsY1N1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB2YXIgdmFsdWUgPSAwO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciByZXMgPSBldmFsKF9zdGF0ZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJlY2FsY1N1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWNhbGNTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE5hTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZWNhbGNTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhbHVlID0gTmFOO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiByZWNhbGNTdWNjZXNzLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucHJvdG90eXBlLnRlc3RDYWxjdWxhdGUgPSBmdW5jdGlvbiAoc3RhdGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHN5bWJvbHMgPSBzdGF0ZW1lbnQubWF0Y2goZ3JvYkRlcml2ZWRTeW1ib2xSZWdleCk7XHJcbiAgICAgICAgdmFyIHJlYyA9IHN5bWJvbHMgPyBPYmplY3QuZnJvbUVudHJpZXMoc3ltYm9scy5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIFtzLCAxXTsgfSkpIDoge307XHJcbiAgICAgICAgdmFyIHJlcyA9IHRoaXMuX3JlY2FsY3VsYXRlKHJlYywgc3RhdGVtZW50KTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxuICAgIEdyb2JEZXJpdmVkTm9kZS50ZXN0Q2FsY3VsYXRlID0gZnVuY3Rpb24gKHN0YXRlbWVudCwgc3ltYm9sc1RvVmFsdWUpIHtcclxuICAgICAgICBpZiAoc3ltYm9sc1RvVmFsdWUgPT09IHZvaWQgMCkgeyBzeW1ib2xzVG9WYWx1ZSA9IHt9OyB9XHJcbiAgICAgICAgdmFyIHN5bWJvbHMgPSBzdGF0ZW1lbnQubWF0Y2goZ3JvYkRlcml2ZWRTeW1ib2xSZWdleCk7XHJcbiAgICAgICAgZnVuY3Rpb24gbWFwVmFsdWVUb1N5bWJvbChzLCBtKSB7XHJcbiAgICAgICAgICAgIGlmIChtW3NdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbVtzXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlYyA9IHN5bWJvbHMgPyBPYmplY3QuZnJvbUVudHJpZXMoc3ltYm9scy5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIFtzLCBtYXBWYWx1ZVRvU3ltYm9sKHMsIHN5bWJvbHNUb1ZhbHVlKV07IH0pKSA6IHt9O1xyXG4gICAgICAgIHZhciByZXMgPSBHcm9iRGVyaXZlZE5vZGUucmVjYWxjdWxhdGUocmVjLCBzdGF0ZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgR3JvYkRlcml2ZWROb2RlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vZGUgaXNlbnQgVmFsaWQgXCIuY29uY2F0KHRoaXMuZ2V0TmFtZSgpLCBcIiBcIikuY29uY2F0KHRoaXMuZ2V0TG9jYXRpb25LZXkoKSwgXCIgU3RvcHBpbmcgdXBkYXRlXCIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaXJzdCByZWNhbGN1bGF0ZVxyXG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGUoKTtcclxuICAgICAgICAvLyB0aGVuIGNhbGwgdXBkYXRlIGZvciBhbGwgZGVwZW5kZW50cyBcclxuICAgICAgICB2YXIgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmRlcGVuZGVudHMpIHtcclxuICAgICAgICAgICAgdmFyIGRlcCA9IHRoaXMuZGVwZW5kZW50c1trXTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHN1Y2Nlc3MgJiYgZGVwLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgIH07XHJcbiAgICBHcm9iRGVyaXZlZE5vZGUucHJvdG90eXBlLnVwZGF0ZURlcGVuZGVjeXNMb2NhdGlvbiA9IGZ1bmN0aW9uIChkZXBlbmRlbmN5KSB7XHJcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLm9yaWdpbnMuZmluZChmdW5jdGlvbiAocCkgeyB2YXIgX2E7IHJldHVybiAoKF9hID0gcC5vcmlnaW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXROYW1lKCkpID09IGRlcGVuZGVuY3kuZ2V0TmFtZSgpOyB9KTtcclxuICAgICAgICBpZiAoIW9yaWcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBvcmlnLm9yaWdpbktleSA9IGRlcGVuZGVuY3kuZ2V0TG9jYXRpb25LZXkoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gR3JvYkRlcml2ZWROb2RlO1xyXG59KEdyb2JOb2RlKSk7XHJcbmV4cG9ydHMuR3JvYkRlcml2ZWROb2RlID0gR3JvYkRlcml2ZWROb2RlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkdyb2JDb2xsZWN0aW9uID0gdm9pZCAwO1xyXG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcclxudmFyIEFHcmFwaEl0ZW1fMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0aW9ucy9BR3JhcGhJdGVtXCIpO1xyXG52YXIgR3JvYkNvbGxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm9iQ29sbGVjdGlvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEdyb2JDb2xsZWN0aW9uKG5hbWUsIHBhcmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5hbWUsICdDJykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5ub2Rlc19uYW1lcyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEdyb2JDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXROb2RlTmFtZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubm9kZXNfbmFtZXMpO1xyXG4gICAgfTtcclxuICAgIEdyb2JDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLm5vZGVzX25hbWVzKTtcclxuICAgIH07XHJcbiAgICBHcm9iQ29sbGVjdGlvbi5wcm90b3R5cGUuaGFzTm9kZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNfbmFtZXNbbmFtZV0gPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgR3JvYkNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE5vZGUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5ub2Rlc19uYW1lc1tuYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcclxuICAgIH07XHJcbiAgICBHcm9iQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubm9kZXNfbmFtZXNbbm9kZS5nZXROYW1lKCldID0gbm9kZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBHcm9iQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2F0dGVtcHRlZCB0byBkZWxldGUgbm9kZSBcIk51bGxcIiAnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmFtZSA9IG5vZGUuZ2V0TmFtZSgpO1xyXG4gICAgICAgIHZhciBuID0gdGhpcy5ub2Rlc19uYW1lc1tuYW1lXTtcclxuICAgICAgICBpZiAoIW4pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBuLmRpc3Bvc2UoKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5ub2Rlc19uYW1lc1tuYW1lXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlc19uYW1lc1tuYW1lXSA9PSBudWxsO1xyXG4gICAgfTtcclxuICAgIEdyb2JDb2xsZWN0aW9uLnByb3RvdHlwZS51cGRhdGVfbm9kZV9uYW1lID0gZnVuY3Rpb24gKG9sZE5hbWUsIG5ld05hbWUpIHtcclxuICAgICAgICBpZiAob2xkTmFtZSA9PSBuZXdOYW1lKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5ub2Rlc19uYW1lc1tuZXdOYW1lXSA9IHRoaXMubm9kZXNfbmFtZXNbb2xkTmFtZV07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMubm9kZXNfbmFtZXNbb2xkTmFtZV07XHJcbiAgICB9O1xyXG4gICAgR3JvYkNvbGxlY3Rpb24ucHJvdG90eXBlLnNldE5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBvbGRuYW1lID0gdGhpcy5nZXROYW1lKCk7XHJcbiAgICAgICAgaWYgKG9sZG5hbWUgPT0gbmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuc2V0TmFtZS5jYWxsKHRoaXMsIG5hbWUpO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnVwZGF0ZV9jb2xsZWN0aW9uX25hbWUob2xkbmFtZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVMb2NhdGlvbih0aGlzLnBhcmVudCk7XHJcbiAgICB9O1xyXG4gICAgR3JvYkNvbGxlY3Rpb24ucHJvdG90eXBlLnVwZGF0ZUxvY2F0aW9uID0gZnVuY3Rpb24gKHBhcmVudCkge1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5ub2Rlc19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgY3VyciA9IHRoaXMubm9kZXNfbmFtZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGN1cnIudXBkYXRlTG9jYXRpb24odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEdyb2JDb2xsZWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5ub2Rlc19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgY3VyciA9IHRoaXMubm9kZXNfbmFtZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGN1cnIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ub2Rlc19uYW1lc1tuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLm5hbWUgPSBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHcm9iQ29sbGVjdGlvbjtcclxufShBR3JhcGhJdGVtXzEuQUdyYXBoSXRlbSkpO1xyXG5leHBvcnRzLkdyb2JDb2xsZWN0aW9uID0gR3JvYkNvbGxlY3Rpb247XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuR3JvYkdyb3VwID0gdm9pZCAwO1xyXG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcclxudmFyIEFHcmFwaEl0ZW1fMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0aW9ucy9BR3JhcGhJdGVtXCIpO1xyXG52YXIgR3JvYkdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvYkdyb3VwLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gR3JvYkdyb3VwKG5hbWUsIHBhcmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5hbWUsICdHJykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb2xsZWN0aW9uc19uYW1lcyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEdyb2JHcm91cC5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbnNOYW1lcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb2xsZWN0aW9uc19uYW1lcyk7XHJcbiAgICB9O1xyXG4gICAgR3JvYkdyb3VwLnByb3RvdHlwZS5oYXNDb2xsZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uc19uYW1lc1tuYW1lXSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBHcm9iR3JvdXAucHJvdG90eXBlLmdldENvbGxlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25hbWVdO1xyXG4gICAgfTtcclxuICAgIEdyb2JHcm91cC5wcm90b3R5cGUuYWRkQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgY29sbGVjdGlvbi5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29sbGVjdGlvbnNfbmFtZXNbY29sbGVjdGlvbi5nZXROYW1lKCldID0gY29sbGVjdGlvbjtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBHcm9iR3JvdXAucHJvdG90eXBlLnJlbW92ZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xyXG4gICAgICAgIHZhciBuYW1lID0gY29sbGVjdGlvbi5nZXROYW1lKCk7XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25hbWVdO1xyXG4gICAgICAgIGlmICghYylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGNvbGxlY3Rpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25hbWVdO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25hbWVdID09IG51bGw7XHJcbiAgICB9O1xyXG4gICAgR3JvYkdyb3VwLnByb3RvdHlwZS51cGRhdGVfY29sbGVjdGlvbl9uYW1lID0gZnVuY3Rpb24gKG9sZE5hbWUsIG5ld05hbWUpIHtcclxuICAgICAgICB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25ld05hbWVdID0gdGhpcy5jb2xsZWN0aW9uc19uYW1lc1tvbGROYW1lXTtcclxuICAgICAgICBkZWxldGUgdGhpcy5jb2xsZWN0aW9uc19uYW1lc1tvbGROYW1lXTtcclxuICAgIH07XHJcbiAgICBHcm9iR3JvdXAucHJvdG90eXBlLnNldE5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuc2V0TmFtZS5jYWxsKHRoaXMsIG5hbWUpO1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiB0aGlzLmNvbGxlY3Rpb25zX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyID0gdGhpcy5jb2xsZWN0aW9uc19uYW1lc1tuYW1lXzFdO1xyXG4gICAgICAgICAgICBjdXJyLnVwZGF0ZUxvY2F0aW9uKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHcm9iR3JvdXAucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLmNvbGxlY3Rpb25zX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyID0gdGhpcy5jb2xsZWN0aW9uc19uYW1lc1tuYW1lXTtcclxuICAgICAgICAgICAgY3Vyci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbGxlY3Rpb25zX25hbWVzW25hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLm5hbWUgPSBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHcm9iR3JvdXA7XHJcbn0oQUdyYXBoSXRlbV8xLkFHcmFwaEl0ZW0pKTtcclxuZXhwb3J0cy5Hcm9iR3JvdXAgPSBHcm9iR3JvdXA7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwgPSB2b2lkIDA7XHJcbnZhciBHcm9iQ29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL0dyb2JDb2xsZWN0aW9uXCIpO1xyXG52YXIgR3JvYkdyb3VwXzEgPSByZXF1aXJlKFwiLi4vR3JvYkdyb3VwXCIpO1xyXG52YXIgSU91dHB1dEhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuLi9BYnN0cmFjdGlvbnMvSU91dHB1dEhhbmRsZXJcIik7XHJcbi8qKlxyXG4qIGEgZ2VuZXJhbCBhbmQgZmxleGlibGUgaW1wbGVtZW50YXRpb24gb2YgVFRSUEcgc3lzdGVtLiBpdCBmb2N1c3NlcyBvbiBub3QgZGlza3JpbWluYXRpb24gb3Igc29ydGluZyBkYXRhLlxyXG4qIHNpbXBseSBoYXZpbmcgbG9naWMgdGhhdCBpcyB0aGUgc2FtZSBmb3IgZXZlcnl0aGluZy5cclxuKi9cclxudmFyIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0ge307XHJcbiAgICB9XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbC5wcm90b3R5cGUuc2V0T3V0ID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgIHRoaXMub3V0ID0gb3V0ID8gb3V0IDogKDAsIElPdXRwdXRIYW5kbGVyXzEubmV3T3V0cHV0SGFuZGxlcikoKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbC5wcm90b3R5cGUuX2RlbGV0ZUdyb3VwID0gZnVuY3Rpb24gKGdyb3VwKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBncm91cCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgZ18xID0gdGhpcy5fZ2V0R3JvdXAoZ3JvdXApO1xyXG4gICAgICAgICAgICBpZiAoIWdfMSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgZ3JvdXAgPSBnXzE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBrZXkgPSBncm91cC5nZXROYW1lKCk7XHJcbiAgICAgICAgdmFyIGcgPSB0aGlzLmRhdGFba2V5XTtcclxuICAgICAgICBpZiAoIWcpIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoJ3RyaWVkIHRvIGRlbGV0ZSBub24gZXhpc3RhbnQgZ3JvdXAnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBncm91cC5kaXNwb3NlKCk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsLnByb3RvdHlwZS5fY3JlYXRlR3JvdXAgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNHcm91cChuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcignYXR0ZW1wdGVkIHRvIGFkZCBuZXcgZ3JvdXAsIGhvd2V2ZXIgZ3JvdXAgYWxyZWFkeSBleGlzdGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ3AgPSBuZXcgR3JvYkdyb3VwXzEuR3JvYkdyb3VwKG5hbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGF0YVtncC5nZXROYW1lKCldID0gZ3A7XHJcbiAgICAgICAgcmV0dXJuIGdwO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsLnByb3RvdHlwZS5faGFzR3JvdXAgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtrZXldLmdldE5hbWUoKSA9PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwucHJvdG90eXBlLl9nZXRHcm91cF9rZXkgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtrZXldO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsLnByb3RvdHlwZS5fZ2V0R3JvdXAgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtrZXldLmdldE5hbWUoKSA9PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwucHJvdG90eXBlLl9kZWxldGVDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICBpZiAoIWNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJ0cmllZCB0byBkZWxldGUgY29sbGVjdGlvbiwgYnV0IHN1cHBsaWVkIGNvbGxlY3Rpb24gd2FzIGludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBncm91cCA9IGNvbGxlY3Rpb24ucGFyZW50O1xyXG4gICAgICAgIHJldHVybiBncm91cC5yZW1vdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24pO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsLnByb3RvdHlwZS5fY3JlYXRlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChncm91cCwgbmFtZSkge1xyXG4gICAgICAgIGlmICghZ3JvdXApIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJ0cmllZCB0byBjcmVhdGUgY29sbGVjdGlvbiwgYnV0IHN1cHBsaWVkIGdyb3VwIHdhcyBpbnZhbGlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ3JvdXAuaGFzQ29sbGVjdGlvbihuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIkNvbGxlY3Rpb24gYnkgdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RlZCBpbiAnXCIuY29uY2F0KGdyb3VwLmdldE5hbWUoKSwgXCInXCIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gbmV3IEdyb2JDb2xsZWN0aW9uXzEuR3JvYkNvbGxlY3Rpb24obmFtZSwgZ3JvdXApO1xyXG4gICAgICAgIGdyb3VwLmFkZENvbGxlY3Rpb24oY29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwucHJvdG90eXBlLl9BZGROb2RlID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24sIG5vZGUpIHtcclxuICAgICAgICBpZiAoIWNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJ0cmllZCB0byBhZGQgbm9kZSwgYnV0IHN1cHBsaWVkIGNvbGxlY3Rpb24gd2FzIGludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmFkZE5vZGUobm9kZSk7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwucHJvdG90eXBlLl9kZWxldGVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICB2YXIgY29sID0gbm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgdmFyIHIgPSBjb2wucmVtb3ZlTm9kZShub2RlKTtcclxuICAgICAgICBub2RlLmRpc3Bvc2UoKTtcclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbC5wcm90b3R5cGUuX2FkZE5vZGVEZXBlbmRlbmN5ID0gZnVuY3Rpb24gKG5vZGUsIGRlcCkge1xyXG4gICAgICAgIHZhciBvMSA9IG5vZGUuYWRkRGVwZW5kZW5jeShkZXApO1xyXG4gICAgICAgIHZhciBvMiA9IGRlcC5hZGREZXBlbmRlbnQobm9kZSk7XHJcbiAgICAgICAgaWYgKCEobzEgJiYgbzIpKSB7XHJcbiAgICAgICAgICAgIGlmICghbzEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiQ291bGQgbm90IGFkZCBkZXBlbmRlbmN5IFwiLmNvbmNhdChkZXAuZ2V0TmFtZSgpLCBcIiwgb24gbm9kZSBcIikuY29uY2F0KG5vZGUuZ2V0TmFtZSgpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFvMikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJDb3VsZCBub3QgYWRkIGRlcGVuZGVudCBcIi5jb25jYXQobm9kZS5nZXROYW1lKCksIFwiLCBvbiBub2RlIFwiKS5jb25jYXQoZGVwLmdldE5hbWUoKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwucHJvdG90eXBlLl9yZW1vdmVOb2RlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChub2RlLCBkZXApIHtcclxuICAgICAgICB2YXIgbzEgPSBub2RlLnJlbW92ZURlcGVuZGVuY3koZGVwKTtcclxuICAgICAgICB2YXIgbzIgPSBkZXAucmVtb3ZlRGVwZW5kZW50KG5vZGUpO1xyXG4gICAgICAgIGlmICghKG8xICYmIG8yKSkge1xyXG4gICAgICAgICAgICBpZiAoIW8xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIkNvdWxkIG5vdCByZW1vdmUgZGVwZW5kZW5jeSBcIi5jb25jYXQoZGVwLmdldE5hbWUoKSwgXCIsIG9uIG5vZGUgXCIpLmNvbmNhdChub2RlLmdldE5hbWUoKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbzIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiQ291bGQgbm90IHJlbW92ZSBkZXBlbmRlbnQgXCIuY29uY2F0KG5vZGUuZ2V0TmFtZSgpLCBcIiwgb24gbm9kZSBcIikuY29uY2F0KGRlcC5nZXROYW1lKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbDtcclxufSgpKTtcclxuZXhwb3J0cy5UVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbCA9IFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlRUUlBHU3lzdGVtR3JhcGhNb2RlbCA9IHZvaWQgMDtcclxudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XHJcbnZhciBJT3V0cHV0SGFuZGxlcl8xID0gcmVxdWlyZShcIi4uL0Fic3RyYWN0aW9ucy9JT3V0cHV0SGFuZGxlclwiKTtcclxudmFyIEdyb2JOb2R0ZV8xID0gcmVxdWlyZShcIi4uL0dyb2JOb2R0ZVwiKTtcclxudmFyIFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsXzEgPSByZXF1aXJlKFwiLi9UVFJQR1N5c3RlbUdyYXBoQWJzdHJhY3RNb2RlbFwiKTtcclxudmFyIGRlcml2ZWQgPSAnZGVyaXZlZCc7XHJcbnZhciBmaXhlZCA9ICdmaXhlZCc7XHJcbi8qKlxyXG4gKiAgaGFuZGxlcyBNb2RlbCBvcGVyYXRpb25zIGFuZCBEYXRhIENvbnRhaW5tZW50LFxyXG4gKiBFbnN1cmVzIHRoYXQgZGF0YSBpcyBtYWludGFpbmVkLCBhcyB3ZWxsIGFzIGdyYXBobGlua3NcclxuKi9cclxudmFyIFRUUlBHU3lzdGVtR3JhcGhNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIHRzbGliXzEuX19leHRlbmRzKFRUUlBHU3lzdGVtR3JhcGhNb2RlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFRUUlBHU3lzdGVtR3JhcGhNb2RlbCgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnNldE91dCgoMCwgSU91dHB1dEhhbmRsZXJfMS5uZXdPdXRwdXRIYW5kbGVyKSgpKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvL1RPRE8gOiBmaW5kIGJldHRlciBzb2x1dGlvbiB0aGFuIHRoaXMuXHJcbiAgICAvLyByIFxyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5pbml0QXNOZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlR3JvdXAoJ2ZpeGVkJyk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlR3JvdXAoJ2Rlcml2ZWQnKTtcclxuICAgIH07XHJcbiAgICAvLy8gQ3JlYXRlIFN0YXRlbWVudHMgXHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoZ3JvdXAsIG5hbWUpIHtcclxuICAgICAgICAvLyBlbnN1cmUgdGhhdCBncm91cCBleGlzdHMsIHNhbWUgd2F5IGFzIHRoZSBvdGhlcnNcclxuICAgICAgICBpZiAoIXRoaXMuX2hhc0dyb3VwKGdyb3VwKSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIGdyb3VwIGV4aXN0ZWQgYnkgbmFtZSBcIi5jb25jYXQoZ3JvdXApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdycCA9IHRoaXMuX2dldEdyb3VwKGdyb3VwKTtcclxuICAgICAgICBpZiAoIWdycClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUNvbGxlY3Rpb24oZ3JwLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZURlcml2ZWRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uKGRlcml2ZWQsIG5hbWUpO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlRml4ZWRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uKGZpeGVkLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZU5vZGUgPSBmdW5jdGlvbiAoZ3JvdXAsIGNvbCwgbmFtZSkge1xyXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IGdyb3VwIGV4aXN0cywgc2FtZSB3YXkgYXMgdGhlIG90aGVyc1xyXG4gICAgICAgIGlmICghdGhpcy5faGFzR3JvdXAoZ3JvdXApKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiTm8gZ3JvdXAgZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChncm91cCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzTm9kZShncm91cCwgY29sLCBuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vZGUgYnkgdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RlZCBcIi5jb25jYXQoZ3JvdXApKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChncm91cCA9PSAnZml4ZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZpeGVkTm9kZShjb2wsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChncm91cCA9PSAnZGVyaXZlZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRGVyaXZlZE5vZGUoY29sLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5jcmVhdGVEZXJpdmVkTm9kZSA9IGZ1bmN0aW9uIChjb2wsIG5hbWUpIHtcclxuICAgICAgICB2YXIgY29sTmFtZSA9IGNvbDtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgZ3JwID0gdGhpcy5fZ2V0R3JvdXAoZGVyaXZlZCk7XHJcbiAgICAgICAgICAgIGlmICghZ3JwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGNvbCA9IGdycC5nZXRDb2xsZWN0aW9uKGNvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xOYW1lID0gY29sLmdldE5hbWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFjb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJObyBEZXJpdmVkIGNvbGxlY3Rpb24gZm91bmQgYnkgbmFtZTogXCIuY29uY2F0KGNvbE5hbWUsIFwiIFwiKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBHcm9iTm9kdGVfMS5Hcm9iRGVyaXZlZE5vZGUobmFtZSwgY29sKTtcclxuICAgICAgICBjb2wuYWRkTm9kZShub2RlKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZUZpeGVkTm9kZSA9IGZ1bmN0aW9uIChjb2wsIG5hbWUpIHtcclxuICAgICAgICB2YXIgZ3JwID0gdGhpcy5fZ2V0R3JvdXAoZml4ZWQpO1xyXG4gICAgICAgIGlmICghZ3JwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB2YXIgY29sTmFtZSA9IGNvbDtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb2xOYW1lID0gY29sLmdldE5hbWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbCA9IGdycC5nZXRDb2xsZWN0aW9uKGNvbE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWNvbCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIEZpeGVkIGNvbGxlY3Rpb24gZm91bmQgYnkgbmFtZTogXCIuY29uY2F0KGNvbE5hbWUsIFwiIFwiKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBHcm9iTm9kdGVfMS5Hcm9iRml4ZWROb2RlKG5hbWUsIGNvbCk7XHJcbiAgICAgICAgY29sLmFkZE5vZGUobm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgLy8gaGFzIFN0YXRlbWVudHMgXHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmhhc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoZ3JvdXAsIG5hbWUpIHtcclxuICAgICAgICB2YXIgZ3JwID0gdGhpcy5fZ2V0R3JvdXAoZ3JvdXApO1xyXG4gICAgICAgIGlmICghZ3JwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiTm8gZ3JvdXAgZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChncm91cCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBncnAuaGFzQ29sbGVjdGlvbihuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmhhc0Rlcml2ZWRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNDb2xsZWN0aW9uKGRlcml2ZWQsIG5hbWUpO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuaGFzRml4ZWRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNDb2xsZWN0aW9uKGZpeGVkLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmhhc05vZGUgPSBmdW5jdGlvbiAoZ3JvdXAsIGNvbCwgbmFtZSkge1xyXG4gICAgICAgIHZhciBncnAgPSB0aGlzLl9nZXRHcm91cChncm91cCk7XHJcbiAgICAgICAgaWYgKCFncnApIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJObyBncm91cCBleGlzdGVkIGJ5IG5hbWUgXCIuY29uY2F0KGdyb3VwKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9jb2wgPSBjb2w7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2wgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgX2NvbCA9IHRoaXMuZ2V0Q29sbGVjdGlvbihncnAsIGNvbCk7XHJcbiAgICAgICAgICAgIGlmICghX2NvbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IFwiLmNvbmNhdChncm91cCwgXCIgY29sbGVjdGlvbiBcIikuY29uY2F0KG5hbWUsIFwiLCBidXQgbm8gY29sbGVjdGlvbiBleGlzdGVkIGJ5IHRoYXQgbmFtZVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9jb2wuaGFzTm9kZShuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmhhc0Rlcml2ZWROb2RlID0gZnVuY3Rpb24gKGNvbCwgbmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhc05vZGUoZGVyaXZlZCwgY29sLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmhhc0ZpeGVkTm9kZSA9IGZ1bmN0aW9uIChjb2wsIG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNOb2RlKGZpeGVkLCBjb2wsIG5hbWUpO1xyXG4gICAgfTtcclxuICAgIC8vIGdldCBTdGF0ZW1lbnRzIFxyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uTmFtZXMgPSBmdW5jdGlvbiAoZ3JvdXApIHtcclxuICAgICAgICB2YXIgZ3JwO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZ3JvdXAgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZ3JwID0gdGhpcy5fZ2V0R3JvdXAoZ3JvdXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZ3JwID0gZ3JvdXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZ3JwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiTm8gZ3JvdXAgZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChncm91cCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBncnAuZ2V0Q29sbGVjdGlvbnNOYW1lcygpO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIChncm91cCwgbmFtZSkge1xyXG4gICAgICAgIHZhciBncnA7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBncm91cCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBncnAgPSB0aGlzLl9nZXRHcm91cChncm91cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBncnAgPSBncm91cDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFncnApIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJObyBncm91cCBleGlzdGVkIGJ5IG5hbWUgXCIuY29uY2F0KGdyb3VwKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29sID0gZ3JwLmdldENvbGxlY3Rpb24obmFtZSk7XHJcbiAgICAgICAgaWYgKCFjb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IFwiLmNvbmNhdChncm91cCwgXCIgY29sbGVjdGlvbiBcIikuY29uY2F0KG5hbWUsIFwiLCBidXQgbm8gY29sbGVjdGlvbiBleGlzdGVkIGJ5IHRoYXQgbmFtZVwiKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0RGVyaXZlZENvbGxlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbGxlY3Rpb24oZGVyaXZlZCwgbmFtZSk7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRGaXhlZENvbGxlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbGxlY3Rpb24oZml4ZWQsIG5hbWUpO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Tm9kZSA9IGZ1bmN0aW9uIChncm91cCwgY29sLCBuYW1lKSB7XHJcbiAgICAgICAgdmFyIGdycCA9IHRoaXMuX2dldEdyb3VwKGdyb3VwKTtcclxuICAgICAgICBpZiAoIWdycCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIGdyb3VwIGV4aXN0ZWQgYnkgbmFtZSBcIi5jb25jYXQoZ3JvdXApKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRlZmluZSBvdXRwdXRcclxuICAgICAgICB2YXIgbm9kZTtcclxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgY29sbGVjdGlvbiwganVzdCBnZXQgdGhlIG5vZGUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2wgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjb2wuZ2V0Tm9kZShuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgY29sIGlzIGEgc3RyaW5nLCB0aGVuIGxldCBpdCBiZSBzZWVuIGFzIHRoZSBuYW1lIG9mIHRoZSBjb2xsZWN0aW9uLCBhbmQgZmV0Y2ggaXQuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGdldCBkYXRhXHJcbiAgICAgICAgICAgIHZhciBjb2xOYW1lID0gY29sO1xyXG4gICAgICAgICAgICBjb2wgPSBncnAuZ2V0Q29sbGVjdGlvbihjb2wpO1xyXG4gICAgICAgICAgICAvLyBlcnJvciBoYW5kbGluZy5cclxuICAgICAgICAgICAgaWYgKCFjb2wpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBcIi5jb25jYXQoZ3JvdXAsIFwiIGNvbGxlY3Rpb24gXCIpLmNvbmNhdChjb2xOYW1lLCBcIiwgYnV0IGRpZCBub3QgZXhpc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZGVmaW5lZCBvdXRwdXRcclxuICAgICAgICAgICAgbm9kZSA9IGNvbC5nZXROb2RlKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlcnJvciBoYW5kbGluZ1xyXG4gICAgICAgIGlmICghbm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgXCIuY29uY2F0KGdyb3VwLCBcIi5cIikuY29uY2F0KGNvbC5nZXROYW1lKCksIFwiIE5vZGUgXCIpLmNvbmNhdChuYW1lLCBcIiwgYnV0IGRpZCBub3QgZXhpc3RcIikpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5nZXREZXJpdmVkTm9kZSA9IGZ1bmN0aW9uIChjb2wsIG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXROb2RlKGRlcml2ZWQsIGNvbCwgbmFtZSk7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRGaXhlZE5vZGUgPSBmdW5jdGlvbiAoY29sLCBuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZShmaXhlZCwgY29sLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmdldE5vZGVOYW1lcyA9IGZ1bmN0aW9uIChncm91cCwgY29sKSB7XHJcbiAgICAgICAgdmFyIGdycCA9IHRoaXMuX2dldEdyb3VwKGdyb3VwKTtcclxuICAgICAgICBpZiAoIWdycCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIGdyb3VwIGV4aXN0ZWQgYnkgbmFtZSBcIi5jb25jYXQoZ3JvdXApKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfY29sO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29sID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBfY29sID0gZ3JwLmdldENvbGxlY3Rpb24oY29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9jb2wgPSBjb2w7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfY29sLmdldE5vZGVOYW1lcygpO1xyXG4gICAgfTtcclxuICAgIC8vIGRlbGV0ZSBTdGF0ZW1lbnRzIFxyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5fZGVsZXRlR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXApIHtcclxuICAgICAgICBpZiAodHlwZW9mIGdyb3VwID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gZ3JvdXA7XHJcbiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5fZ2V0R3JvdXAoZ3JvdXApO1xyXG4gICAgICAgICAgICBpZiAoIWdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcignTm8gQ29sbGVjdGlvbiBieSBuYW1lICcgKyBuYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9kZWxldGVHcm91cC5jYWxsKHRoaXMsIGdyb3VwKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmRlbGV0ZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoZ3JvdXAsIGNvbCkge1xyXG4gICAgICAgIHZhciBncnAgPSB0aGlzLl9nZXRHcm91cChncm91cCk7XHJcbiAgICAgICAgaWYgKCFncnApIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJObyBncm91cCBleGlzdGVkIGJ5IG5hbWUgXCIuY29uY2F0KGdyb3VwKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2wgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGNvbCA9XHJcbiAgICAgICAgICAgICAgICBjb2wgPSBncnAuZ2V0Q29sbGVjdGlvbihjb2wpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGV0ZUNvbGxlY3Rpb24oY29sKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmRlbGV0ZURlcml2ZWRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUNvbGxlY3Rpb24oZGVyaXZlZCwgY29sKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLmRlbGV0ZUZpeGVkQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWxldGVDb2xsZWN0aW9uKGZpeGVkLCBjb2wpO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUuZGVsZXRlTm9kZSA9IGZ1bmN0aW9uIChncm91cCwgY29sLCBuYW1lKSB7XHJcbiAgICAgICAgdmFyIGdycCA9IHRoaXMuX2dldEdyb3VwKGdyb3VwKTtcclxuICAgICAgICBpZiAoIWdycCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIGdyb3VwIGV4aXN0ZWQgYnkgbmFtZSBcIi5jb25jYXQoZ3JvdXApKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGNvbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29sID0gZ3JwLmdldENvbGxlY3Rpb24oY29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFjb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5vdXQub3V0RXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IFwiLmNvbmNhdChncm91cCwgXCIgY29sbGVjdGlvbiBcIikuY29uY2F0KG5hbWUsIFwiLCBidXQgbm8gY29sbGVjdGlvbiBleGlzdGVkIGJ5IHRoYXQgbmFtZVwiKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5vZGUgPSBjb2wuZ2V0Tm9kZShuYW1lKTtcclxuICAgICAgICByZXR1cm4gY29sLnJlbW92ZU5vZGUobm9kZSk7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5kZWxldGVEZXJpdmVkTm9kZSA9IGZ1bmN0aW9uIChjb2wsIG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWxldGVOb2RlKGRlcml2ZWQsIGNvbCwgbmFtZSk7XHJcbiAgICB9O1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5kZWxldGVGaXhlZE5vZGUgPSBmdW5jdGlvbiAoY29sLCBuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlTm9kZShmaXhlZCwgY29sLCBuYW1lKTtcclxuICAgIH07XHJcbiAgICAvLyBSZW5hbWluZyBmdW5jdGlvbnNcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUucmVuYW1lQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChncm91cCwgY29sLCBuZXdOYW1lKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgdGhhdCBncm91cCBleGlzdHMsIGFuZCBnZXQgdGhlIHZhbHVlcy4gXHJcbiAgICAgICAgdmFyIGdycDtcclxuICAgICAgICB2YXIgZ3JwTmFtZTtcclxuICAgICAgICBpZiAodHlwZW9mIGdyb3VwID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGdycE5hbWUgPSBncm91cDtcclxuICAgICAgICAgICAgZ3JwID0gdGhpcy5fZ2V0R3JvdXAoZ3JvdXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZ3JwTmFtZSA9IGdyb3VwLmdldE5hbWUoKTtcclxuICAgICAgICAgICAgZ3JwID0gZ3JvdXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZ3JwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiTm8gZ3JvdXAgZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChncnBOYW1lKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayB0aGF0IENvbGxlY3Rpb24gZXhpc3RzIGFuZCBnZXQgdGhlIHZhbHVlcyBcclxuICAgICAgICB2YXIgY29sTmFtZSA9IGNvbDtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBjb2xOYW1lID0gY29sO1xyXG4gICAgICAgICAgICBjb2wgPSBncnAuZ2V0Q29sbGVjdGlvbihjb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29sTmFtZSA9IGNvbC5nZXROYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghY29sKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0Lm91dEVycm9yKFwiTm8gQ29sbGVjdGlvbiBleGlzdGVkIGJ5IG5hbWUgXCIuY29uY2F0KGNvbE5hbWUsIFwiIGluIFwiKS5jb25jYXQoZ3JwTmFtZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdXBkYXRlIFxyXG4gICAgICAgIHJldHVybiBncnAudXBkYXRlX2NvbGxlY3Rpb25fbmFtZShjb2xOYW1lLCBuZXdOYW1lKTtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLnJlbmFtZUl0ZW0gPSBmdW5jdGlvbiAoZ3JvdXAsIGNvbCwgb2xkTmFtZSwgbmV3TmFtZSkge1xyXG4gICAgICAgIC8vIGNoZWNrIHRoYXQgZ3JvdXAgZXhpc3RzLCBhbmQgZ2V0IHRoZSB2YWx1ZXMuIFxyXG4gICAgICAgIHZhciBncnA7XHJcbiAgICAgICAgdmFyIGdycE5hbWU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBncm91cCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBncnBOYW1lID0gZ3JvdXA7XHJcbiAgICAgICAgICAgIGdycCA9IHRoaXMuX2dldEdyb3VwKGdyb3VwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGdycE5hbWUgPSBncm91cC5nZXROYW1lKCk7XHJcbiAgICAgICAgICAgIGdycCA9IGdyb3VwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWdycCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIGdyb3VwIGV4aXN0ZWQgYnkgbmFtZSBcIi5jb25jYXQoZ3JwTmFtZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBDb2xsZWN0aW9uIGV4aXN0cyBhbmQgZ2V0IHRoZSB2YWx1ZXMgXHJcbiAgICAgICAgdmFyIGNvbE5hbWUgPSBjb2w7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2wgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29sTmFtZSA9IGNvbDtcclxuICAgICAgICAgICAgY29sID0gZ3JwLmdldENvbGxlY3Rpb24oY29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbE5hbWUgPSBjb2wuZ2V0TmFtZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWNvbCkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIENvbGxlY3Rpb24gZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChjb2xOYW1lLCBcIiBpbiBcIikuY29uY2F0KGdycE5hbWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIE5vZGUgZXhpc3RzXHJcbiAgICAgICAgaWYgKCFjb2wuaGFzTm9kZShvbGROYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLm91dC5vdXRFcnJvcihcIk5vIEl0ZW0gZXhpc3RlZCBieSBuYW1lIFwiLmNvbmNhdChvbGROYW1lLCBcIiBpbiBcIikuY29uY2F0KGdycE5hbWUsIFwiLlwiKS5jb25jYXQoY29sTmFtZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdXBkYXRlIFxyXG4gICAgICAgIHJldHVybiBjb2wudXBkYXRlX25vZGVfbmFtZShvbGROYW1lLCBuZXdOYW1lKTtcclxuICAgIH07XHJcbiAgICAvLyBWYWxpZGF0aW9uIEZ1bmN0aW9uc1xyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKGVycm9yTWVzc2FnZXMpIHtcclxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlcyA9PT0gdm9pZCAwKSB7IGVycm9yTWVzc2FnZXMgPSBbXTsgfVxyXG4gICAgICAgIHZhciBrZXlfZ3JvdXAsIGtleV9jb2xsZWN0aW9uLCBrZXlfbm9kZTtcclxuICAgICAgICB2YXIgY29sbGVjdGlvbk5hbWVzLCBub2RlTmFtZXM7XHJcbiAgICAgICAgdmFyIGdyb3VwLCBjb2xsZWN0aW9uLCBub2RlO1xyXG4gICAgICAgIHZhciBpc1ZhbGlkO1xyXG4gICAgICAgIC8vIGZvcmVhY2ggZ3JvdXAsIGdldCBkbyB0aGlzIGZvciBhbGwgY29sbGVjdGlvbnMuXHJcbiAgICAgICAgZm9yIChrZXlfZ3JvdXAgaW4gdGhpcy5kYXRhKSB7XHJcbiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5kYXRhW2tleV9ncm91cF07XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb25OYW1lcyA9IGdyb3VwLmdldENvbGxlY3Rpb25zTmFtZXMoKTtcclxuICAgICAgICAgICAgLy8gZm9yYWNoIGNvbGxlY3Rpb24gZG8gdGhpcyBmb3IgYWxsIG5vZGVzIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBjb2xJbmRleCBpbiBncm91cC5nZXRDb2xsZWN0aW9uc05hbWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGtleV9jb2xsZWN0aW9uID0gY29sbGVjdGlvbk5hbWVzW2NvbEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBncm91cC5nZXRDb2xsZWN0aW9uKGtleV9jb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGVOYW1lcyA9IGNvbGxlY3Rpb24uZ2V0Tm9kZU5hbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkbyB0aGlzIGZvciBlYWNoIG5vZGUuIFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbm9kZUluZGV4IGluIG5vZGVOYW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleV9ub2RlID0gbm9kZU5hbWVzW25vZGVJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNvbGxlY3Rpb24uZ2V0Tm9kZShrZXlfbm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IG5vZGUuaXNWYWxpZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gXCJcIi5jb25jYXQoa2V5X2dyb3VwLCBcIi5cIikuY29uY2F0KGtleV9jb2xsZWN0aW9uLCBcIi5cIikuY29uY2F0KGtleV9ub2RlLCBcIiB3YXMgaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBba2V5X2dyb3VwLCBrZXlfY29sbGVjdGlvbiwga2V5X25vZGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VzLnB1c2goeyBtc2c6IG1zZywga2V5OiBrZXlzIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXJyb3JNZXNzYWdlcy5sZW5ndGggPT0gMDtcclxuICAgIH07XHJcbiAgICBUVFJQR1N5c3RlbUdyYXBoTW9kZWwucHJvdG90eXBlLl9nZXRHcm91cCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGdycCA9IHRoaXMuZGF0YVtuYW1lXTtcclxuICAgICAgICByZXR1cm4gZ3JwICE9PSBudWxsICYmIGdycCAhPT0gdm9pZCAwID8gZ3JwIDogbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyBhZGQgZGVwZW5kZW5jeVxyXG4gICAgVFRSUEdTeXN0ZW1HcmFwaE1vZGVsLnByb3RvdHlwZS5hZGROb2RlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChub2RlLCBkZXApIHtcclxuICAgICAgICB0aGlzLl9hZGROb2RlRGVwZW5kZW5jeShub2RlLCBkZXApO1xyXG4gICAgfTtcclxuICAgIFRUUlBHU3lzdGVtR3JhcGhNb2RlbC5wcm90b3R5cGUucmVtb3ZlTm9kZURlcGVuZGVuY3kgPSBmdW5jdGlvbiAobm9kZSwgZGVwKSB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlTm9kZURlcGVuZGVuY3kobm9kZSwgZGVwKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVFRSUEdTeXN0ZW1HcmFwaE1vZGVsO1xyXG59KFRUUlBHU3lzdGVtR3JhcGhBYnN0cmFjdE1vZGVsXzEuVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwpKTtcclxuZXhwb3J0cy5UVFJQR1N5c3RlbUdyYXBoTW9kZWwgPSBUVFJQR1N5c3RlbUdyYXBoTW9kZWw7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMudXVpZHY0ID0gZXhwb3J0cy5UVFJQR1N5c3RlbSA9IGV4cG9ydHMuR3JvYkdyb3VwID0gZXhwb3J0cy5Hcm9iQ29sbGVjdGlvbiA9IGV4cG9ydHMuR3JvYkRlcml2ZWROb2RlID0gZXhwb3J0cy5Hcm9iRGVyaXZlZE9yaWdpbiA9IGV4cG9ydHMuR3JvYkZpeGVkTm9kZSA9IGV4cG9ydHMua2V5TWFuYWdlckluc3RhbmNlID0gdm9pZCAwO1xyXG52YXIgS2V5TWFuYWdlcl8xID0gcmVxdWlyZShcIi4vQWJzdHJhY3Rpb25zL0tleU1hbmFnZXJcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImtleU1hbmFnZXJJbnN0YW5jZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gS2V5TWFuYWdlcl8xLmtleU1hbmFnZXJJbnN0YW5jZTsgfSB9KTtcclxudmFyIFRUUlBHU3lzdGVtR3JhcGhNb2RlbF8xID0gcmVxdWlyZShcIi4vR3JhcGgvVFRSUEdTeXN0ZW1HcmFwaE1vZGVsXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUVFJQR1N5c3RlbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVFRSUEdTeXN0ZW1HcmFwaE1vZGVsXzEuVFRSUEdTeXN0ZW1HcmFwaE1vZGVsOyB9IH0pO1xyXG52YXIgR3JvYkNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL0dyb2JDb2xsZWN0aW9uXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHcm9iQ29sbGVjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gR3JvYkNvbGxlY3Rpb25fMS5Hcm9iQ29sbGVjdGlvbjsgfSB9KTtcclxudmFyIEdyb2JHcm91cF8xID0gcmVxdWlyZShcIi4vR3JvYkdyb3VwXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHcm9iR3JvdXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEdyb2JHcm91cF8xLkdyb2JHcm91cDsgfSB9KTtcclxudmFyIEdyb2JOb2R0ZV8xID0gcmVxdWlyZShcIi4vR3JvYk5vZHRlXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHcm9iRGVyaXZlZE5vZGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEdyb2JOb2R0ZV8xLkdyb2JEZXJpdmVkTm9kZTsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR3JvYkRlcml2ZWRPcmlnaW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEdyb2JOb2R0ZV8xLkdyb2JEZXJpdmVkT3JpZ2luOyB9IH0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHcm9iRml4ZWROb2RlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHcm9iTm9kdGVfMS5Hcm9iRml4ZWROb2RlOyB9IH0pO1xyXG5mdW5jdGlvbiB1dWlkdjQoKSB7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCdcclxuICAgICAgICAucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLnV1aWR2NCA9IHV1aWR2NDtcclxuIiwiaW1wb3J0IHsgQkFTRV9TQ0hFTUUgfSBmcm9tIFwiZ3JvYmF4LWpzb24taGFuZGxlclwiO1xyXG5pbXBvcnQgeyBrZXlNYW5hZ2VySW5zdGFuY2UgfSBmcm9tIFwidHRycGctc3lzdGVtLWdyYXBoXCI7XHJcbmltcG9ydCB7IEpzb25Cb29sZWFuLCBKc29uT2JqZWN0LCBKc29uUHJvcGVydHksIEpzb25TdHJpbmcgfSBmcm9tIFwiZ3JvYmF4LWpzb24taGFuZGxlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTeXN0ZW1QcmV2aWV3U2NoZW1lc3sgXHJcblx0c3RhdGljIEJBU0UgPSBCQVNFX1NDSEVNRTtcclxuXHRzdGF0aWMgUEFHRSBcdD0gJ1BBR0UnOyBcclxufVxyXG5cclxuQEpzb25PYmplY3Qoe1xyXG5cdG9uQWZ0ZXJEZVNlcmlhbGl6YXRpb246KHNlbGY6U3lzdGVtUHJldmlldywgLi4uYXJncyApPT57XHJcblx0XHRzZWxmLmlkID0ga2V5TWFuYWdlckluc3RhbmNlLmdldE5ld0tleSgpO1xyXG5cdH1cclxufSlcclxuZXhwb3J0IGNsYXNzIFN5c3RlbVByZXZpZXcge1xyXG5cclxuXHRwdWJsaWMgaWQgOiBzdHJpbmcgPSBrZXlNYW5hZ2VySW5zdGFuY2UuZ2V0TmV3S2V5KCk7XHJcblx0cHVibGljIGZpbGVQYXRoOnN0cmluZyA7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0XHJcblx0fVxyXG5cdHB1YmxpYyBpbml0KCl7XHJcblx0XHR0aGlzLmF1dGhvciA9IFwiZ3JvYmF4XCI7XHJcblx0XHR0aGlzLnZlcnNpb24gPSBcIjAuMC4xXCI7XHJcblx0XHR0aGlzLmNvZGUgPSBcImdyb2JkbmRcIjtcclxuXHRcdHRoaXMubmFtZSA9IFwiR3JvYmF4JyBEbkQgVFRQUlBHXCI7XHJcblx0fVxyXG5cclxuXHRASnNvbkJvb2xlYW4oe3NjaGVtZTpbU3lzdGVtUHJldmlld1NjaGVtZXMuQkFTRV19KVxyXG5cdHB1YmxpYyBpc0VkaXRhYmxlXHRcdDogYm9vbGVhbiA9IHRydWUgO1xyXG5cclxuXHRASnNvblN0cmluZyh7c2NoZW1lOltTeXN0ZW1QcmV2aWV3U2NoZW1lcy5CQVNFXX0pXHJcblx0cHVibGljIGF1dGhvclx0XHRcdDogc3RyaW5nIDtcclxuXHRcclxuXHRASnNvblN0cmluZyh7c2NoZW1lOltTeXN0ZW1QcmV2aWV3U2NoZW1lcy5CQVNFLFN5c3RlbVByZXZpZXdTY2hlbWVzLlBBR0VdfSlcclxuXHRwdWJsaWMgdmVyc2lvblx0XHRcdDogc3RyaW5nIDtcclxuXHRcclxuXHRASnNvblN0cmluZyh7c2NoZW1lOltTeXN0ZW1QcmV2aWV3U2NoZW1lcy5CQVNFLFN5c3RlbVByZXZpZXdTY2hlbWVzLlBBR0VdfSlcclxuXHRwdWJsaWMgY29kZVx0OiBzdHJpbmcgO1x0XHJcblxyXG5cdEBKc29uU3RyaW5nKHtzY2hlbWU6W1N5c3RlbVByZXZpZXdTY2hlbWVzLkJBU0UsU3lzdGVtUHJldmlld1NjaGVtZXMuUEFHRV19KVxyXG5cdHB1YmxpYyBuYW1lXHRcdDogc3RyaW5nIDtcclxuXHRcclxuXHRwdWJsaWMgZm9sZGVyUGF0aFx0XHQ6IHN0cmluZyA7XHJcblx0cHVibGljIGZvbGRlck5hbWVcdFx0OiBzdHJpbmcgO1xyXG5cdFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGxlZFN5c3RlbVByZXZpZXcgIGV4dGVuZHMgU3lzdGVtUHJldmlldyAge1xyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuYXV0aG9yID0gXCJncm9iYXhcIjtcclxuXHRcdHRoaXMudmVyc2lvbiA9IFwiMC4wLjFcIjtcclxuXHRcdHRoaXMuY29kZSA9IFwiZ3JvYmRuZFwiO1xyXG5cdFx0dGhpcy5uYW1lID0gXCJHcm9iYXgnIERuRCBUVFBSUEdcIjtcclxuXHR9XHJcbn0iLCIgXHJcbmltcG9ydCB7IEdyb2JDb2xsZWN0aW9uICwgR3JvYkdyb3VwICwgdHlwZSBHcm9iTm9kZVR5cGUgLCBHcm9iRGVyaXZlZE5vZGUsIEdyb2JEZXJpdmVkT3JpZ2luLCBHcm9iRml4ZWROb2RlLCBUVFJQR1N5c3RlbSAsIHV1aWR2NCB9IGZyb20gXCJ0dHJwZy1zeXN0ZW0tZ3JhcGhcIjtcclxuaW1wb3J0IHsgSnNvbk9iamVjdCwgSnNvbk1hcHBpbmdSZWNvcmRJbkFycmF5T3V0LCBKc29uQ2xhc3NUeXBlZCwgSnNvblN0cmluZywgSnNvbk51bWJlciwgSnNvbkFycmF5Q2xhc3NUeXBlZCB9IGZyb20gXCJncm9iYXgtanNvbi1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IEJBU0VfU0NIRU1FIH0gZnJvbSBcImdyb2JheC1qc29uLWhhbmRsZXJcIjtcclxuIFxyXG5cclxuLy8gaWYgc29tZXRoaW5nIGlzIEFHcmFwaEl0ZW0gXHJcbi8qXHJcbkBKc29uU3RyaW5nKCkgXHJcbnB1YmxpYyBuYW1lIDtcclxuKi9cclxuLy8gb3JpZ2luc1xyXG5leHBvcnQgY2xhc3MgR3JvYkpEZXJpdmVkT3JpZ2luIGV4dGVuZHMgR3JvYkRlcml2ZWRPcmlnaW4geyBcclxuXHRASnNvblN0cmluZygpXHJcblx0cHVibGljIHN5bWJvbDogc3RyaW5nOyBcclxuXHRcclxuXHRASnNvblN0cmluZygpXHJcblx0cHVibGljIG9yaWdpbktleTogc3RyaW5nIDtcclxufVxyXG5cclxuIFxyXG4vLyBOT0RFUyAgXHJcbmV4cG9ydCBjbGFzcyBHcm9iSkRlcml2ZWROb2RlIGV4dGVuZHMgR3JvYkRlcml2ZWROb2RlIHtcclxuXHRASnNvblN0cmluZygpIFxyXG5cdHB1YmxpYyBuYW1lIDtcclxuXHJcblx0QEpzb25TdHJpbmcoe25hbWUgOiAnY2FsY3VsYXRpb25TdHJpbmcnfSlcclxuXHRwdWJsaWMgY2FsYzpzdHJpbmc7XHJcblxyXG5cdEBKc29uQXJyYXlDbGFzc1R5cGVkKEdyb2JKRGVyaXZlZE9yaWdpbix7bmFtZTonY2FsY09yaWdpbnMnfSlcclxuXHRwdWJsaWMgb3JpZ2lucyA6IEdyb2JKRGVyaXZlZE9yaWdpbltdO1xyXG59IFxyXG5leHBvcnQgY2xhc3MgR3JvYkpGaXhlZE5vZGUgZXh0ZW5kcyBHcm9iRml4ZWROb2RlIHtcclxuXHJcblx0QEpzb25TdHJpbmcoKSBcclxuXHRwdWJsaWMgbmFtZSA7XHJcblxyXG5cdEBKc29uTnVtYmVyKHtuYW1lIDogJ3N0YW5kYXJkVmFsdWUnfSlcclxuXHRwdWJsaWMgX19fdmFsdWU6bnVtYmVyXHJcbn1cclxuZXhwb3J0IHR5cGUgR3JvYkpOb2RlVHlwZSA9IEdyb2JKRGVyaXZlZE5vZGUgfCBHcm9iSkZpeGVkTm9kZTtcclxuXHJcbiBcclxuXHJcbi8vICBDT0xMRUNUSU9OUyBcclxuZXhwb3J0IGNsYXNzIEdyb2JDb2xsZWN0aW9uRGVyaXZlZCBleHRlbmRzIEdyb2JDb2xsZWN0aW9uPEdyb2JKRGVyaXZlZE5vZGU+eyBcclxuXHRASnNvblN0cmluZygpIFxyXG5cdHB1YmxpYyBuYW1lIDtcclxuXHRcclxuXHRASnNvbk1hcHBpbmdSZWNvcmRJbkFycmF5T3V0KHtLZXlQcm9wZXJ0eU5hbWU6J2dldE5hbWUnLCBuYW1lOidkYXRhJyx0eXBlOkdyb2JKRGVyaXZlZE5vZGUgfSlcclxuXHRub2Rlc19uYW1lczogUmVjb3JkPHN0cmluZywgR3JvYkpEZXJpdmVkTm9kZT4gPSB7fVxyXG59IFxyXG5leHBvcnQgY2xhc3MgR3JvYkNvbGxlY3Rpb25GaXhlZCBleHRlbmRzIEdyb2JDb2xsZWN0aW9uPEdyb2JKRml4ZWROb2RlPntcclxuXHJcblx0QEpzb25TdHJpbmcoKSBcclxuXHRwdWJsaWMgbmFtZSA7XHJcblxyXG5cdEBKc29uTWFwcGluZ1JlY29yZEluQXJyYXlPdXQoe0tleVByb3BlcnR5TmFtZTonZ2V0TmFtZScsIG5hbWU6J2RhdGEnLHR5cGU6R3JvYkpGaXhlZE5vZGUgIH0pXHJcblx0bm9kZXNfbmFtZXM6IFJlY29yZDxzdHJpbmcsIEdyb2JKRml4ZWROb2RlPiA9IHt9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgR1JPVVBTIFxyXG5leHBvcnQgY2xhc3MgR3JvYkdyb3VwRGVyaXZlZCBleHRlbmRzIEdyb2JHcm91cDxHcm9iRGVyaXZlZE5vZGU+e1xyXG5cdFxyXG5cdEBKc29uU3RyaW5nKCkgXHJcblx0cHVibGljIG5hbWUgO1xyXG5cclxuXHRASnNvbk1hcHBpbmdSZWNvcmRJbkFycmF5T3V0KHtLZXlQcm9wZXJ0eU5hbWU6J2dldE5hbWUnLCBuYW1lOidkYXRhJyx0eXBlIDpHcm9iQ29sbGVjdGlvbkRlcml2ZWQgIH0pXHJcblx0Y29sbGVjdGlvbnNfbmFtZXM6IFJlY29yZDxzdHJpbmcsIEdyb2JDb2xsZWN0aW9uRGVyaXZlZCA+ID0ge307XHJcblxyXG59IFxyXG5leHBvcnQgY2xhc3MgR3JvYkdyb3VwRml4ZWQgZXh0ZW5kcyBHcm9iR3JvdXA8R3JvYkZpeGVkTm9kZT57XHJcblx0XHJcblx0QEpzb25TdHJpbmcoKSBcclxuXHRwdWJsaWMgbmFtZSA7XHJcblxyXG5cdEBKc29uTWFwcGluZ1JlY29yZEluQXJyYXlPdXQoe0tleVByb3BlcnR5TmFtZTonZ2V0TmFtZScsIG5hbWU6J2RhdGEnLCB0eXBlIDpHcm9iQ29sbGVjdGlvbkZpeGVkICB9KVxyXG5cdGNvbGxlY3Rpb25zX25hbWVzOiBSZWNvcmQ8c3RyaW5nLEdyb2JDb2xsZWN0aW9uRml4ZWQ+ID0ge307XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIFxyXG5leHBvcnQgY2xhc3MgVFRSUEdfU0NIRU1FUyB7IFxyXG5cdHN0YXRpYyBQUkVWSUVXID0nbWluaSc7XHJcbn0gXHJcblxyXG4vKipcclxuICogIGhhbmRsZXMgTW9kZWwgb3BlcmF0aW9ucyBhbmQgRGF0YSBDb250YWlubWVudCwgXHJcbiAqIEVuc3VyZXMgdGhhdCBkYXRhIGlzIG1haW50YWluZWQsIGFzIHdlbGwgYXMgZ3JhcGhsaW5rc1xyXG4qL1xyXG5ASnNvbk9iamVjdCh7XHJcblx0b25CZWZvcmVTZXJpYWxpemF0aW9uOihzZWxmOlRUUlBHU3lzdGVtSlNPTkZvcm1hdHRpbmcpID0+IHt9LFxyXG5cdG9uQWZ0ZXJEZVNlcmlhbGl6YXRpb246KHNlbGY6VFRSUEdTeXN0ZW1KU09ORm9ybWF0dGluZywgLi4uYXJncyApID0+IHtcclxuXHRcdFxyXG5cdFx0Ly8gYWRkIGRlcml2ZWQgYW5kIGZpeGVkIHRvIGdyb3VwcyBcclxuXHRcdGlmICggIXNlbGYuZml4ZWRcdCApe1xyXG5cdFx0XHRzZWxmLl9jcmVhdGVHcm91cCgnZml4ZWQnKTtcclxuXHRcdFx0c2VsZi5maXhlZFx0ID0gc2VsZi5fZ2V0R3JvdXAoJ2ZpeGVkJylcdCBhcyBHcm9iR3JvdXBGaXhlZFx0O1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHNlbGYuZGF0YVsnZml4ZWQnXSA9IHNlbGYuZml4ZWQ7XHJcblx0XHR9XHJcblx0XHRpZiAoICFzZWxmLmRlcml2ZWQgKXtcclxuXHRcdFx0c2VsZi5fY3JlYXRlR3JvdXAoJ2Rlcml2ZWQnKTtcclxuXHRcdFx0c2VsZi5kZXJpdmVkID0gc2VsZi5fZ2V0R3JvdXAoJ2Rlcml2ZWQnKSBhcyBHcm9iR3JvdXBEZXJpdmVkO1x0XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0c2VsZi5kYXRhWydkZXJpdmVkJ10gPSBzZWxmLmRlcml2ZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIGFsbCBncm91cHMgXHJcblx0XHRmb3IoY29uc3QgZ3JvdXBfa2V5IGluIChzZWxmIGFzIGFueSkuZGF0YSApe1xyXG5cdFx0XHRjb25zdCBncm91cCA9IChzZWxmIGFzIGFueSkuZGF0YVtncm91cF9rZXldO1xyXG5cdFx0XHRncm91cC5wYXJlbnQgPSBzZWxmO1xyXG5cclxuXHRcdFx0Zm9yKGNvbnN0IGNvbF9rZXkgaW4gKGdyb3VwIGFzIGFueSkuY29sbGVjdGlvbnNfbmFtZXMgKXtcclxuXHRcdFx0XHRjb25zdCBjb2xsZWN0aW9uIDogR3JvYkNvbGxlY3Rpb248R3JvYk5vZGVUeXBlPiA9IGdyb3VwLmNvbGxlY3Rpb25zX25hbWVzW2NvbF9rZXldO1xyXG5cdFx0XHRcdGNvbGxlY3Rpb24ucGFyZW50ID0gZ3JvdXA7XHJcblx0XHRcdFx0Z3JvdXAuY29sbGVjdGlvbnNfbmFtZXNbY29sbGVjdGlvbi5nZXROYW1lKCldID0gY29sbGVjdGlvbjtcclxuXHJcblx0XHRcdFx0Zm9yKCBjb25zdCBub2RlX2tleSBpbiAoY29sbGVjdGlvbiBhcyBhbnkpLm5vZGVzX25hbWVzICl7XHJcblx0XHRcdFx0XHRjb25zdCBub2RlID0gKGNvbGxlY3Rpb24gYXMgYW55KS5ub2Rlc19uYW1lc1tub2RlX2tleV07XHJcblx0XHRcdFx0XHRub2RlLnBhcmVudCA9IGNvbGxlY3Rpb247XHJcblx0XHRcdFx0XHRjb2xsZWN0aW9uLm5vZGVzX25hbWVzW25vZGUuZ2V0TmFtZSgpXSA9IG5vZGU7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgb3JpZ2lucyA6IEdyb2JEZXJpdmVkT3JpZ2luW10gPSBub2RlLm9yaWdpbnMgPz8gW107XHJcblx0XHRcdFx0XHRvcmlnaW5zLmZvckVhY2goIG9yaWdpbiAgPT4ge1xyXG5cdFx0XHRcdFx0XHRsZXQga2V5cyA9IG9yaWdpbi5vcmlnaW5LZXkuc3BsaXQoJy4nKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gc2VsZi5nZXROb2RlKGtleXNbMF0gYXMgYW55LGtleXNbMV0sa2V5c1syXSlcclxuXHRcdFx0XHRcdFx0b3JpZ2luLm9yaWdpbiA9IHRhcmdldDtcclxuXHJcblx0XHRcdFx0XHRcdG5vZGUuYWRkRGVwZW5kZW5jeSh0YXJnZXQpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZ3JvdXBzID0gT2JqZWN0LnZhbHVlcygoc2VsZiBhcyBhbnkpLmRhdGEpOyBcclxuXHR9XHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUVFJQR1N5c3RlbUpTT05Gb3JtYXR0aW5nIGV4dGVuZHMgVFRSUEdTeXN0ZW0ge1xyXG5cdCAgXHJcblx0QEpzb25DbGFzc1R5cGVkICggR3JvYkdyb3VwRml4ZWQgKVxyXG5cdHB1YmxpYyBmaXhlZCBcdDogR3JvYkdyb3VwRml4ZWRcdDtcclxuXHJcblx0QEpzb25DbGFzc1R5cGVkICggR3JvYkdyb3VwRGVyaXZlZCApXHJcblx0cHVibGljIGRlcml2ZWQgXHQ6IEdyb2JHcm91cERlcml2ZWRcdDtcclxuXHJcblx0QEpzb25TdHJpbmcoKVxyXG5cdEBKc29uU3RyaW5nKHtzY2hlbWU6W0JBU0VfU0NIRU1FLFRUUlBHX1NDSEVNRVMuUFJFVklFV119KVxyXG5cdHB1YmxpYyBhdXRob3IgOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuXHRASnNvblN0cmluZygpXHJcblx0QEpzb25TdHJpbmcoe3NjaGVtZTpbQkFTRV9TQ0hFTUUsVFRSUEdfU0NIRU1FUy5QUkVWSUVXXX0pXHJcblx0cHVibGljIHZlcnNpb246IHN0cmluZyA9IFwiXCI7XHJcblx0XHJcblx0QEpzb25TdHJpbmcoKVxyXG5cdEBKc29uU3RyaW5nKHtzY2hlbWU6W0JBU0VfU0NIRU1FLFRUUlBHX1NDSEVNRVMuUFJFVklFV119KVxyXG5cdHB1YmxpYyBzeXN0ZW1Db2RlTmFtZTpzdHJpbmcgPSB1dWlkdjQoKTtcclxuXHRcclxuXHRASnNvblN0cmluZygpXHJcblx0QEpzb25TdHJpbmcoe3NjaGVtZTpbQkFTRV9TQ0hFTUUsVFRSUEdfU0NIRU1FUy5QUkVWSUVXXX0pXHJcblx0cHVibGljIHN5c3RlbU5hbWU6c3RyaW5nID0gXCJcIjtcclxuXHRcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKXtcclxuXHRcdHN1cGVyKCk7IFxyXG5cdH1cclxuXHJcblxyXG5cdHNldERlZmF1bHRWYWx1ZXMoIGRlZnVhbHRWYWx1ZXMgOiB7Z3JvdXA6c3RyaW5nLCBjb2w6c3RyaW5nICwga2V5OnN0cmluZyAsIHZhbHVlfVtdICl7XHJcblxyXG5cdFx0bGV0IG9iaiA9IHt9O1xyXG5cdFx0Y29uc3QgZ3JvdXBLZXkgPSAnZGVyaXZlZCc7XHJcblx0XHRjb25zdCBjb2xLZXlzID0gT2JqZWN0LmtleXModGhpcy5kZXJpdmVkLmNvbGxlY3Rpb25zX25hbWVzKTtcclxuXHRcdGZvciAobGV0IGMgPSAwOyBjIDwgT2JqZWN0LmtleXModGhpcy5kZXJpdmVkLmNvbGxlY3Rpb25zX25hbWVzKS5sZW5ndGg7IGMrKykge1xyXG5cdFx0XHRjb25zdCBjb2xLZXkgPSBjb2xLZXlzW2NdO1xyXG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5kZXJpdmVkLmNvbGxlY3Rpb25zX25hbWVzW2NvbEtleV07XHJcblxyXG5cdFx0XHRjb25zdCBub2RlS2V5cyA9IE9iamVjdC5rZXlzKGNvbGxlY3Rpb24ubm9kZXNfbmFtZXMpO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3Qgbm9kZUtleSA9IG5vZGVLZXlzW2ldO1xyXG5cdFx0XHRcdGNvbnN0IG5vZGUgPSBjb2xsZWN0aW9uLm5vZGVzX25hbWVzW25vZGVLZXldO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdG9ialtncm91cEtleSArJy4nKyBjb2xLZXkgKycuJysgbm9kZUtleV0gPSAoKSA9PiBub2RlLnNldFZhbHVlKCBub2RlLmdldFZhbHVlKCkgPz8gMCApXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IHsgVFRSUEdTeXN0ZW1KU09ORm9ybWF0dGluZyB9IGZyb20gXCJzcmMvTW9kdWxlcy9EZXNpZ25lclwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1QcmV2aWV3IH0gZnJvbSBcInNyYy9Nb2R1bGVzL09ic2lkaWFuVUlDb3JlL21vZGVsL3N5c3RlbVByZXZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMYXlvdXQwMUNvbnRleHR7XHJcblx0cHVibGljIGFjdGl2ZVN5c3RlbSBcdDogVFRSUEdTeXN0ZW1KU09ORm9ybWF0dGluZztcclxuXHRwdWJsaWMgYXZhaWxhYmxlUHJldmlld3M6U3lzdGVtUHJldmlld1tdO1xyXG59IiwiaW1wb3J0IHsgSlNPTkhhbmRsZXIgfSBmcm9tIFwiZ3JvYmF4LWpzb24taGFuZGxlclwiO1xyXG5pbXBvcnQgeyBBUElSZXR1cm5Nb2RlbCB9IGZyb20gXCIuLi9PYnNpZGlhblVJQ29yZS9BUElSZXR1cm5Nb2RlbFwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1QcmV2aWV3IH0gZnJvbSBcIi4uL09ic2lkaWFuVUlDb3JlL21vZGVsL3N5c3RlbVByZXZpZXdcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZXtcclxuXHRtc2dcdDpzdHJpbmc7XHJcblx0dHlwZTpzdHJpbmc7XHJcbn1cclxuXHJcblxyXG5jbGFzcyBTZXJ2ZXJ7XHJcblx0XHJcblx0Ly8gVE9ETzogZ2V0IHRoZSB1cmwgZnJvbSBhIGNvbmZpZ3VyYXRpb24gXHJcblx0cHVibGljIHN0YXRpYyBiYXNlVXJsIDogc3RyaW5nID0gXCJodHRwOi8vbG9jYWxob3N0OjUwMDBcIjtcclxuXHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGNhbGwoIGNhbGwgOiAnR0VUJyB8ICdQT1NUJyB8ICdQVVQnIHwgJ0RFTEVURScsIHVybCAsIF9vYmplY3Q/ICl7XHJcblx0IFxyXG5cdFx0aWYgKF9vYmplY3Qpe1xyXG5cdFx0XHR2YXIgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCggU2VydmVyLmJhc2VVcmwgK1wiL1wiK3VybCAse1xyXG5cdFx0XHRcdFx0bWV0aG9kOiBjYWxsLFxyXG5cdFx0XHRcdFx0aGVhZGVyczp7XHJcblx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRib2R5OiB0eXBlb2YgX29iamVjdCA9PSAnc3RyaW5nJyA/IF9vYmplY3QgOiBKU09OLnN0cmluZ2lmeSggX29iamVjdCApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZXtcclxuXHRcdFx0dmFyIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goIFNlcnZlci5iYXNlVXJsICtcIi9cIit1cmwgLHtcclxuXHRcdFx0XHRcdG1ldGhvZDogY2FsbCxcclxuXHRcdFx0XHRcdGhlYWRlcnM6e1xyXG5cdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBhc3luYyBwb3N0KHVybCwganNvbiApe1xyXG5cdFx0cmV0dXJuIGF3YWl0IFNlcnZlci5jYWxsKCdQT1NUJyx1cmwsanNvbik7XHJcblx0fVxyXG5cdHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0KHVybCl7XHJcblx0XHRyZXR1cm4gYXdhaXQgU2VydmVyLmNhbGwoJ0dFVCcsdXJsKTtcclxuXHR9XHJcblx0cHVibGljIHN0YXRpYyBhc3luYyBkZWxldGUodXJsLCBqc29uICl7XHJcblx0XHRyZXR1cm4gYXdhaXQgU2VydmVyLmNhbGwoJ0RFTEVURScsdXJsLCBqc29uKTtcclxuXHR9XHJcblx0cHVibGljIHN0YXRpYyBhc3luYyBwdXQodXJsLCBqc29uICApe1xyXG5cdFx0cmV0dXJuIGF3YWl0IFNlcnZlci5jYWxsKCdQVVQnLHVybCwganNvbik7XHJcblx0fVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFQSUNvbnRleHQge1xyXG5cdHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0QWxsU3lzdGVtcygpe1xyXG5cdFxyXG5cdFx0bGV0IHNlcnZlclJlc3AgPSBhd2FpdCBTZXJ2ZXIuZ2V0KFwiYXBpL3N5c3RlbVwiKTtcclxuXHRcdFxyXG5cdFx0aWYoc2VydmVyUmVzcC5zdGF0dXMgPT0gMjAwKXtcclxuXHJcblx0XHRcdGxldCBqc29uID0gYXdhaXQgc2VydmVyUmVzcC50ZXh0KCk7XHJcblx0XHRcdGxldCBvYmpzIDogU3lzdGVtUHJldmlld1tdID0gSlNPTkhhbmRsZXIuZGVzZXJpYWxpemUoU3lzdGVtUHJldmlldyxqc29uKTtcclxuXHRcdFx0bGV0IHJlc3BvbnNlID0ge1xyXG5cdFx0XHRcdHJlc3BvbnNlQ29kZSA6IHNlcnZlclJlc3Auc3RhdHVzLFxyXG5cdFx0XHRcdG1lc3NhZ2VzIDogW3NlcnZlclJlc3Auc3RhdHVzVGV4dF0sXHJcblx0XHRcdFx0cmVzcG9uc2U6IG9ianNcclxuXHRcdFx0fSBcdFxyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZXQgcmVzcG9uc2UgPSB7XHJcblx0XHRcdFx0cmVzcG9uc2VDb2RlIDogc2VydmVyUmVzcC5zdGF0dXMsXHJcblx0XHRcdFx0bWVzc2FnZXMgOiBbc2VydmVyUmVzcC5zdGF0dXNUZXh0XSxcclxuXHRcdFx0XHRyZXNwb25zZTogW11cclxuXHRcdFx0fSBcdFxyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9IFxyXG5cdH1cclxufSIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xyXG5cclxuXHJcblx0aW1wb3J0IEVkaXRBYmxlTGlzdCBmcm9tIFwiLi4vLi4vQ29tcG9uZW50cy9lZGl0QWJsZUxpc3QvRWRpdEFibGVMaXN0LnN2ZWx0ZVwiOyBcclxuICAgIGltcG9ydCBTdGF0aWNNZXNzYWdlSGFuZGxlciBmcm9tIFwiLi4vLi4vQ29tcG9uZW50cy9NZXNzYWdlcy9TdGF0aWNNZXNzYWdlSGFuZGxlci5zdmVsdGVcIjtcclxuICAgIGltcG9ydCB7IFN5c3RlbVByZXZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vLi4vT2JzaWRpYW5VSUNvcmUvbW9kZWwvc3lzdGVtUHJldmlld1wiO1xyXG4gICAgaW1wb3J0IHsgV3JpdGFibGUsIHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xyXG4gICAgaW1wb3J0IHsgVFRSUEdTeXN0ZW1KU09ORm9ybWF0dGluZyB9IGZyb20gXCIuLi8uLi8uLi8uLi9EZXNpZ25lclwiO1xyXG4gICAgaW1wb3J0IHsgZmFkZSwgc2xpZGUgfSBmcm9tIFwic3ZlbHRlL3RyYW5zaXRpb25cIjtcclxuICAgIGltcG9ydCB7IExheW91dDAxQ29udGV4dCB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XHJcbiAgICBpbXBvcnQgeyBBUElDb250ZXh0IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9Nb2R1bGVzL0Jyb3dzZXJVSS9BUElDb25uZWN0aW9uXCI7XHJcblxyXG5cdC8vbGV0IG1lc3NhZ2VIYW5kbGVyIDogU3RhdGljTWVzc2FnZUhhbmRsZXI7XHJcblx0XHJcblx0ZXhwb3J0IGxldCBjb250ZXh0XHQ6IExheW91dDAxQ29udGV4dDsgXHJcblx0bGV0IGFjdGl2ZVN5c3RlbSA6IFRUUlBHU3lzdGVtSlNPTkZvcm1hdHRpbmcgPSBjb250ZXh0LmFjdGl2ZVN5c3RlbTtcclxuXHRsZXQgYXZhaWxTeXN0ZW1zIDogU3lzdGVtUHJldmlld1tdID0gW107XHJcblx0XHJcblx0Y29uc3QgbnVsbHByZXZpZXcgPSBuZXcgU3lzdGVtUHJldmlldygpO1xyXG5cdGxldCBhY3RpdmVQcmV2aWV3OiBTeXN0ZW1QcmV2aWV3ID0gbnVsbHByZXZpZXc7XHJcblx0bGV0IHVua25vd25TdHJpbmcgPSAndW5rbm93bic7XHJcblxyXG4gXHJcblx0b25Nb3VudCggKCkgPT4ge1xyXG5cdFx0YXZhaWxTeXN0ZW1zID0gY29udGV4dC5hdmFpbGFibGVQcmV2aWV3cyA/PyBbXTtcclxuXHRcdGxvYWRBbGxTeXN0ZW1zKCk7XHJcblx0fSlcclxuXHJcblx0YXN5bmMgZnVuY3Rpb24gbG9hZEFsbFN5c3RlbXMoKXtcclxuXHRcdGxldCByZXNwb25zZSA9IGF3YWl0IEFQSUNvbnRleHQuZ2V0QWxsU3lzdGVtcygpO1xyXG5cdFx0Y29udGV4dC5hdmFpbGFibGVQcmV2aWV3cyA9IHJlc3BvbnNlLnJlc3BvbnNlO1xyXG5cdFx0YXZhaWxTeXN0ZW1zID0gcmVzcG9uc2UucmVzcG9uc2U7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB1bmxvYWRQcmV2aWV3KCl7XHJcblx0XHRhY3RpdmVQcmV2aWV3ID0gbnVsbHByZXZpZXdcclxuXHR9XHJcblx0ZnVuY3Rpb24gb25TZWxlY3RTeXN0ZW0oIGQgKXtcclxuXHRcdGNvbnN0IHByZSA9IGF2YWlsU3lzdGVtcy5maW5kKCBwID0+IHAuY29kZSA9PSBkKTtcclxuXHRcdGNvbnNvbGUubG9nKHByZSk7XHJcblx0XHRpZihhY3RpdmVQcmV2aWV3ID09IHByZSl7XHJcblx0XHRcdGFjdGl2ZVByZXZpZXcgPSBudWxscHJldmlldztcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvL0B0cy1pZ25vcmUgVGhpcyBpcyBmb3IgcmVuZGVyaW5nIHRoZSB1bmtub3duIHN0cm5pZ1xyXG5cdG51bGxwcmV2aWV3LmlzRWRpdGFibGUgPSBudWxsO1xyXG5cclxuPC9zY3JpcHQ+XHJcblxyXG48ZGl2IGNsYXNzPVwiTWFpbkFwcENvbnRhaW5lclBhZ2UgTWFpbkFwcENvbnRhaW5lclBhZ2VTeXN0ZW1cIj5cclxuXHQgXHJcblx0PHNlY3Rpb24+XHJcblx0XHQ8ZGl2IGNsYXNzPVwidGFibGUgU3lzdGVtUHJldmlld2VyXCIgZGF0YS1pcy1lZGl0PXsgZmFsc2UgfSB0cmFuc2l0aW9uOmZhZGU+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd1wiPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd0NvbHVtblwiPkF1dGhvcjwvZGl2PiBcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFibGVSb3dDb2x1bW5cIiA+e2FjdGl2ZVByZXZpZXc/LmF1dGhvciA/PyB1bmtub3duU3RyaW5nfTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93Q29sdW1uXCI+VmVyc2lvbjwvZGl2PiBcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFibGVSb3dDb2x1bW5cIiA+e2FjdGl2ZVByZXZpZXc/LnZlcnNpb24gPz8gdW5rbm93blN0cmluZ308L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd1wiPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd0NvbHVtblwiPlN5c3RlbUNvZGVOYW1lPC9kaXY+IFxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd0NvbHVtblwiID57YWN0aXZlUHJldmlldz8uY29kZSA/PyB1bmtub3duU3RyaW5nfTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93Q29sdW1uXCI+ZWRpdGFibGU8L2Rpdj4gXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93Q29sdW1uXCIgPnthY3RpdmVQcmV2aWV3Py5pc0VkaXRhYmxlID8/IHVua25vd25TdHJpbmd9PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGFibGVSb3dcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGFibGVSb3dDb2x1bW5cIj5TeXN0ZW1OYW1lPC9kaXY+IFxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWJsZVJvd0NvbHVtblwiID57YWN0aXZlUHJldmlldz8ubmFtZSA/PyB1bmtub3duU3RyaW5nfTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93Q29sdW1uXCI+Zm9sZGVyIG5hbWU8L2Rpdj4gXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYmxlUm93Q29sdW1uXCIgPnthY3RpdmVQcmV2aWV3Py5mb2xkZXJOYW1lID8/IHVua25vd25TdHJpbmd9PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblxyXG5cdFx0PGJyPlxyXG5cdFx0PCEtLSBTeXN0ZW0gU2VsZWN0b3IgLS0+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiUGFnZVN5c3RlbUxpc3RcIiA+XHRcclxuXHRcdFx0PEVkaXRBYmxlTGlzdCBcclxuXHRcdFx0XHRpc0VkaXRhYmxlQ29udGFpbmVyPXtmYWxzZX1cclxuXHRcdFx0XHRjb2xsZWN0aW9uPSB7IGF2YWlsU3lzdGVtcz8ubWFwKCBwID0+IHtyZXR1cm4geyBrZXkgOiBwLmNvZGUgLCB2YWx1ZSA6IHAubmFtZX19KSA/PyBbXSB9XHJcblx0XHRcdFx0b25TZWxlY3Q9eyBvblNlbGVjdFN5c3RlbSB9IFxyXG5cdFx0XHRcdG9uOm9uRGVTZWxlY3Q9eyB1bmxvYWRQcmV2aWV3IH1cclxuXHRcdFx0Lz4gXHJcblx0XHQ8L2Rpdj4gXHJcblx0PC9zZWN0aW9uPlxyXG48L2Rpdj4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInN2ZWx0ZVwiO1xyXG5cclxuXHRleHBvcnQgbGV0IHNwZWNpYWxcdD0gZmFsc2U7XHJcblx0ZXhwb3J0IGxldCB0ZXh0ICBcdD0gXCJCYXNpYyBpbmZvcm1hdGlvbiBhbmQgc2V0dGluZ3NcIjtcclxuXHRleHBvcnQgbGV0IHRpdGxlIFx0PSBcIkhvbWVcIjtcclxuXHJcblx0bGV0IGFjdGl2ZTtcclxuXHRleHBvcnQgZnVuY3Rpb24gc2V0QWN0aXZlKCB0byA6IGJvb2xlYW4pe1xyXG5cdFx0YWN0aXZlID0gdG87XHJcblx0fVxyXG5cdGxldCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIG9uQ2xpY2soKXtcclxuXHRcdGNvbnNvbGUubG9nKCdjbGlja3l5JylcclxuXHRcdGRpc3BhdGNoKCdjbGljaycpXHJcblx0fVxyXG48L3NjcmlwdD5cclxuPGRpdiBjbGFzcz17IHNwZWNpYWwgPyBcIk1lbnVTQnRuXCIgOiBcIk1lbnVCdG5cIn0gb246Y2xpY2s9e29uQ2xpY2t9IG9uOmtleXByZXNzIGRhdGEtYWN0aXZlPXthY3RpdmV9ID5cclxuXHQ8ZGl2IGNsYXNzPVwiTWVudUJ0bkljb25cIj5cclxuXHRcdFgyXHJcblx0PC9kaXY+XHJcblx0PGRpdiBjbGFzcz1cIk1lbnVCdG5UZXh0XCI+XHJcblx0XHQ8IS0taDQ+e3RpdGxlfTwvaDQtLT5cclxuXHRcdDxwPnt0aXRsZX08L3A+XHJcblx0PC9kaXY+XHJcbjwvZGl2PiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIsIG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XHJcbiAgICBpbXBvcnQgTWVudUJ0biBmcm9tIFwiLi9NZW51QnRuLnN2ZWx0ZVwiO1xyXG4gICAgaW1wb3J0IHsgb24gfSBmcm9tIFwiZXZlbnRzXCI7XHJcblxyXG5cdGV4cG9ydCBsZXQgcmVndWxhck9wdGlvbnMgOiBzdHJpbmdbXSA9IFtdXHJcblx0ZXhwb3J0IGxldCBzcGVjaWFsT3B0aW9ucyA6IHN0cmluZ1tdID0gW107XHJcblx0ZXhwb3J0IGxldCBzdGFydENob3NlbiA6IHN0cmluZyA9IFwiXCI7XHJcblx0JDogb3B0aW9ucyA9IHJlZ3VsYXJPcHRpb25zLmNvbmNhdCguLi5zcGVjaWFsT3B0aW9ucyk7XHJcblx0bGV0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XHJcblx0XHJcblx0XHJcblx0bGV0IGJ0bkFyciA6IE1lbnVCdG5bXSA9IFtdO1xyXG5cdGxldCBjaG9zZW4gOiBNZW51QnRuIHwgbnVsbCA9IG51bGw7XHJcblx0ZnVuY3Rpb24gb25CdG5DbGljayggaSApe1xyXG5cdFx0Y29uc3QgYnRuID0gYnRuQXJyW2ldO1xyXG5cdFx0aWYoYnRuID09IGNob3Nlbil7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZihjaG9zZW4pXHJcblx0XHRcdGNob3Nlbi5zZXRBY3RpdmUoZmFsc2UpXHJcblxyXG5cdFx0YnRuLnNldEFjdGl2ZSh0cnVlKTtcclxuXHRcdGNob3NlbiA9IGJ0bjtcclxuXHRcdGRpc3BhdGNoKCdjaGFuZ2VQYWdlJywgb3B0aW9uc1tpXSk7XHJcblx0fVxyXG4gXHJcblx0b25Nb3VudCgoKT0+e1xyXG5cdFx0bGV0IGkgPSBvcHRpb25zLmZpbmRJbmRleCggcCA9PiBwID09IHN0YXJ0Q2hvc2VuICk7XHJcblx0XHRpZihpICE9IC0xKXtcclxuXHRcdFx0b25CdG5DbGljayhpKTtcclxuXHRcdH1cclxuXHR9KVxyXG48L3NjcmlwdD5cclxuPGRpdiBjbGFzcz1cIk1lbnVcIiA+XHJcblx0PGRpdiBjbGFzcz1cIk1lbnVUaXRsZVwiID5cclxuXHRcdDxwPlRUUC1SUEcgU3lzdGVtIERlc2lnbmVyPC9wPlxyXG5cdFx0PGRpdiBjbGFzcz1cImNvbG9yc2NoZW1lXCI+XHJcblx0XHRcdDxkaXY+PC9kaXY+XHJcblx0XHRcdDxkaXY+PC9kaXY+XHJcblx0XHRcdDxkaXY+PC9kaXY+XHJcblx0XHRcdDxkaXY+PC9kaXY+XHJcblx0XHRcdDxkaXY+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQ8L2Rpdj5cclxuXHQ8c2VjdGlvbiBjbGFzcz1cIk1lbnVCdG5Db250YWluZXJcIiA+XHJcblx0XHR7I2VhY2ggb3B0aW9ucyBhcyBvcHQsaSB9XHJcblx0XHRcdDxNZW51QnRuIFxyXG5cdFx0XHRcdHNwZWNpYWw9e3NwZWNpYWxPcHRpb25zLmluY2x1ZGVzKG9wdCl9XHJcblx0XHRcdFx0dGl0bGU9e29wdH1cclxuXHRcdFx0XHRiaW5kOnRoaXM9e2J0bkFycltpXX1cclxuXHRcdFx0XHRvbjpjbGljaz17KCkgPT4gb25CdG5DbGljayhpKX1cclxuXHRcdFx0Lz5cdFxyXG5cdFx0ey9lYWNofVxyXG5cdDwvc2VjdGlvbj5cclxuPC9kaXY+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj4gXHJcblx0aW1wb3J0IHsgZmx5LCBzbGlkZSB9IGZyb20gJ3N2ZWx0ZS90cmFuc2l0aW9uJztcclxuICAgIGltcG9ydCAnLi9hcHAuc2NzcycgIFxyXG4gICAgaW1wb3J0IEhvbWVQYWdlIGZyb20gJy4uLy4uL0Jyb3dzZXJVSS9MYXlvdXQwMS9WaWV3cy9QYWdlL0hvbWVQYWdlLnN2ZWx0ZSc7XHJcbiAgICBpbXBvcnQgU3lzdGVtUGFnZSBmcm9tICcuLi8uLi9Ccm93c2VyVUkvTGF5b3V0MDEvVmlld3MvUGFnZS9TeXN0ZW1QYWdlLnN2ZWx0ZSc7XHJcbiAgICBpbXBvcnQgeyBUVFJQR1N5c3RlbUpTT05Gb3JtYXR0aW5nIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL01vZHVsZXMvRGVzaWduZXIvaW5kZXgnIDsvLyAnLi4vLi4vLi4vLi4vLi4vc3JjL01vZHVsZXMvRGVzaWduZXInOyBcclxuICAgIGltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcclxuXHRpbXBvcnQgeyBTeXN0ZW1QcmV2aWV3IH0gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL01vZHVsZXMvT2JzaWRpYW5VSUNvcmUvbW9kZWwvc3lzdGVtUHJldmlldyc7XHJcblx0aW1wb3J0IE1lbnUgZnJvbSAnLi4vLi4vQnJvd3NlclVJL0xheW91dDAxL1ZpZXdzL01lbnUvTWVudS5zdmVsdGUnO1xyXG4gICAgaW1wb3J0IHsgTGF5b3V0MDFDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0JztcclxuXHJcblx0bGV0IHBhZ2UgPSB3cml0YWJsZSggJ3N5c3RlbScpO1xyXG5cdGV4cG9ydCBsZXQgY29udGV4dFx0OiBMYXlvdXQwMUNvbnRleHQ7IFxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNoYW5nZVBhZ2UoIGV2ZW50ICl7XHJcblx0XHRwYWdlLnNldChldmVudC5kZXRhaWwpOyBcclxuXHRcdGNvbnNvbGUubG9nKCdjaGFuZ2VQYWdlICcgKyBwYWdlKTtcclxuXHR9XHJcblxyXG4gPC9zY3JpcHQ+XHJcbjxkaXYgY2xhc3M9XCJNYWluQXBwQ29udGFpbmVyXCIgPlxyXG5cdFxyXG5cdDwhLS0gTWVudSAtLT5cclxuXHQ8TWVudSBcclxuXHRcdHJlZ3VsYXJPcHRpb25zPXtbJ2hvbWUnLCdzeXN0ZW0nLCdkYXRhIHRhYmxlcycsJ2V4cG9ydCcsJ2ltcG9ydCddfVxyXG5cdFx0b246Y2hhbmdlUGFnZT17Y2hhbmdlUGFnZX1cclxuXHRcdHN0YXJ0Q2hvc2VuPXskcGFnZX1cdFxyXG5cdC8+XHJcblx0XHJcblx0PHNlY3Rpb24gY2xhc3M9XCJNYWluQXBwQ29udGFpbmVyUGFnZXNcIj5cclxuXHRcdHsjaWYgXHRcdCRwYWdlID09ICdob21lJ31cclxuXHRcdFx0PGRpdiBpbjpmbHk9e3t4OjEwMH19IG91dDpmbHk9e3t4Oi0xMDB9fSA+XHJcblx0XHRcdFx0PCEtLUhvbWVQYWdlIC8tLT5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHR7OmVsc2UgaWZcdCRwYWdlID09ICdzeXN0ZW0nfVxyXG5cdFx0XHQ8ZGl2IGluOmZseT17e3g6MTAwfX0gb3V0OmZseT17e3g6LTEwMH19ID5cclxuXHRcdFx0XHQ8U3lzdGVtUGFnZVxyXG5cdFx0XHRcdFx0Y29udGV4dCA9IHtjb250ZXh0fVxyXG5cdFx0XHRcdC8+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0ezplbHNlIGlmXHQkcGFnZSA9PSAnaG9tZTEnfVxyXG5cdFx0XHQ8cD4xPC9wPlxyXG5cdFx0ezplbHNlIGlmXHQkcGFnZSA9PSAnaG9tZTInfVxyXG5cdFx0XHQ8cD4xPC9wPlxyXG5cdFx0ezplbHNlIGlmXHQkcGFnZSA9PSAnaG9tZTMnfVxyXG5cdFx0XHQ8cD4xPC9wPlxyXG5cdFx0ey9pZn1cclxuXHQ8L3NlY3Rpb24+XHJcbjwvZGl2PlxyXG4gIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuXHRpbXBvcnQgRGVzaWduZXIgZnJvbSAnLi4vLi4vLi4vc3JjL01vZHVsZXMvQnJvd3NlclVJL0xheW91dDAxL2FwcC5zdmVsdGUnO1xyXG4gICAgaW1wb3J0IHsgTGF5b3V0MDFDb250ZXh0IH0gZnJvbSAnLi9MYXlvdXQwMS9jb250ZXh0JztcclxuXHRsZXQgY29udGV4dFx0OiBMYXlvdXQwMUNvbnRleHQgPSBuZXcgTGF5b3V0MDFDb250ZXh0KCk7IFxyXG5cclxuPC9zY3JpcHQ+XHJcbjxkaXY+XHJcblx0PERlc2lnbmVyIFxyXG5cdFx0Y29udGV4dCA9IHtjb250ZXh0fVxyXG5cdC8+XHJcbjwvZGl2PiIsIlxyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwLnN2ZWx0ZSdcclxuXHJcbmNvbnN0IGFwcCA9IG5ldyBBcHAoe1xyXG4gIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpISxcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcFxyXG4iXSwibmFtZXMiOlsieCIsImZuIiwiZm5zIiwidGhpbmciLCJhIiwiYiIsIm9iaiIsInN0b3JlIiwiY2FsbGJhY2tzIiwidW5zdWIiLCJjb21wb25lbnQiLCJjYWxsYmFjayIsInZhbHVlIiwic3BsaXQiLCJjYiIsIm5vdyIsInRhc2siLCJmdWxmaWxsIiwibG93IiwiaGlnaCIsImtleSIsIm1pZCIsInRhcmdldCIsImNoaWxkcmVuIiwibXlDaGlsZHJlbiIsImkiLCJub2RlIiwibSIsInAiLCJsb25nZXN0IiwiY3VycmVudCIsInNlcUxlbiIsImlkeCIsIm5ld0xlbiIsImxpcyIsInRvTW92ZSIsImxhc3QiLCJjdXIiLCJqIiwiYW5jaG9yIiwicm9vdCIsInN0eWxlX2VsZW1lbnQiLCJzdHlsZSIsIml0ZXJhdGlvbnMiLCJkZXRhY2hpbmciLCJuYW1lIiwiZGF0YSIsImV2ZW50IiwiaGFuZGxlciIsIm9wdGlvbnMiLCJhdHRyaWJ1dGUiLCJlbGVtZW50Iiwibm9kZXMiLCJwcmVkaWNhdGUiLCJwcm9jZXNzTm9kZSIsImNyZWF0ZU5vZGUiLCJkb250VXBkYXRlTGFzdEluZGV4IiwicmVzdWx0Tm9kZSIsInJlcGxhY2VtZW50IiwiYXR0cmlidXRlcyIsImNyZWF0ZV9lbGVtZW50IiwicmVtb3ZlIiwidiIsImRhdGFTdHIiLCJ0ZXh0IiwiYXR0cl92YWx1ZSIsImltcG9ydGFudCIsInR5cGUiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImUiLCJzdHIiLCJoYXNoIiwiZG9jIiwiaW5mbyIsImR1cmF0aW9uIiwiZGVsYXkiLCJlYXNlIiwidWlkIiwic3RlcCIsImtleWZyYW1lcyIsInQiLCJydWxlIiwic3R5bGVzaGVldCIsInJ1bGVzIiwiYW5pbWF0aW9uIiwicHJldmlvdXMiLCJuZXh0IiwiYW5pbSIsImRlbGV0ZWQiLCJvd25lck5vZGUiLCJzYXZlZF9jb21wb25lbnQiLCIkJCIsImRpcnR5IiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwiYyIsImRpcmVjdGlvbiIsImtpbmQiLCJibG9jayIsImxvY2FsIiwiZGV0YWNoIiwicGFyYW1zIiwiY29uZmlnIiwicnVubmluZyIsImFuaW1hdGlvbl9uYW1lIiwiY2xlYW51cCIsImdvIiwiZWFzaW5nIiwidGljayIsImNzcyIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsInN0YXJ0ZWQiLCJncm91cCIsInJlc2V0IiwiaW50cm8iLCJydW5uaW5nX3Byb2dyYW0iLCJwZW5kaW5nX3Byb2dyYW0iLCJjbGVhcl9hbmltYXRpb24iLCJpbml0IiwicHJvZ3JhbSIsImQiLCJsb29rdXAiLCJvbGRfYmxvY2tzIiwiZ2V0X2tleSIsImR5bmFtaWMiLCJjdHgiLCJsaXN0IiwiZGVzdHJveSIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwiZ2V0X2NvbnRleHQiLCJvIiwibiIsIm9sZF9pbmRleGVzIiwibmV3X2Jsb2NrcyIsIm5ld19sb29rdXAiLCJkZWx0YXMiLCJ1cGRhdGVzIiwiY2hpbGRfY3R4Iiwid2lsbF9tb3ZlIiwiZGlkX21vdmUiLCJpbnNlcnQiLCJuZXdfYmxvY2siLCJvbGRfYmxvY2siLCJuZXdfa2V5Iiwib2xkX2tleSIsInBhcmVudF9ub2RlcyIsImN1c3RvbUVsZW1lbnQiLCJmcmFnbWVudCIsImFmdGVyX3VwZGF0ZSIsIm5ld19vbl9kZXN0cm95IiwiaW5zdGFuY2UiLCJjcmVhdGVfZnJhZ21lbnQiLCJub3RfZXF1YWwiLCJwcm9wcyIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJyZXN0IiwiaW5kZXgiLCIkJHByb3BzIiwiZiIsImxpbmVhciIsInkiLCJvcGFjaXR5IiwidGFyZ2V0X29wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJvZCIsInhWYWx1ZSIsInhVbml0IiwieVZhbHVlIiwieVVuaXQiLCJ1IiwiYXhpcyIsInByaW1hcnlfcHJvcGVydHkiLCJwcmltYXJ5X3Byb3BlcnR5X3ZhbHVlIiwic2Vjb25kYXJ5X3Byb3BlcnRpZXMiLCJjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllcyIsInBhZGRpbmdfc3RhcnRfdmFsdWUiLCJwYWRkaW5nX2VuZF92YWx1ZSIsIm1hcmdpbl9zdGFydF92YWx1ZSIsIm1hcmdpbl9lbmRfdmFsdWUiLCJib3JkZXJfd2lkdGhfc3RhcnRfdmFsdWUiLCJib3JkZXJfd2lkdGhfZW5kX3ZhbHVlIiwiX18iLCJzIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJyIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsImN0b3IiLCJkZXNjcmlwdG9ySW4iLCJjb250ZXh0SW4iLCJpbml0aWFsaXplcnMiLCJleHRyYUluaXRpYWxpemVycyIsImFjY2VwdCIsImRlc2NyaXB0b3IiLCJfIiwiZG9uZSIsImNvbnRleHQiLCJyZXN1bHQiLCJ0aGlzQXJnIiwidXNlVmFsdWUiLCJwcmVmaXgiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiYm9keSIsImciLCJ2ZXJiIiwib3AiLCJrIiwiazIiLCJhciIsImVycm9yIiwiaWwiLCJqbCIsInRvIiwiZnJvbSIsInBhY2siLCJsIiwicSIsImF3YWl0UmV0dXJuIiwicmVzdW1lIiwic2V0dGxlIiwiY29va2VkIiwicmF3IiwibW9kIiwicmVjZWl2ZXIiLCJzdGF0ZSIsImVudiIsImFzeW5jIiwiZGlzcG9zZSIsImlubmVyIiwic3VwcHJlc3NlZCIsIm1lc3NhZ2UiLCJmYWlsIiwic3ZnIiwiY2lyY2xlIiwibGluZTAiLCJsaW5lMSIsImNvbG9yIiwidF92YWx1ZSIsImRpdjBfaW5wdXRfaGFuZGxlciIsImRpdjEiLCJkaXYxX2RhdGFfc2VsZWN0ZWRfdmFsdWUiLCJkaXYwIiwiaWZfYmxvY2siLCJjcmVhdGVfaWZfYmxvY2siLCJkaXYiLCJpc0VkaXRhYmxlQ29udGFpbmVyIiwiY29sbGVjdGlvbiIsIm9uU2VsZWN0Iiwib25BZGQiLCJkaXNwYXRjaCIsInNlbGVjdGVkIiwiZGVzZWxlY3QiLCJfY29sbGVjdGlvbiIsIiQkaW52YWxpZGF0ZSIsInNlbGVjdCIsIml0ZW0iLCJfb25TZWxlY3QiLCJpc1NlbGVjdGVkIiwiX29uQWRkIiwiY2xpY2tfaGFuZGxlciIsIl9hIiwic3RhcnQiLCJzdG9wIiwic3Vic2NyaWJlcnMiLCJzZXQiLCJuZXdfdmFsdWUiLCJydW5fcXVldWUiLCJzdWJzY3JpYmVyIiwidXBkYXRlIiwic3Vic2NyaWJlIiwicnVuIiwiaW52YWxpZGF0ZSIsIm1zZyIsIkpTT05fVEFHUyIsIkpTT05fQkFTRVRZUEVTIiwiUmVmbGVjdCIsInByb3RvdHlwZSIsImNyZWF0ZSIsInNjaGVtZSIsIm1ldGFUYWciLCJwcm9wZXJ0eUtleSIsImtleXMiLCJvcHRpb24iLCJzY2hlbWVzIiwib3V0ZnVuYyIsImNvbCIsImluZnVuYyIsIm1lc3NhZ2VBZGRvbiIsIkpTT05IYW5kbGVyIiwiT2JqZWN0TWV0YSIsInBhcmVudE5hbWUiLCJwcm9wZXJ0eU5hbWVzIiwiX2xvb3BfMSIsIm1ldGEiLCJQcm9wZXJ0eU5hbWUiLCJ0eXBlZGNvbnZlcnNpb24iLCJzZXIiLCJza2lwRm9yY2VUeXBlIiwiZHVyaW5nIiwiYmVmb3JlIiwib3V0Iiwib3V0RnVuY3Rpb25fMSIsIl9vdXRGIiwibzEiLCJvMiIsIm8zIiwiX2xvb3BfMiIsInR5cGVrZXlfMSIsImNvbnZGdW5jIiwidGVtcCIsIm5ld291dCIsImlfMSIsImpzb24iLCJ3cml0ZU91dCIsImFyciIsInR5cGVrZXkiLCJpbnB1dCIsIm51bWJlclZhbHVlIiwiX2xvb3BfMyIsImluS2V5IiwiY29uc3RyIiwiaW5GdW5jdGlvbiIsInJlcyIsImNvbnZlcnRfMSIsImNvbnZlcnQyIiwidHlwZUtleSIsInNvdXJjZSIsInByb3RvdHlwZTEiLCJwcm90b3R5cGUyIiwiS2V5TWFuYWdlcl8xIiwiS2V5TWFuYWdlciIsIm51bSIsIkFHcmFwaEl0ZW1fMSIsInJlcXVpcmUkJDAiLCJBR3JhcGhJdGVtIiwidHNsaWJfMSIsInJlcXVpcmUkJDEiLCJHcm9iRGVyaXZlZE9yaWdpbiIsIl9zdXBlciIsIkdyb2JOb2RlIiwia2V5c3RhcnQiLCJwYXJlbnQiLCJfdGhpcyIsInNlZ3MiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwic2VnIiwiY3VyciIsIm9sZG5hbWUiLCJkZXAiLCJkZXBlbmRlbmN5IiwibGlzdGVuZXIiLCJHcm9iRml4ZWROb2RlIiwib3JpZyIsInN5bWJvbCIsInN0YW5kYXJkVmFsdWUiLCJvcmlnaW4iLCJub2RlS2V5IiwiaGFkTnVsbE9yaWdpbiIsIm9yaWdpbnNXaXRoTGlua3MiLCJvcmlnaW5SZXMiLCJzeW1ib2xzVG9SZW1fMSIsInN5bWJvbHNUb0FkZCIsIm9sZERlcGVuZGVuY2llc18xIiwibmV3RGVwZW5kZW5jaWVzXzEiLCJjYWxjIiwidXBkYXRlT3JpZ2lucyIsInRlc3RDYWxjIiwiY2FsY1ZhbHVlIiwic3ltYm9scyIsImV4aXN0aW5nS2V5c0FycmF5Iiwic3ltYm9sc1RvUmVtIiwidXNlVGVtcFZhbHVlcyIsInJlYyIsInN0YXRlbWVudCIsInN5bWJvbHNUb1ZhbHVlIiwibWFwVmFsdWVUb1N5bWJvbCIsInN1Y2Nlc3MiLCJHcm9iQ29sbGVjdGlvbl8xIiwiR3JvYkNvbGxlY3Rpb24iLCJvbGROYW1lIiwibmV3TmFtZSIsIkdyb2JHcm91cF8xIiwiR3JvYkdyb3VwIiwibmFtZV8xIiwiVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWxfMSIsIklPdXRwdXRIYW5kbGVyXzEiLCJyZXF1aXJlJCQyIiwiVFRSUEdTeXN0ZW1HcmFwaEFic3RyYWN0TW9kZWwiLCJnXzEiLCJncCIsIlRUUlBHU3lzdGVtR3JhcGhNb2RlbF8xIiwicmVxdWlyZSQkMyIsIlRUUlBHU3lzdGVtR3JhcGhNb2RlbCIsImdycCIsImNvbE5hbWUiLCJfY29sIiwiZ3JwTmFtZSIsImVycm9yTWVzc2FnZXMiLCJrZXlfZ3JvdXAiLCJrZXlfY29sbGVjdGlvbiIsImtleV9ub2RlIiwiY29sbGVjdGlvbk5hbWVzIiwibm9kZU5hbWVzIiwiaXNWYWxpZCIsImNvbEluZGV4Iiwibm9kZUluZGV4IiwiZXhwb3J0cyIsIkdyb2JOb2R0ZV8xIiwicmVxdWlyZSQkNCIsInV1aWR2NCIsIl9fcHVibGljRmllbGQiLCJrZXlNYW5hZ2VySW5zdGFuY2UiLCJfX2RlY29yYXRlQ2xhc3MiLCJzZWxmIiwiYXJncyIsIkdyb2JEZXJpdmVkTm9kZSIsIlRUUlBHU3lzdGVtIiwiZGVmdWFsdFZhbHVlcyIsImNvbEtleXMiLCJjb2xLZXkiLCJub2RlS2V5cyIsImdyb3VwX2tleSIsImNvbF9rZXkiLCJub2RlX2tleSIsIl9TZXJ2ZXIiLCJjYWxsIiwidXJsIiwiX29iamVjdCIsInJlc3BvbnNlIiwic2VydmVyUmVzcCIsIm9ianMiLCJfaCIsIl9nIiwiX2oiLCJfaSIsIl9sIiwiX2siLCJfbiIsIl9tIiwiZGl2MjAiLCJzZWN0aW9uIiwiZGl2MTgiLCJkaXYyIiwiZGl2NSIsImRpdjMiLCJkaXY0IiwiZGl2OCIsImRpdjYiLCJkaXY3IiwiZGl2MTEiLCJkaXY5IiwiZGl2MTAiLCJkaXYxNCIsImRpdjEyIiwiZGl2MTMiLCJkaXYxNyIsImRpdjE1IiwiZGl2MTYiLCJiciIsImRpdjE5IiwidDIiLCJ0Ml92YWx1ZSIsInQ2IiwidDZfdmFsdWUiLCJ0MTAiLCJ0MTBfdmFsdWUiLCJ0MTQiLCJ0MTRfdmFsdWUiLCJ0MTgiLCJ0MThfdmFsdWUiLCJ0MjIiLCJ0MjJfdmFsdWUiLCJlZGl0YWJsZWxpc3RfY2hhbmdlcyIsImF2YWlsU3lzdGVtcyIsIm51bGxwcmV2aWV3IiwiYWN0aXZlUHJldmlldyIsImxvYWRBbGxTeXN0ZW1zIiwidW5sb2FkUHJldmlldyIsIm9uU2VsZWN0U3lzdGVtIiwicHJlIiwic3BlY2lhbCIsInRpdGxlIiwiYWN0aXZlIiwic2V0QWN0aXZlIiwib25DbGljayIsImVhY2hfYmxvY2tzIiwicmVndWxhck9wdGlvbnMiLCJzcGVjaWFsT3B0aW9ucyIsInN0YXJ0Q2hvc2VuIiwiYnRuQXJyIiwiY2hvc2VuIiwib25CdG5DbGljayIsImJ0biIsIiQkdmFsdWUiLCJkaXZfaW50cm8iLCJkaXZfb3V0cm8iLCJwYWdlIiwiY2hhbmdlUGFnZSJdLCJtYXBwaW5ncyI6IjJNQUFBLFNBQVMsTUFBTyxDQUFHLENBQ25CLE1BQU0sU0FBV0EsR0FBS0EsRUFpQnRCLFNBQVMsSUFBSUMsRUFBSSxDQUNiLE9BQU9BLEVBQUUsQ0FDYixDQUNBLFNBQVMsY0FBZSxDQUNwQixPQUFPLE9BQU8sT0FBTyxJQUFJLENBQzdCLENBQ0EsU0FBUyxRQUFRQyxFQUFLLENBQ2xCQSxFQUFJLFFBQVEsR0FBRyxDQUNuQixDQUNBLFNBQVMsWUFBWUMsRUFBTyxDQUN4QixPQUFPLE9BQU9BLEdBQVUsVUFDNUIsQ0FDQSxTQUFTLGVBQWVDLEVBQUdDLEVBQUcsQ0FDMUIsT0FBT0Qs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
