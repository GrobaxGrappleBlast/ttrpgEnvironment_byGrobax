<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Svelte + TS</title>
  </head>
  <body>
    <div id="app"></div>
	<link rel="stylesheet" href="http://localhost:5000/api/template/d4202be1-0313-4d3c-87c6-ebe5f23542ec/UITemplateName/style.css">
	<!--link rel="stylesheet" href="/dist/style.css"-->
	<script type="module">
		
		let _JSON = `{
						"data": [
							{
								"data": []
							},
							{
								"data": [
									{
										"data":[
											{
												"type":"HitPoints",
												"data":"{}"
											},
											{
												"type":"ProficiencyBonus",
												"data":"{}"	
											},
											{
												"type":"SpellInfo",
												"data":"{}"
											}
										]
									},
									{
										"data":[
											{
												"type":"SkillProficiencies",
												"data":"{}"
											}
										]
									}
								]
							},
							{ 
								"data": [
									{
										"data":[
											{
												"type":"Stats",
												"data":"{}"
											},
											{}
										]
									}
								]
							}
						]
					}
				`; 
		
		
		
		import {system} from './declaration.js'
		const sys = new system(); 
		sys.getNode('fixed','stats','charisma')		.setValue(10 )	;
		sys.getNode('fixed','stats','constitution')	.setValue(10 +2);
		sys.getNode('fixed','stats','dexterity')	.setValue(10 +4);
		sys.getNode('fixed','stats','intelligence')	.setValue(10 +6);
		sys.getNode('fixed','stats','strength')		.setValue(10 +2);
		sys.getNode('fixed','stats','wisdom')		.setValue(10 +4);
		let _ = sys.getNodeNames('fixed','SkillProficiencies');
		for (let i = 0; i < _.length; i++) {
			const key = _[i];
			const prof = Math.floor(Math.random() * 3);

			sys.getNode('fixed','SkillProficiencies',key).setValue(prof)
		}
		sys.getNode('fixed','generic','Proficiency Bonus').setValue(2);
		sys.getNode('fixed','generic','Hit Points').setValue(2); 
		
		// sys:sys, 
		// writeBlock:(a,b)=>{console.log('SAVED')}
 
		

		const d = await import('http://localhost:5000/api/template/d4202be1-0313-4d3c-87c6-ebe5f23542ec/UITemplateName/index.es.js');
		//const d = await import('/dist/index.es.js');
		const App = d.default;
		const app = new App(
			{
				target:	document.getElementById('app'),
				props:{
						textData: "{}"
					}	
			}
		)
		 
		

	</script>
	</body>
</html>
